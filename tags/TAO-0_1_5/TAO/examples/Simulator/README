$ mk1$

Documentation for the Simulator

Purpose: To show how the event service can be used to as a media to 
         transport monitoring events including data. 

Application: The events contain C++ structs with avionics information.
             They are supllied by sensors of an avionic and are
             consumed by an JAVA applet running on a different machine and/or
             location.

Implementation: A C++ Supplier pushes events containing a
            navigation or weapons struct to the Event Service.
            The Event Service dispatches the events to any number of
            Consumers which are implemented in JAVA. The JAVA
            consumer extracts the data of the structs and dispatches
            it to various display components.


Requirements: 
           C++ compiler, TAO environment, Visibroker 3.1 for JAVA

Files:
     Common:
        ss   - restart Naming Service, connect the Event Service and
               Scheduling service with this Naming Service
        NavWeap.idl - IDL definition of the Weapons and Navigation struct
        README - this readme file

     Supplier:
        Event_Sup.cpp - Event Supplier
        Event_Sup.h   - Event Supplier class definition
        Makefile      - Event Supplier Makefile
        (Event_Con.cpp, Event_Con.h - Event Consumer for testing)
	svc.conf - helper file


     Consumer, Simulator:
        Display.java  - Simulation 
        Display_Client.java - Main Entry point of the Simulation
        Display_Consumer.java - Event Consumer
        Display_Object.java - Interface for an Display_Object
        Display_Weapons.java - Implementation of an Display_Object
        Display_Art_Horizon.java - Implementation of an Display_Object
        Display_Object_Factory.java - Factory Object for Display_Objects
        Graph.java - Simulation
        Graph_Panel.java - Simulation
        NS_Resolve.java - Resolving the inital reference to the Naming Service
        Queue.java - Simulation
        Sim_Panel.java - Simulation
        Border_Panel.java - Simulation



Compiling:
    Supplier: (../Simulator/Event_Supplier/.)
       cp ../NavWeap.idl .
       "make sure that the following definition is in the 
          $TAO_ROOT/orbsvcs/orbsvcs/RtecEventComm.idl
              
           struct EventData {
                long x;
                long y;
                any any_value;
            };

         compile the $TAO_ROOT/orbsvcs/orbsvcs directory
         change $TAO_ROOT/orbsvcs/orbsvcs/RtecEventCommC.h to
             
            struct EventData
            {
               CORBA::Long x;
               CORBA::Long y;
               CORBA::Any any_value;
            };
         This was neccessary because of a bug in the IDL compiler
         compile the $TAO_ROOT/orbsvcs/orbsvcs directory again
         compile the $TAO_ROOT/orbsvcs/EventService directory"

       tao_idl NavWeap.idl
       make




    Consumer, Simulator: (../Simulator/Sim_Display/.)
       cp ../NavWeap.idl .
       cp $TAO_ROOT/orbsvcs/orbsvcs/CosNaming.idl .
       cp $TAO_ROOT/orbsvcs/orbsvcs/CosTimeBase.idl . 
       cp $TAO_ROOT/orbsvcs/orbsvcs/RtecEventChannelAdmin.idl . 
       cp $TAO_ROOT/orbsvcs/orbsvcs/RtecEventComm.idl . 
       cp $TAO_ROOT/orbsvcs/orbsvcs/RtecScheduler.idl .
       idl2java NavWeap.idl
       idl2java CosNaming.idl
       idl2java CosTimeBase.idl
       idl2java RtecEventChannelAdmin.idl
       idl2java RtecEventComm.idl
       idl2java RtecScheduler.idl

       vbjc *.java
       

Starting:

     Supplier:
       Event_Sup -ORBport 10040

     Simulation 
       vbj Display_Client 
