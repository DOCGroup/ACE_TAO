PLANNED MAJOR CHANGES "SOMETIME IN THE FUTURE" (i.e., exact beta not known)
===========================================================================

PLANNED MAJOR CHANGES TARGETED FOR ACE-5.4.4
====================================================

. The ace-config script has been replaced by pkg-config metadata files
  which are installed in ${prefix}/lib/pkgconfig by the automake build.

. Remove ACE_OS::gets() implementation.  While this ACE implementation
  of gets() did not contain the security holes that all standard
  gets() implementations have, keeping it around only serves to foster
  confusion since (1) some may incorrectly assume that this
  ACE-specific gets() implementation has the same holes as standard
  ones, and (2) invoking it with a default size argument so that it
  looks like a standard gets() call results in behavior that is
  different from the standard.  Use ACE_OS::fgets() instead.

. Removed ACE_Unbounded_Set_Ex, this gave the false idea that it had
  thread safe iterators. Use ACE_Unbounded_Set instead

. Improved VxWorks support

USER VISIBLE CHANGES BETWEEN ACE-5.4.2 and ACE-5.4.3
====================================================

. Improved Cygwin 1.5.12 support, 90% of the tests now succeed

. Improved OpenVMS support.

. Added ability to use fltk with Cygwin/MinGW

. Added ACE_INT64 that defines a native 64 bit type.

. Added 'q' as usable specifier for ACE_Log_Msg to print out int64 bit number.

. Added better support for Intel C++ compilers.

. Improved HPUX support.

. Added a new directory ("ACE_wrappers/protocols/ace") for new protocols
  that are not directly components of ACE, but are relate to ACE and
  defined a new protocol, HTBP (Hypertext Tunneling, Bidirectional
  Protocol) providing ACE_Acceptor/Connector/Stream semantics over a
  connection owned by an HTTP proxy. Test cases in
  ACE_wrappers/tests/HTBP provide examples of use.

. Performace enhancement in TP_Reactor's handle_timer_events method [Bug
  1971].

. Various changes to permit ACE to execute on HP NonStop platform (e.g
  support for its pthreads version).

. Updated HP NonStop configuration files (config-tandem-nsk).

. The "ACE" pseudo-namespace is now a true C++ namespace.  Transitional
  pseudo-namespaces that were only meant to be used internally by ACE,
  such as "ACE_Sock_Connect", no longer exist.

. ACE_CDR::Boolean type is now a true C++ "bool" on all platforms except
  MSVC++ 6.  We plan to deprecate MSVC++ 6 support sometime after the
  x.5 release of ACE+TAO+CIAO, so we recommend you start migrating to a
  later version of MSVC++.

. More GNU g++ 3.4.x fixes.

. Added ICMP and "ping" socket support.

. Added mkstemp() emulation.

. Fixed problem on Linux < 2.5.47 platforms where equality comparison of
  two logically equal sockaddr_in structure instances would incorrectly
  fail.

. Support for wide characters has been improved on non-Windows
  platforms.

. A number of Windows CE problems have been fixed.

. ACE's loading of DLLs (for example, as a result of loading synamic
  services) has been changed to use the native OS's facilities for
  locating the DLL instead of searching LD_LIBRARY_PATH (or its
  equivalent) then loading the DLL using a full pathname. This restores
  enforcement of a platform's loading and security policy.  To use the
  old DLL locating method, add ACE_MUST_HELP_DLOPEN_SEARCH_PATH to your
  config.h file before building ACE.

. A number of errors in the APG example programs have been corrected.

. Select_Reactor and Priority_Reactor performance improved. [Bug 1890]

. Wide-char functionality on POSIX (Linux, etc.)

. TSS memory leak fixes [Bug 1542]

. Ported to HPUX 11i v2 on Itanium

. Added code to ACE for platform RedHat AS 3.0 on Opteron.

. Changed ACE::crc32() family of functions to NOT fold in the length of
  the string/buffer/iovec into the CRC.


USER VISIBLE CHANGES BETWEEN ACE-5.4.1 and ACE-5.4.2
====================================================

. Support for g++ 3.4.1.

. All ACE Makefiles, project files, etc, are now generated by OCI's
  "MakeProjectCreator" (MPC) tool.  Makefiles and project files for
  commonly used configurations have been pre-generated and distributed
  with the beta(s).  Please see:

  $ACE_ROOT/ACE-INSTALL.html

  for information on how to use MPC with ACE.

. Improved Doxygen documentation.

. Reduced header file dependencies, which should speedup compilation
  and help minimize static footprint.

. ACE now requires support for the following standard C++ features:

  - "bool" keyword

  - "mutable" keyword

  - "explicit" keyword

  - C++ casts (e.g. static_cast<>, reinterpret_cast<>, dynamic_cast<>
    and const_cast<>)

  If you're using a compiler that does NOT support these features
  please contact Steve Huston <shuston@riverace.com> for support.

. Changed the select()-based reactor implementations to scan for
  broken handles to remove based on the registered handles, not on
  event handlers.  This allows for bad handles to be removed from the
  reactor even if the event handler doesn't implement get_handle() the
  way we expect.

. Support for Pthreads native recursive mutexes was added. This
  capability is specified to ACE_OS::mutex_init() as an optional
  argument, lock_type. To fix confusion from an earlier attempt to add
  this functionality, the meaning of the old 'type' argument to
  ACE_OS::thread_mutex_init() is changed. It previously combined the
  scope and type. Now it is just the type (e.g. recursive), as the
  scope is inherent in the method used. For clarification on
  ACE_HAS_RECURSIVE_MUTEXES, it means that the platform is capable of
  them, not that they always are, as one would expect. However, before
  Pthreads had recursion added, it was never optional. Now it is.

. Initial support for new Linux sys_epoll() interface in
  Dev_Poll_Reactor.  The obsolete Linux /dev/epoll interface is no
  longer supported.

. Improved Cygwin support.
  - Threading works without problems.
  - Problems with shared memory, process shared mutexes, multicast and
    some other small things still exist.

. New OpenVMS port.
  -  This is for the latest version of OpenVMS with all available ECOs
     applied. Basic stuff works without problems.  Advanced features
     still need some work.

. Usage of ASYS_INLINE is deprecated in ACE.  Use ACE_INLINE instead.

. All inline source files now end in ".inl".  The previous ".i"
  extension is generally used for preprocessed C sources.

. Autoconf support has been improved and fixed on a number of
  platforms, including the BSD variants (e.g. FreeBSD).  It is still
  not the preferred way to configure most platforms, but it is ready
  for wider testing. Please report any problems found to
  ace-bugs@cs.wustl.edu.

. A number of fixes were made to quiet compile errors and warnings on
  64-bit Windows.

. For builds on AIX using Visual Age C++, the make rtti option default
  was changed to 1, enabling RTTI by default.

. ACE_Service_Repository::remove() has a new, optional argument that
  can receive the service record pointer for the removed service. If
  the pointer is returned to the caller, it is not deleted. If the
  pointer is not returned to the caller (the default) it is deleted
  (this is the historic behavior).

. The tutorials in ACE_wrappers/docs have been removed. They were not
  being maintained and caused confusion in a number of cases. Now that
  there are complete examples that match the printed books (C++NPv1,
  C++NPv2, APG), the older tutorials are no longer useful.  Please see

  $ACE_ROOT/examples/C++NPv1/
  $ACE_ROOT/examples/C++NPv2/
  $ACE_ROOT/examples/APG/

  for the source code of the examples in those books.

. ACE_String_Base::fast_clear() is a new method which sets the string
  length to 0. Doesn't release string-allocated memory, but if the
  memory was externally supplied, it is no longer referenced from the
  string object.

. A true C++ "bool" is now used as the CDR stream boolean type, if
  supported by the compiler.

. Renamed AIX 5L configuration header from config-aix5.1.h to
  config-aix-5.x.h.

. All C++ equality, relational and logical operators now return bool
  instead of int, as is the norm for modern C++.

. Added new ACE_OS::realpath() implementation.  Contributed by Olli
  Savia  <ops at iki dot fi>


USER VISIBLE CHANGES BETWEEN ACE-5.4 and ACE-5.4.1
====================================================

ACE
---

. Fixed "make install" support in ACE+autoconf configurations.

. Fixed autoconf support on Solaris.

. Corrected invalid `aux' directory (on MS Windows) found in ACE
  distribution.

. ACE/TAO build now without problems with MinGW and all ACE tests run
  now without problems

. Added some more support for the new CBuilderX Preview compiler, this
  is not 100% ready yet because the compiler is still a preview and
  has its own problems.

. Added Visual SlickEdit 8.1 MPC template

. Added workaround for compile problems in Borland Release builds

. Cygwin 1.5.9 is now supported

. Tests for IPV6 have been added

. Implement lstat() so that it'll use stat() on platforms that don't
  support lstat().

. Problems related to ACE_Event_Handler usage in WFMO_Reactor was
  fixed.

. A wrapper for rmdir () has been added.

. Threads spawned in thread-per-connection mode never inherited the
  priority. This problem was fixed and this fix is consistent with the
  C++ NPV* books.

. Fixed memory leaks with ACE_String_Base::resize ()

. Enable the usage of native recursive mutexes for the implementation
  of ACE recursive mutexes on Linux.

. The ACE Proactor framework can now be enabled for AIX 5.2. Since AIO
  functionality is not run-time enabled by default on AIX 5.2, the ACE
  Proactor code is not built by default on AIX. To enable it, the
  config.h file must contain #define ACE_HAS_AIO_CALLS before
  including the config-aix-5.1.h file.

. The ACE_POSIX_CB_Proactor implementation is now built on all
  platforms except LynxOS.


USER VISIBLE CHANGES BETWEEN ACE-5.3.6 and ACE-5.4
==================================================

ACE:
---
. Added a new makefile commandline flag, static_link, that can be
  used to force static linking when static_libs_only is turned on. It
  uses the new STATIC_LINK_FLAG variable and is currently only
  implemented for for GNU ld, i.e., it adds the "-static" option to
  LDFLAGS. It's turned off by default since using it causes the
  footprint to go up by almost 1 MB on Linux, since it links all the
  system and compiler .a files, but can be turned on if users
  want/need to use it, by enabling both static_libs_only and static_link.


. Added macros ACE_USES_GPROF which enables users to use gprof in a
  multithreaded environment with ACE libs.

. Added a new functor template class, ACE_Malloc_Lock_Adapter_T,
  that's used by ACE_Malloc_T as a factory for the ACE_LOCK template
  parameter, and allows the use of locking strategy classes, like
  ACE_Process_Semaphore and ACE_Thread_Semaphore that don't have a
  satisfactory ctor taking a single required ACE_TCHAR* parameter, to
  be adapted to work with ACE_Malloc_T.

. The source code examples from "The ACE Programmer's Guide" book by
  Huston, Syyid, and Johnston, are now located in
  $ACE_ROOT/examples/APG.

. Support for GNU autoconf is now in ACE. Please see ACE-INSTALL.html
  for details.

. Fixed problems that prevented ACE from being compiled on LynxOS
  4.0.0.

. Fixed compilation error which prevented ACE from being compiled when
  ACE_COMPILE_TIMEPROBES was set to 1.

. Preliminary support for Tandem NSK has been added.

. Lots of bug fixes with TLI and XPG5. Please see $ACE_ROOT/ChangeLog
  for details.

. Fixed ACE_OS::event_timedwait() and ACE_OS::event_wait() so that
  they use a while loop around the ACE_OS::cond_[timed]wait() calls to
  avoid problems with spurious wakeups, etc.

. ACE's wrapper around getipnodebyname() and getipnodebyaddr () has
  been made go through the IPv4-only case on ACE_WIN32. Since Windows
  IPv6 implementation doesn't offer support (at thistime) for
  getipnodebyname() the code has been changed to use the IPV4 part of
  the code.

. Install with Borland C++ of ACE library fixed

ACEXML:
-------

. Fixed memory leak in ACEXML parser.

. Fixed implementations of rewind() in all the CharStreams. They were
  broken previously.

. Fixed bugs in the parser associated with incorrect handling of PE
  References for keywords.
