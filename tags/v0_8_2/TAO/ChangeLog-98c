Wed Apr  9 16:19:21 1997  Chris Cleeland  <cleeland@tango.cs.wustl.edu>

	* tcpoa.cpp: Fixed a problem that G++ didn't notice regarding
 	changing the notion of endpoints in servers from server_endpoint
 	to an ACE_HANDLE.

Wed Apr  9 15:43:37 1997  Chris Cleeland  <cleeland@cs.wustl.edu>

	* svr.cpp: The -p option is gone, and -e takes its place and is
 	required.  This requires the user to specify not only the port
 	number, but also the IP address of on which the server should
 	listen for requests.  See ACE_INET_Addr documentation for valid
 	string formats for addresses.  Also, the -t option sets the "use
 	threads" global.

	* orbconf.hh: Hopefully resolved the tension between MS and Unix
 	platforms in inferring endian-ness of the target platform based on
 	preprocessor defines.  We now check for i386, _M_X86, and vax
 	(yeah, like we really worry about that, but it's easy to do).

	* roa.{hh,i,cpp}: Added support for spawning threads to handle
 	incoming requests.  This involves a state flag for whether or not
 	to use threads, calling activate() in ROA_Handler::open() if that
 	flag is set, and creating ROA_Handler::svc() that simply loops
 	calling handle_input().
	
Tue Apr  8 11:14:57 1997  Chris Cleeland  <cleeland@cs.wustl.edu>

	* IIOP/test/svr.cpp: Moved setting of upcall(), forwarder(),
 	context(), etc. into here rather than in TCP_OA::TCP_OA(), which
 	is where I mistakenly stuck them a few days ago (duh!).

	* IIOP/lib/tcpoa.cpp: Removed setting of ACE_ROA::upcall(), which belongs
 	in the server code.  I got confused because the function names
 	were so similar: tcpoa.cpp contains ::tcp_oa_dispatcher(), and
 	svr.cpp contains ::tcpoa_dispatch().

	* IIOP/lib/roa.{hh,i,cpp}: Added forwarding function to ACE_ROA global namespace
 	hack.

	* IIOP/lib/orbconf.hh: Fixed preprocessor checks that auto-detect
 	endian-ness of this processor.

Mon Apr  7 21:08:24 1997  Chris Cleeland  <cleeland@cs.wustl.edu>

	* IIOP/test/test1_{clnt,svr}.cpp: THESE HAVE NOT BEEN CONVERTED TO
 	USE ACE EVENT HANDLING!!  This round of changes explicitly
 	instantiates templates where required.

	* IIOP/test/svr.cpp: Global function ::OA_listen() no longer
 	exists; its functionality is now fully contained within ::main().
  	If USE_ACE_EVENT_HANDLING is defined, a Reactor-based event loop
 	is used.  The original intent was to allow conditional compilation
 	to select btw. the original method and a Reactor-based method.
  	However, weaving that into the library proved far more difficult
 	than anticipated, so more than likely not defining
 	USE_ACE_EVENT_HANDLING will cause massive grief.

	* IIOP/lib/toa.cpp: Changed call to TCP_OA::init() to reflect new
 	ACE_INET_Addr argument type.

	* IIOP/lib/tcpoa.cpp (TCP_OA): All initialization methods were
 	changed, specifically the CTOR and TCP_OA::init, to reflect the
 	introduction of ACE_INET_Addr.  Two side-effects of using
 	ACE_INET_Addr are that (1) a server can specify the address on
 	which it wants to listen and (2) best that I can tell, the server
 	MUST specify the address on which it wants to listen because
 	otherwise it won't be able to publish a rational IOR.  The event
 	loop is now changed to simply loop on Reactor::handle_events().

	* IIOP/lib/tcpoa.hh (TCP_OA): Removed vestiges of this component's
 	use of the original connection management scheme.  Where
 	appropriate, hostnames and ports were replaces by ACE_INET_Addr,
 	endpoints by ACE_HANDLEs, etc.  One particularly nasty thing done
 	was to declare ROA_Handler as a friend so that handle_message()
 	can be called from ROA_Handler::handle_input(), which to me
 	exposes a hole in the original architecture wherein input is
 	"pulled" rather than waited-for.  We might need to re-think how
 	this is handled within TAO.

	* IIOP/lib/roa.{hh,i,cpp}: These files contain the required
 	components to support the new server-side ACE-based
 	connection/event substrate.  The client side remains, as always,
 	using the connection mgmt scheme used by the original Sun IIOP
 	code.

	* IIOP/lib/giop.cpp: Added explicit template instantiation for
 	when this is needed.

	* IIOP/lib/corbacom.hh: Now protects itself from multiple
 	inclusion.

	* IIOP/lib/Makefile: Added roa.* where appropriate.

Wed Mar 19 10:25:21 1997  Chris Cleeland  <cleeland@cs.wustl.edu>

	* IIOP/docs/us/codecount/*.count: Added to repository.

	* Makefile: Added to repository.

	* IIOP/objbase.h: Moved to IIOP/compat.

	* IIOP/initguid.h: Moved to IIOP/compat.

Thu Mar 13 14:06:28 1997  Chris Cleeland  <cleeland@cs.wustl.edu>

	* ChangeLog: Added the ChangeLog.
	

