Mon Dec  1 14:01:02 1997  Darrell Brunsch <brunsch@cs.wustl.edu>

        * ace/Log_Msg.cpp, ace/Log_Msg.h, ace/Log_Record.cpp,
          ace/Log_Record.h ace/OS.h, ace/stdcpp.h, tests/test_config.h:

	  Changed use of ACE_HAS_MINIMUM_IOSTREAMH_INCLUSION in stdcpp.h
          to include iostream when the above is #defined.  Made
          changes to other files to accommodate this change.

Mon Dec 01 12:15:00 1997    <irfan@TWOSTEP>

	* ace/config-win32-common.h (ACE_LACKS_ACE_IOSTREAM): James CE
 	  Johnson claims that ACE_LACKS_ACE_IOSTREAM is no longer not
 	  necessary when using the ACE_HAS_STANDARD_CPP_LIBRARY.

        * ace/OS.h: Changed the definition of ACE_UNIMPLEMENTED_FUNC so
          that it just evaporates on platform that have
          ACE_REQUIRES_FUNC_DEFINITIONS defined.

          ACE_UNIMPLEMENTED_FUNC is only required for template classes and
          not for a normal class.  When the template is explicitly
          instantiated, it causes some compilers to look for the
          definition of all the declared methods.

          On platforms that have this behavior, we have decided to take
          out the declaration of this function.  This is necessary since
          an empty definition of {} usually does not work with some
          constructors.  And by providing a explicit definition of this
          function, will cause all platforms to suffer.

          Therefore, platforms with ACE_REQUIRES_FUNC_DEFINITIONS defined
          must be specially careful when using this.

Mon Dec 01 07:56:02 1997  David L. Levine  <levine@cs.wustl.edu>

        * include/makeinclude/platform_sunos5_sunc++.GNU: added
          -xildoff to LDFLAGS, to avoid occasional problems with
          the incremental linker.  Thanks to Hans Rohnert
          <Hans.Rohnert@mchp.siemens.de> for this suggestion.

        * include/makeinclude/platform_vxworks5.x_g++.GNU,
          etc/ace_ld, bin/ace_ld, ACE-INSTALL.html:
          moved ace_ld from etc/ to bin/.

        * Makefile: added etc/ to CLONE and RELEASE_FILES.

        * include/makeinclude/platform_lynxos.GNU: added -Wall to CFLAGS.

        * ace/ACE.cpp (set_handle_limit): only call setrlimit if
          RLIMIT_NOFILE is #defined.

        * ace/OS.h: removed ACE_HAS_STDARG_THR_DEST dependence for
          ACE_THR_DEST definition.

        * ace/OS.cpp (thr_keycreate): with ACE_HAS_DCETHREADS only, cast
          dest argument to ::pthread_keycreate if ACE_HAS_STDARG_THR_DEST.

        * ace/OS.i (get{host,proto,serv}by{addr,name}_r): with
          ACE_HAS_NONCONST_GETBY only, added some ACE_UNUSED_ARGS.

        * examples/Shared_Malloc/Malloc.cpp: removed
          ACE_Guard<ACE_Process_Mutex> instantiation because it's in
          ace/Synch.cpp.

        * ace/config-lynxos.h: added ACE_HAS_RECURSIVE_THR_EXIT_SEMANTICS.
          Without it, the Thread_Manager went recursively ballistic.

        * performance-tests/Misc/preempt.cpp (main): fixed printout if
          ACE_OS::sched_params () call failed.

Sun Nov 30 22:44:50 1997  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ACE version 4.4.1, released Sun Nov 30 22:44:50 1997.

Sun Nov 30 20:32:50 1997  David L. Levine  <levine@cs.wustl.edu>

        * include/makeinclude/platform_osf1_3.2.GNU: removed -ptr option
          from CCFLAGS, so the default template repository will be used.
          Thanks to Dani Flexer <danif@ivory-sw.com> for reporting this.

        * ace/Svc_Conf_l.cpp,Makefile:
          1) #include ace/stdcpp.h instead of stdio.h so that anything
             that needs to be #included with/before stdio.h can be.
          2) Changed ECHO to ACE_SVC_CONF_ECHO to avoid compiler warning if
             ECHO was #defined to be a constant.

        * ace/Makefile: set ACELIB to null so that it can be used to build
          shared libs, including libACE.$(SOEXT).

        * include/makeinclude/platform_osf1_4.0.GNU: added $(ACELIB) to
          SOFLAGS to avoid shared lib build warnings about undefined ACE
          symbols.

        * ace/Thread_Manager.h: declare ACE_THR_MEMBER_FUNC outside of
          ACE_Thread_Manager class with __GNUG__ instead of with
          VXWORKS || IRIX5.  The problem is with older versions of g++,
          not with the OS.

Sun Nov 30 14:13:09 1997  Douglas C. Schmidt  <schmidt@merengue.cs.wustl.edu>

        * netsvcs/servers/README: Clarified a bit more about how to
          configure the client and server logging processes.  Thanks to
          Neil Cohen for motivating this.

Sun Nov 30 17:36:35 1997  Sergio Flores  <sergio@tango.cs.wustl.edu>

        * ace/Synch.cpp (ACE_File_Lock): Fixed order of parameters in the
        call to this->open() and too many arguments in call to
        ACE_File_Lock::open().

Sun Nov 30 16:31:41 1997  Carlos O'Ryan  <coryan@macarena.cs.wustl.edu>

        * ace/Synch.h:
        * ace/Synch.cpp:
          ACE_File_Lock should create the file if it does not exist, to do
          so the constructor takes the <flags> parameter to ACE_OS::open()
          and defaults to O_CREAT|O_RDWR.

Sat Nov 29 21:31:07 1997  Nanbor Wang  <nw1@merengue.cs.wustl.edu>

        * ace/Proactor.cpp (~ACE_Proactor_Timer_Handler): Removed explicit
          call to thr_mgr_.close().
          (ACE_Proactor):  Be sure to ask Thread_Manager not to wait for
          the timer_handler_ thread.

        * ace/Thread_Manager.cpp (close_singleton):  Only reset
          exit_on_wait status if we are responsible for deleting the
          global thread manager.

Sat Nov 29 15:15:04 1997  Carlos O'Ryan  <coryan@swarm.cs.wustl.edu>

        * ace/IPC_SAP.cpp:
          Removed warning for functions not returning a value on SGI, it
          seems that the flow changed and the last return was reached
          sometimes, hence the ACE_NOTREACHED macro is no longer needed.

Sat Nov 29 13:12:47 1997  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * ace/Synch: Conditionally inlined all the ACE_Process_Mutex
          wrapper calls and moved them into the Synch.i file.  I'm not
          sure why there weren't here before.

        * ace/Synch: Reimplemented ACE_RW_Process_Mutex to use
          ACE_File_Lock, which provides the proper readers/writer
          semantics that had been lacking in the previous implementation.

Fri Nov 28 04:25:23 1997  Nanbor Wang  <nw1@merengue.cs.wustl.edu>

        * ace: Removed redundant trailing commas from
          ACE_UNIMPLEMENTED_FUNC.

        * ace/Thread_Manager.{h,i,cpp}: Delete declaration of
          remove_thr_self.  It is no longer in use.
          (wait_on_exit): Added this function to let users specify whether
          they want their Thread_Manager wait for spawned threads on exit
          or not.
          (wait): On Win32, handles should be closed if we decide to let
          the thread go wild.
          (remove_thr): Added another parameter to control whether
          remove_thr should close the handle or not.  It is only used on
          Win32.
          (close):  Removed the <automatic_wait> parameter for it has been
          incoporated as a member.
          (close_singleton): Reset <automatic_wait_> on Win32. We'll never
          need to wait for unfinished threads on NT.
          (ACE_Thread_Manager): Added initialization of member
          <automatic_wait_>.  It is default to 1 (wait on exit.)

        * ace/Containers.h: Corrected erroneous comments.

Wed Nov 26 10:33:22 1997    <irfan@TWOSTEP>

        * ace/Log_Msg (msg): Changed the parameters from char * to const
          char *.

        * ace: Added unimplemented copy constructors and assignment
          operators to the following classes:

          ACE_Map_Manager
          ACE_Message_Block
          ACE_Data_Block
          ACE_Log_Msg
          ACE_Message_Queue
          ACE_Task
          ACE_Task_Base

          Added ACE_UNIMPLEMENTED_FUNC macros to these classes:

          ACE_Mem_Map
          ACE_Priority_Reactor
          ACE_Select_Reactor
          ACE_WFMO_Reactor
          ACE_XtReactor
          ACE_Reactor
          ACE_Read_Buffer
          ACE_CORBA_Handler
          ACE_TSS_TPQ_Entry
          ACE_Object_Manager
          ACE_File_Lock
          ACE_Semaphore
          ACE_RW_Mutex
          ACE_Mutex
          ACE_Null_Barrier
          ACE_Null_Condition
          ACE_Null_Mutex_Guard
          ACE_Event
          ACE_Thread_Mutex
          ACE_Thread_Mutex_Guard
          ACE_Condition_Thread_Mutex
          ACE_Recursive_Thread_Mutex
          ACE_Barrier
          ACE_Condition

          Thanks to Stanley D Leeson <STANLEY.D.LEESON@cdev.com> for these
          suggestions.

Sat Dec 20 14:57:30 1997    <nw1@CHA-CHA>

        * All MSVC 5.0 project files: Removed unnecessary library
          inclusions.  Most of them are not necessary. Thanks to
          Patrick J. McNerthney <pat@thememedia.com> for suggesting
          this.

Wed Nov 26 15:49:14 1997  David L. Levine  <levine@cs.wustl.edu>

        * ace/IOStream_T.i (recv) affects WIN32 only: fixed typo,
          ACE_BIT_ENABLED instead of ACE_BIT_ENTABLED IOStream_T.i.
          Thanks to James CE Johnson <jcej@lads.com> for reporting this.

        * include/makeinclude/platform_lynxos.GNU: added information
          on necessary OS patches.

Wed Nov 26 09:45:43 1997  Chris Cleeland  <cleeland@cs.wustl.edu>

        * ace/OS.h (ACE_PROPER_SINGLETON_INSTANTIATION): Corrected
          misspelling in the "! defined (MSC_VER)" branch.  I just happened
          to notice this, so I don't know if anybody ever tried it and it
          failed.

Tue Nov 25 12:07:07 1997  David L. Levine  <levine@cs.wustl.edu>

        * include/makeinclude/platform_osf1_3.2.GNU: updated for
          OSF/1 3.2g/CXX 5.7.  Thanks to Dani Flexer <danif@ivory-sw.com>
          for the updates.

Tue Nov 25 01:07:39 1997    <irfan@TWOSTEP>

        * examples/Reactor/Proactor/test_multiple_loops.cpp (main): Made
          sure that the Proactor was removed from reactor.

        * ace/WFMO_Reactor.cpp (remove_handler_i,
          remove_suspended_handler_i): Make sure to preserve DONT_CALL
          with normal event entries.

        * ace/Proactor.cpp:

        - A flag used to indicate when we are shutting down.

        - Made sure to signal the timer event when we are closing down.

        - Thread Manager: don't bother to wait (since the thread may have
          already gone). But make sure to close up the descriptor.  This
          may not be necessary in the future when THR_DETACHED is
          correctly implemented.

        * ace/Asynch_IO.h: Changed some code from protected to public.
          Even though these functions are really protected, sometimes it
          simplifies user code to be able to "fake" a result.  Users
          should use these with care.

        * examples/Reactor/Proactor/test_proactor.cpp
          (handle_write_stream): Added code for partial write to socket.
          However it ever seems to do a short write ;-). Also made sure
          that the initial data coming from the AcceptEx call is also
          dumped to the file.  Thanks to Mark Rabotnikov
          (mark@netmanage.co.il) for pointing this out.
