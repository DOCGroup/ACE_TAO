Tue Oct  4 10:39:24 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

	* ace/Service_Config.cpp:

	  Include "ace/Signal.h" when ACE_LACKS_UNIX_SIGNALS is
	  undefined.  Addresses build errors in non-Windows builds.
	  Necessitated by header dependency reductions in ACE.

Tue Oct  4 10:00:00 UTC 2005  Simon Massey  <simon.massey@prismtech.com>

        * ace/Obstack_T.h:

          Fix warning about nested comments.

Mon Oct  3 13:30:58 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

	* examples/APG/Containers/Hash_Map.cpp:
	* examples/APG/Shared_Memory/Malloc.cpp:
	* examples/APG/Shared_Memory/PI_Malloc.cpp:
	* examples/APG/Shared_Memory/Pool_Growth.cpp:
	* examples/Shared_Malloc/Malloc.cpp:
	* examples/Shared_Malloc/Malloc.h:
	* examples/Shared_Malloc/test_malloc.cpp:
	* examples/Shared_Malloc/test_multiple_mallocs.cpp:
	* examples/Shared_Malloc/test_persistence.cpp:
	* examples/Shared_Malloc/test_position_independent_malloc.cpp :

          Include appropriate headers to address incomplete type
	  definition related compile-time errors.  Necessitated by header
	  dependency reductions in ACE.

Mon Oct  3 18:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/SSL/SSL_Context.cpp:
          Use prefix increment/decrement instead of postfix

Mon Oct  3 10:48:23 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

	* ace/ACE_Memory_export.h:
	* ace/ACE_Reactor_export.h:
	* ace/ACE_Sockets_export.h:
	* ace/ACE_Threads_export.h:

	  New export headers for a number of ACE subset libraries.

	* ace/Activation_Queue.cpp:
	* ace/Configuration.h:
	* ace/Malloc.cpp:
	* ace/Obstack_T.h:
	* ace/Obstack_T.cpp:
	* ace/Svc_Conf_l.cpp:
	* ace/Timer_Hash_T.cpp:
	* tests/Based_Pointer_Test.cpp:
	* tests/Malloc_Test.cpp:
	* tests/Message_Block_Test.cpp:

          Include appropriate headers to address incomplete type
	  definition related compile-time errors.  Necessitated by header
	  dependency reductions in ACE.

	* ace/Activation_Queue.h:
	* ace/Barrier.h:
	* ace/Based_Pointer_Repository.h:
	* ace/Dev_Poll_Reactor.h:
	* ace/File_Lock.h:
	* ace/LSOCK.h:
	* ace/LSOCK_Acceptor.h:
	* ace/LSOCK_CODgram.h:
	* ace/LSOCK_Connector.h:
	* ace/LSOCK_Dgram.h:
	* ace/LSOCK_Stream.h:
	* ace/MEM_Acceptor.h:
	* ace/MEM_Addr.h:
	* ace/MEM_Connector.h:
	* ace/MEM_IO.h:
	* ace/MEM_SAP.h:
	* ace/MEM_Stream.h:
	* ace/MMAP_Memory_Pool.h:
	* ace/Mem_Map.h:
	* ace/Method_Request.h:
	* ace/Msg_WFMO_Reactor.h:
	* ace/Multihomed_INET_Addr.h:
	* ace/PI_Malloc.h:
	* ace/Pagefile_Memory_Pool.h:
	* ace/Priority_Reactor.h:
	* ace/Process.h:
	* ace/Process_Manager.h:
	* ace/Process_Semaphore.h:
	* ace/RW_Process_Mutex.h:
	* ace/SOCK_Dgram_Bcast.h:
	* ace/SOCK_Dgram_Mcast.h:
	* ace/SOCK_SEQPACK_Acceptor.h:
	* ace/SOCK_SEQPACK_Association.h:
	* ace/SOCK_SEQPACK_Connector.h:
	* ace/SV_Shared_Memory.h:
	* ace/Sbrk_Memory_Pool.h:
	* ace/Shared_Memory.h:
	* ace/Shared_Memory_MM.h:
	* ace/Shared_Memory_Pool.h:
	* ace/Shared_Memory_SV.h:
	* ace/Thread_Semaphore.h:
	* ace/UNIX_Addr.h:

	  Support export macros specific to ACE subset libraries.

	* ace/Array_Map.h:

	  Comment cleanup.

	* ace/High_Res_Timer.h:

	  Removed trailing whitespace.

	* ace/Malloc.h:

	  Removed extraneous headers unnecessary for the types declared in
	  this header.

	* ace/OS_NS_Thread.inl (ACE_Thread_ID):

	  Prefer initialization of thread_id_ member in base member
	  initializer list rather than constructor body.

	* ace/ace.mpc:
	* ace/ace.mwc:
	* ace/ace_for_tao.mpc:
	* ace/ace_os.mpc:

	  Add support ACE subsets (predominantly TAO-specific).

	* ace/svcconf.mpb:

	  Moved Svc_Conf parser and lexer generation Make rules to this
	  MPC base project.  Allows subset projects to inherit these
	  rules.

	* bin/MakeProjectCreator/config/ace_for_tao.mpb:
	* bin/MakeProjectCreator/config/acememorylib_for_tao.mpb:
	* bin/MakeProjectCreator/config/acenosubsets.mpb:
	* bin/MakeProjectCreator/config/acereactorlib_for_tao.mpb:
	* bin/MakeProjectCreator/config/acesocketslib_for_tao.mpb:
	* bin/MakeProjectCreator/config/acethreadslib_for_tao.mpb:

	  New TAO-specific ACE subset MPC support.  Enabled when
	  "ace_for_tao" is set to "1" in an MPC features file.

	* bin/MakeProjectCreator/config/aceexe.mpb:
	* bin/MakeProjectCreator/config/acelib.mpb:

	  Support "ace_for_tao" subset.

	* bin/MakeProjectCreator/config/global.features:

	  Disabled "ace_for_tao" feature by default.

	* bin/MakeProjectCreator/config/taolib.mpb:

	  Inherit "ace_for_tao" feature project.  Causes TAO-based
	  projects to use the "ace_for_tao" subset libraries when that
	  feature is enabled.

Mon Oct  3 12:50:00 2005  Simon Massey  <simon.massey@prismtech.com>

        * ace/Asynch_IO.h:

          Remove some more Doxygen warnings from the scoreboard.

Mon Oct  3 13:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * performance-tests/Server_Concurrency/Leader_Follower/leader_follower.cpp:
          Fixed might be unitialized warning in Cygwin build

Mon Oct  3 12:50:00 2005  Simon Massey  <simon.massey@prismtech.com>

        * ace/ACE.h:
        * ace/Acceptor.h:
        * ace/Stats.h:
        * ace/Containers_T.h:

          Remove some Doxygen warnings from the scoreboard.

Mon Oct  3 11:27:13 2005  Simon McQueen  <sm@prismtech.com>

        * bin/tao_other_tests.lst:

          Scheduled TAO/orbsvcs/tests/Bug_2248_Regression.

Mon Oct  3 09:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_gnuwin32_common.GNU:
          Changed the default of exceptions to be 1

Mon Oct  3 06:22:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Log_Msg.{h,cpp}:
          Changed type of msg_off_ from int to long to fix 64bit
          conversion warnings

Sun Oct  2 19:18:01 2005  Olli Savia  <ops@iki.fi>

        * ace/config-lynxos.h:
          Added contents from config-lynxos4.0.0.h to this file.
          config-lynxos4.0.0.h is no longer needed.

        * ace/config-lynxos4.0.0.h:
          Removed this file.

Sat Oct  1 11:49:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_stdio.cpp:
          Fixed _open_osfhandle call

Fri Sep 30 14:00:36 2005  Chris Cleeland  <cleeland_c@ociweb.com>

        * bin/fuzz.pl:

          Added a new test, check_for_refcountservantbase, that will
          report occurrences of PortableServer::RefCountServantBase in
          code.  This is good because the default is now changed in TAO to
          reflect the change in the CORBA spec.

          Changed all error and warning messages to be consistently
          printed with the keyword "Error: " or "Warning: " followed by
          the filename and line number where the problem occurred, then
          followed by a text description of the problem.  This makes the
          messages' format consistent with that output by grep and
          compilers so that one can use tools like emacs' 'compile' mode
          to step through the fuzz errors and easily fix things.

Fri Sep 30 10:34:24 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * configure.ac:

          Add feature checks for ACE_LACKS_INTMAX_T, ACE_LACKS_INTPTR_T,
          ACE_LACKS_UINTMAX_T, and ACE_LACKS_UINTPTR_T.

        * ace/README:

          Define ACE_LACKS_INTMAX_T, ACE_LACKS_UINTMAX_T, and
          ACE_LACKS_UINTPTR_T feature test macros.

Fri Sep 30 13:34:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/modules/BorlandWorkspaceCreator.pm:
          Corrected the directory changing code to take 2 or more deep
          relative paths into account. Merged this fix from the MPC
          templates bmake. Thanks to Chad Elliott for fixing these.

Fri Sep 30 08:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-win32-borland.h:
        * ace/config-win32-msvc-6.h:
        * ace/OS_NS_stdio.cpp:
        * ace/OS_NS_stdio.inl:
        * ace/OS_NS_unistd.inl:
        * ace/README:
          Added new ACE_LACKS_INTPTR_T and use this. This type is used to call
          _open_osfhandle on windows. It seems not to be available with BCB6
          and earlier and msvc6. Thanks to Simon McQueen for notifying me that
          msvc6 also lacks this.

Fri Sep 30 07:14:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/SOCK_IO.cpp:
        * ace/SOCK_Dgram_Bcast.cpp:
        * ace/SOCK_Dgram.cpp:
        * ace/OS_NS_unistd.inl:
        * ace/OS_NS_stdio.inl:
        * ace/OS_NS_stdio.cpp:
        * ace/MEM_IO.cpp:
        * ace/ACE.cpp:
          Fixed 64bit conversion warnings when building on win32 with 64bit
          warnings enabled

Thu Sep 29 16:07:02 2005  Arvind S. Krishna  <arvindk@dre.vanderbilt.edu>

        * bin/FOCUS:
          Directory where FOCUS related work will be added.

        * bin/FOCUS/ChangeLog:
        * bin/FOCUS/FOCUS.pl:
        * bin/FOCUS/NEWS:
        * bin/FOCUS/PROBLEM-REPORT-FORM:
        * bin/FOCUS/Parser:
        * bin/FOCUS/README:
        * bin/FOCUS/VERSION:
        * bin/FOCUS/docs:
        * bin/FOCUS/specializations:

          FOCUS related files and directories. Please read the Changelog
          in FOCUS for more details on each component.

        * bin/FOCUS/specializations/Context-Specific-Optimizations:
        * bin/FOCUS/specializations/Flushing_Strategy:
        * bin/FOCUS/specializations/Messaging_Strategy:
        * bin/FOCUS/specializations/Protocol_Family:
        * bin/FOCUS/specializations/README:
        * bin/FOCUS/specializations/Reactor_Family:
        * bin/FOCUS/specializations/Wait_Strategy:

          Specializations for the different components in ACE+TAO. Each
          directory contains the specialization files for specializing the
          appropriate component/strategy.

        * bin/FOCUS/Parser/FOCUSParser.pm:

          Parser/weaver that reads the specialization description and
          performs the transformations.

        * bin/FOCUS/docs/FOCUS.html:

          Start at the documentation effort.

          The Changelogs within the FOCUS directory will capture the
          different changes henceforth.

Thu Sep 29 13:28:29 2005  Chris Cleeland  <cleeland_c@ociweb.com>

        * bin/fuzz.pl (check_for_refcountservantbase):

          Added a new fuzz check to catch derivations to
          PortableServer::RefCountServantBase.  Obviously, this check only
          applied to TAO, and the test itself isn't very discriminating as
          it simply looks for the presence of
          "PortableServer::RefCountServantBase" in a file and doesn't
          attempt to detect derivation.  There are also no means to turn
          off the check in comments.  But it's better than nothing.

Thu Sep 29 15:18:24 2005  Simon McQueen  <sm@prismtech.com>

        * bin/tao_other_tests.lst:

          Scheduled TAO/orbsvcs/tests/Bug_2247_Regression.

Thu Sep 29 12:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/footprint_stats.sh:
          Fixed codeset library name

Thu Sep 29 09:03:00 UTC 2005  Simon Massey  <simon.massey@prismtech.com>

        * apps/JAWS2/JAWS/IO_Acceptor.cpp:
          Fixed unused parameters

Thu Sep 29 09:02:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * html/Stats/footer.html:
        * html/Stats/configuration.shtml:
        * html/Stats/navigation.html:
        * html/Stats/index.shtml:
        * html/Stats/detailed_footprint.shtml:
          I have taken the files currently on the webserver and updated
          cvs with these versions. This way we can update these files
          in cvs and update the webserver automatically. I will reconfigure
          the stats build to copy all the files in this directory to
          the webserver when the build is ready

        * html/Stats/footprint.shtml:
        * html/Stats/img.html:
        * html/Stats/simple_footprint.shtml:
        * html/Stats/performance.shtml:
        * html/Stats/compilation.shtml:
          New files

        * bin/footprint_stats.sh:
          Also generate the footprint of the new core TAO libs we added
          the last months

Thu Sep 29 08:01:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * html/index.html:
          Fixed typo

Thu Sep 29 07:59:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_fcntl.cpp:
          Use C++ cast instead of c-style cast

        * ace/FILE_Connector.cpp:
          Small layout fix

Wed Sep 28 11:38:07 2005  Chad Elliott  <elliott_c@ociweb.com>

        Committing the following change on behalf of Wallace Zhang
        <zhang_w@ociweb.com>.

        * bin/tao_orb_tests.lst:

          Enabled a new Smart Proxy test,i.e.,
          $TAO_ROOT/tests/Smart_Proxies/dtor/run_test.pl

Wed Sep 28 07:46:57 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Atomic_Op.cpp:
        * ace/Atomic_Op.h:
        * ace/Atomic_Op.inl:
        * ace/Object_Manager.cpp:

          Revert change:
          Fri Sep 16 19:54:20 2005  J.T. Conklin  <jtc@acorntoolworks.com>

          As the new ACE_Atomic_Op<ACE_Thread_Mutex, unsigned long>
          template specialization was not found responsible for the
          TAO performance regressions.

Wed Sep 28 11:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ACE-INSTALL.html:
          Small updates to Borland documentation

Wed Sep 28 07:08:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/compiler.bor:
          At the moment BCBVER is not set, we default to BCB6.

Tue Sep 27 13:40:45 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/ciao_config_handlers.mpb
        * bin/MakeProjectCreator/config/ciao_xml_utils.mpb

        Added files that should have been part of the previous commit.

Tue Sep 27 13:12:28 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/ciao_client.mpb

        Removed another obsolete ciao base project.

        * bin/MakeProjectCreator/config/ciao_client_dnc.mpb
        * bin/MakeProjectCreator/config/ciao_component_dnc.mpb
        * bin/MakeProjectCreator/config/ciao_servant_dnc.mpb
        * bin/MakeProjectCreator/config/ciao_server_dnc.mpb

        Revamped the CIAO base project structure to fix deficiencies
        exposed by the especially strict linker on MacOS.

Tue Sep 27 10:29:49 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/ciao_component.mpb
        * bin/MakeProjectCreator/config/ciao_servant.mpb
        * bin/MakeProjectCreator/config/ciao_server.mpb

        Removed obsolete CIAO base projects.

Tue Sep 27 13:02:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * etc/ciao_DAnCE.doxygen:
          Removed zapped XML_Helpers directory

Tue Sep 27 10:39:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/fuzz.pl:
          Also detect ACE_THROW in an ACE_TRY block

Mon Sep 26 10:36:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/fuzz.pl:
          Extended fuzz check to detect ACE_THROW_RETURN in an ACE_TRY block,
          in that case ACE_TRY_THROW should be used.

Mon Sep 26 10:02:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * etc/ciao_xml_helpers.doxygen:
        * etc/ciao_config_handlers.doxygen:
          Renamed ciao_xml_helpers to ciao_config_handlers. Corrected also
          paths, fixes errors in the doxygen build

        * bin/generate_doxygen.pl:
          Updated change above

Sat Sep 24 12:56:20 2005  Bala Natarajan  <bala_natarajan at symantec dot com>

        * ace/Acceptor.cpp:
        * ace/Strategies_T.cpp (accept_svc_handler):

          Errno of failed accept() call is potentially not preserved due
          to unguarded call of svc_handler->close().  Thus when
          accept_svc_handler() returns -1 the errno value may be due to a
          subsequent failure in the svc_handler->close() method rather
          than the original accept() failure,  making handling of the
          accept() failures difficult. Thanks to Russell Mora
          <russell_mora at symantec dot com> for the patch.

Fri Sep 23 10:07:25 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * ace/config-macosx-tiger.h
        * include/makeinclude/platform_macosx_tiger_gcc4.GNU

          Updates for Tiger compatibility. Thanks to Michael van der
          Westhuizen (r1mikey at gmail dot com) for help with tracking
          down some troublesome issues in the platform_macros.

Thu Sep 22 12:40:20 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * m4/ace.m4:

          Set BUILD_TAO_FLRESOURCE, BUILD_TAO_QTRESOURCE,
          BUILD_TAO_TKRESOURCE, and BUILD_TAO_XTRESOURCE automake
          conditionals if --enable-fl-reactor, --enable-qt-reactor,
          --enable-tk-reactor, or --enable-xt-reactor are specified
          at configure time.

Thu Sep 22 08:40:00 UTC 2005  Simon Massey  <simon.massey@prismtech.com>

        * tests/run_test.lst:
          Stop based_pointer_test running on VxWorks and Static builds.

Thu Sep 22 08:08:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/ASX/Event_Server/Event_Server/event_server.cpp:
        * performance-tests/Synch-Benchmarks/Perf_Test/Performance_Test_Options.h:
          64bit fix

        * bin/fuzz.pl:
          Extended fuzz check to detect several corba calls without an
          ACE_CHECK in between

        * ace/SOCK_Dgram.cpp:
          Small layout fixes

        * ace/Service_Config.h:
          Added missing ACE_LIB_TEXT to some macros

Tue Sep 20 10:37:24 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Pipe.inl: Added #include of "ace/ACE.h" to get the
          right class definition for the ACE:: methods.  Thanks to Simon
          Massey for reporting this.

Tue Sep 20 15:20:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added new TAO/tests/CallbackTest/*.pl tests.

Tue Sep 20 10:10:00 UTC 2005  Simon Massey  <simon.massey@prismtech.com>

        * tests/Based_Pointer_Test.cpp:
          Attempt to fix bug 2232 (Implimented the diffs found there).

Tue Sep 20 08:43:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * bin/tao_other_tests.lst:
          Added new IPV6 specific tests.

Tue Sep 20 08:29:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added new TAO/tests/BiDirectional/run_test_ipv6.pl
          IPV6 test.

Mon Sep 19 11:43:59 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * docs/ACE-guidelines.html: Added a guideline that disallows the use of
          assert() macros et al. in core ACE, TAO, and CIAO
          library/framework code.  Thanks to Dave Giovannini <giovanninid
          at ociweb dot com> and Carlos O'Ryan for motivating this.

        * protocols/ace/RMCast/Socket.cpp: Replaced the use of ACE_OS::write()
          and ACE_OS::read() with the new ACE_Pipe::send() and
          ACE_Pipe::recv() methods thanks to Felix's enhancements.

        * ace/Pipe.{h,inl,cpp}: Added a full complement of send*() and recv*()
          methods so that the code is portable across different operating
          systems without requiring user-level #ifdefs.  Thanks to Felix
          Li <fengli@gmail.com> for submitting these enhancements.

Mon Sep 19 12:35:39 2005  Justin Michel  <michel_j@ociweb.com>

        * tests/MT_SOCK_Test.cpp:

          Fix use of ACE_static_cast from my  Fri Sep 2 checkin.

Mon Sep 19 10:51:26 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * bin/generate_doxygen.pl

          Removed obsolete CIAO projects from Doxygen generation.

        * etc/ciao_xml_helpers.doxygen

          Updated path to new config_handlers.

        * etc/ciao_assembly_deployer.doxygen
        * etc/ciao_componentserver.doxygen
        * etc/ciao_daemon.doxygen
        * etc/ciao_serveractivator.doxygen

          Removed obsolete ciao doxygen files.

Sun Sep 18 17:28:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/INET_Addr.cpp:
          Fixed bug in ACE_INET_Addr::string_to_addr().

Sun Sep 18 17:26:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Log_Msg.cpp:
          Fixed compile error in latest addition to code.

Sun Sep 18 10:08:05 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Log_Msg.cpp (log): Check for passing of NULL pointers to %s
          formatting strings and replace them with "(null") to avoid
          crashes.  Thanks to Steven Xie <steven.xie@mpathix.com> for
          reporting this and to J.T. for suggesting the fix.

        * protocols/ace/RMCast/Acknowledge.cpp (ACE_RMCast):
          made the default ACE_Hash_Map_Manager size be 10 rather than
          1024.  Thanks to Felix Li <fengli@gmail.com> for reporting
          this.

Fri Sep 16 19:54:20 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Atomic_Op.cpp:
        * ace/Atomic_Op.h:
        * ace/Atomic_Op.inl:
        * ace/Object_Manager.cpp:

          #if 0 ACE_Atomic_Op<ACE_Thread_Mutex, unsigned long>
          specialization to see if it's responsible for recent
          TAO performance degradation.

Fri Sep 16 10:57:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * bin/tao_orb_tests.lst:

          Added new TAO/tests/IPV6 test to runlist (only when config
          IPV6 defined).

Thu Sep 15 12:35:27 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * THANKS:

          Added Jin Zhi Ye.

        * ace/os_include/os_stdio.h:

          #undef fgetc and fputc if they are defined, as macro expansion
          conflicts with our use of the same names in the ACE_OS wrapper
          functions.  Reported by Jin Zhi Ye <jinzhiye at kedacom dot com>.

Thu Sep 15 18:55:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Atomic_Op.inl:

          Small fix to get rid of annoying warning on Windows concerning
          unary '-'.

Wed Sep 14 13:36:34 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * configure.ac:

          Changed ACE_HAS_MEMCPY_LOOP_UNROLL feature test code such that
          smemcpy() correctly returns it's first argument.

          Added third argument to ACE_HAS_MEMCPY_LOOP_UNROLL's AC_DEFINE
          to provide the description for config.h.

Tue Sep 13 14:38:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * include/makeinclude/platform_vxworks5.5.x.GNU:

          Changed munching step for VxWorks SIMPC builds to generate asm
          output to circumvent compiler output problem in certain files.

        * include/makeinclude/rules.lib.GNU:

          Small change to make output of prelink step visible for static
          libraries build for VxWorks with -frepo.

Tue Sep 13 09:30:03 2005  Arvind S. Krishna  <arvindk@dre.vanderbilt.edu>

        * ace/OS_NS_string.{h,cpp,inl}:
          Updated the loop unrolled memcpy version name to fast_memcpy
          rather than smemcpy.

Tue Sep 13 09:18:54 2005  Arvind S. Krishna  <arvindk@dre.vanderbilt.edu>

        * configure.ac:

          Fixed the autoconf test that checks for memcpy loop unrolling
          optimization, by (1) removing the testit function and replacing
          it with a function pointer, (2) by properly setting the right
          ACE macro when the test succeeds and (3) enabling the flag only
          when the test produces a result > 10% for all sizes between
          1..16.

Tue Sep 13 14:10:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * tests/Cached_Accept_Conn_Test.cpp:
        * tests/Cached_Conn_Test.cpp:
        * tests/Message_Block_Test.cpp:

          Fixed problems with explicit template instantiations and
          VxWorks builds.

Tue Sep 13 11:52:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * apps/JAWS2/JAWS/Cache_Manager_T.cpp:
        * examples/APG/Logging/LogManager.h:
        * examples/APG/Logging/Use_Multiple_Sinks.cpp:
        * examples/APG/Logging/Use_Ostream.cpp:
        * examples/C++NPv1/Logging_Client.cpp:
        * examples/C++NPv2/Select_Reactor_Logging_Server.cpp:
        * examples/C++NPv2/Server_Shutdown.cpp:
        * examples/C++NPv2/TP_Reactor_Logging_Server.cpp:
        * examples/Export/test.cpp:

          Fixed for environments defining ACE_USES_OLD_IOSTREAMS
          (which unfortunately is the case for Windows x64 at the
          moment due to shortcomings in the Platform SDK).

Tue Sep 13 10:30:00 UTC 2005  Simon Massey  <sma@prismtech.com>

        * bin/tao_orb_tests.lst:
          Added Bug_2234_Regression test.

Tue Sep 13 10:11:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * bin/tao_orb_tests.lst:
          Excluded a few tests based on 'IPV6' configuration because
          they use features which are not IPv6 compatible (yet) like
          SHMIOP.

Fri Sep  9 18:57:31 2005  Steve Huston  <shuston@riverace.com>

        * ace/Sock_Connect.cpp (bind_port): Replace variable s_addr with
          addr_p. s_addr is a macro on some systems (in this case, Solaris 8)
          and caused problems.

Fri Sep  9 11:05:27 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * ace/config-lynxos4.0.0.h:
          Added new config file to accomodate new version of LynxOS.

Thu Sep  8 16:33:38 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * m4/tls.m4:

          Added support for --with-openssl, --with-openssl-include, and
          --with-openssl-libdir options so users can select or override
          the location of the OpenSSL libraries.

Thu Sep  8 18:43:12 2005  Steve Huston  <shuston@riverace.com>

        * tests/Based_Pointer_Test.cpp (mmap_remap_test): Don't keep increasing
          the allocation until the base pointer changes without checking for
          an allocation failure. This caused all memory to be absorbed on AIX
          without remapping the base, then the log file was so big that
          the log processor for the scoreboard ran out of memory processing it.

Thu Sep  8 06:47:11 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/modules/GNUACEProjectCreator.pm:

          Allow files with .. in the path to count in the VPATH setting.

Wed Sep  7 14:44:58 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/SSL/Makefile.am:
        * examples/C++NPv2/Makefile.am:
        * examples/IPC_SAP/SSL_SAP/Makefile.am:

          Regenerated.

        * bin/MakeProjectCreator/config/ace_openssl.mpb:

          Use 'compile_flags' instead of 'includes' to set compile flags
          to @ACE_TLS_CPPFLAGS@.  Thanks to Chad Elliot for this hint.

          Uncomment automake "specific" block.

Tue Sep  6 22:02:16 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/MakeProjectCreator/config/ace_openssl.mpb:

          Subtract /usr/kerberos/includes from includes for automake
          builds.

          Changed ${ACE_TLS_FOO} to @ACE_TLS_FOO@ so variables will be
          substituted by the values obtained by the configure script.

Tue Sep  6 21:56:43 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * m4/tls.m4:

          Changed to substitute ACE_TLS_CPPFLAGS and ACE_TLS_LDFLAGS like
          was done with ACE_TLS_LIBS.

Tue Sep  6 19:43:47 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/MakeProjectCreator/config/automake.features:

          New features file for automake build.

Tue Sep  6 17:37:15 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/MakeProjectCreator/config/ssl.mpb:
        * ace/SSL/ssl.mpc:

          Changed to inherit from ace_openssl.mpb instead of openssl.mpb.

        * bin/MakeProjectCreator/config/ace_openssl.mpb:

          New file, similar to other ace_*.mpb files, so we can
          override values inherited from MPC's openssl.mpb.

Tue Sep  6 12:20:22 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Object_Manager.cpp:

          Changed to invoke ACE_Atomic_Op<ACE_Thread_Mutex, unsigned
          long>::init_functions () to initialize function pointers.

        * ace/Atomic_Op.cpp:
        * ace/Atomic_Op.h:
        * ace/Atomic_Op.inl:

          Added ACE_Atomic_Op<ACE_Thread_mutex, unsigned long> template
          specialization using the existing atomic operations for longs
          with judicious use of casts.  The implementation isn't ideal,
          since two sets of function pointers need to be set.  This can
          be revisited when we add specializations for int and unsigned
          int.

Tue Sep  6 10:32:23 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Change the position of the use of custom 'output_option' setting.
          Ensure that the input file is the last thing on the command line.

Tue Sep  6 12:51:19 UTC 2005  Don Sharp  <Donald.Sharp@prismtech.com>

        * apps/JAWS2/JAWS/IO.h
          Small fix to counter LynxOS' defining ERROR_MESSAGE

Tue Sep  6 08:46:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * include/makeinclude/platform_vxworks5.5.x.GNU:
          Small fix for '-frepo' builds with shared libs.

Mon Sep  5 14:56:53 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Socket.cpp:

        Reverted this change: "Replaced calls to read/write with
        recv_n/send_n to make things work with BCB on Windows".
        It breaks VC6.

Sun Sep  4 22:27:19 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Link.cpp:

        Aligned receiving buffer manually. This is necessary because
        some of the broken compilers (like BCB) do not adhere to the
        standard when it some to the alignment of the buffers returned
        by operator new. Thanks to Vladislav Zverev <vladislav at gtss
        dot spb dot ru> for reporting this.

        * protocols/ace/RMCast/Socket.cpp:
        * protocols/ace/RMCast/Socket.h:

        Added the from argument to the recv() function. Made the Reactor
        interface code executed only when it is actually used. Replaced
        calls to read/write with recv_n/send_n to make things work with
        BCB on Windows. Thanks to Vladislav Zverev <vladislav at gtss
        dot spb dot ru> for suggestions.

Fri Sep  2 08:29:38 2005  Arvind S. Krishna  <arvindk@tango.dre.vanderbilt.edu>

        * ace/OS_NS_string.h:
        * ace/OS_NS_string.cpp:
        * ace/OS_NS_string.inl:

          Updated the ACE_OS::memcpy optimization to factor out the loop
          unrolled code into a separate function. This should enable
          memcpy function itself to be inlined. Thanks to JT jtc at
          acorntoolworks dot com.

Fri Sep  2 10:44:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/SOCK_Dgram{.h .cpp}:
        * ace/SOCK_Dgram_Mcast{.h .cpp}:
          Added IPv6 multicast support for Win32 (>= XP Pro/Server 2003).

        * tests/Multicast_Test_IPV6.cpp:
          Changed to do IPv6 multicast for non-linux systems as well.

        * bin/MakeProjectCreator/config/ipv6.mpb:
          Added new feature config for IPv6 support.
          Adds additional link library Iphlpapi.lib for windows projects
          (MPC types vc6, vc7, vc71, vc8, nmake, borland and bmake)
          and sets macro ACE_HAS_IPV6.

        * bin/MakeProjectCreator/config/global.features:
        * bin/MakeProjectCreator/config/acedefaults.mpb:
          Introduced 'ipv6' feature.

Fri Sep  2 15:08:27 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/ACE.cpp:

          The code that waited for connections to complete had problems
          with some Windows machines. The code now doesn't trust the write
          bit in select() to indicate an accepted connection.

        * ace/SOCK_Connector.cpp:

          There was a workaround for ACE_WIN32 that would wait 35ms and
          retry after the first connection failure. It wouldn't retry the
          connect(), but would just retry select(). This workaround
          appears to be unnecessary for current Windows machines, so I
          changed the #ifdef ACE_WIN32 to #ifdef ACE_HAS_NON_BLOCKING_BUG.

        * ace/config-win32-common.h:

          ACE would always default to a ACE_DEFAULT_BACKLOG of 5. Changed
          to default to SOMAXCONN on Win32. This special value is used by
          Winsock listen() to indicate that the machine should
          automatically pick a suitable default.

        * tests/MT_SOCK_Test.cpp:

          This test is really to verify that the listen() backlog feature
          works correctly.  Updated the code to make this testable and
          consistent. The code now sleeps in the server thread to give the
          30 client threads time to attempt to connect. Only 5-9 clients
          should succeed, because the Acceptor is created with a listen()
          backlog=5.

Thu Sep  1 17:28:25 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Atomic_Op.cpp:
        * ace/Atomic_Op.h:

          Added ACE_Atomic_Op<ACE_Thread_Mutex, long> template
          specialization for AMD64 when compiled with GCC.

Thu Sep  1 17:38:10 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * bin/ciao_tests.lst

        Corrected the path to the hello test.

Thu Sep  1 18:00:31 2005  Steve Huston  <shuston@riverace.com>

        * tests/Based_Pointer_Test.cpp: Corrected to build on MSVC 6,
          lacking template typedefs. Thanks to Johnny Willemsen for
          this fix.

Thu Sep  1 15:05:55 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/ciao_client_dnc.mpb
        * bin/MakeProjectCreator/config/ciao_servant_dnc.mpb

        Updates to support the CIAO reorganization.

Thu Sep  1 19:14:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/templates/bor.mpd:
          For MPC projects that are custom_only and only have IDL
          build rules the install target didn't work anymore. If the project
          is not an dll or exe, we generate an include of install.bor
          and set the install types to includes. This way the install
          target works for the generate borland makefiles

Thu Sep  1 11:55:39 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/OS_NS_unistd.cpp (num_processors, num_processors_online):

          Provide implementation for *BSD and MacOSX.

Thu Sep 01 10:42:17 2005  Gary Maxey <gary.maxey@hp.com>

        * ace/config-tandem-nsk-mips-v3.h:
          Defined ACE_SIZEOF_WCHAR

Thu Sep  1 15:20:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/SV_Message_Queue.h:
          Fixed copy/paste error

Thu Sep  1 14:22:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/POSIX_Proactor.cpp:
        * ace/SV_Message_Queue.{h,inl}:
          Fixed 64bit warnings

        * ace/UPIPE_Connector.cpp:
          Fixed formatting

Thu Sep  1 14:11:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Timer_Heap_T.cpp:
          Fixed 64bit conversion error

Thu Sep  1 10:10:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/ACE.cpp:
        * ace/LSOCK.{h,cpp}:
          Fixed 64bit conversion problems

Thu Sep  1 10:03:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_linux_icc.GNU:
          Suppress warning 1684 with Intel 9. This is:
          Conversion from pointer to same-sized integral type
          (potential portability problem)

Thu Sep  1 09:27:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_sys_socket.{h,inl}:
          Updated return value of send/recv methods from int to ssize_t to
          fix problems on 64bit systems. On 32bit systems int is size of
          ssize_t so no backward compatibility issues. This is part of
          bug 2203

        * ace/OS_NS_unistd.inl:
          Replaced c-style cast with C++ cast

Thu Sep  1 08:20:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * include/makeinclude/platform_vxworks5.5.x.GNU:
          Added missing library searchpath for '-frepo' builds.

Thu Sep  1 07:42:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Service_Config.h:
          Added ACE_REMOVE_SERVICE_DIRECTIVE that works with plain svc.conf
          and the xml version. Thanks to
          Lothar Werzinger <lothar at xcerla dot com> for creating this new
          macro

Wed Aug 31 14:25:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/DLL_Manager.cpp:
          Initialize pointer to zero

Wed Aug 31 14:11:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/MEM_Stream.{h,inl}:
        * ace/OS_NS_sys_msg.{h,inl}:
          64bit fixes

        * ace/Framework_Component.cpp:
          Initialize pointer to zero

Wed Aug 31 08:48:19 2005  Arvind S. Krishna  <arvindk@dre.vanderbilt.edu>

        * configure.ac:
          Added a test to see if memcpy unrolling improves performance as
          opposted to a vanilla memcpy. This optimization is thanks to
          Mike Martinez martinez_m at oci dot com.

        * OS_NS_string.inl:
          Updated ACE_OS::memcpy to use the corresponding loop unrolling
          based on a flag set by configure.

Wed Aug 31 10:33:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Get_Opt.cpp:
          Fixed 64bit conversion warning

Wed Aug 31 10:29:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/LSOCK.{h,cpp} (recv_handle):
          Changed the type of the len argument from int to ssize_t to
          fix 64bit conversion problems

Wed Aug 31 10:26:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Log_Msg_UNIX_Syslog.{h,cpp}:
        * ace/Log_Record.{h,inl}:
          Fixed 64bit conversion problems

Wed Aug 31 10:16:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Timer_Heap_T.{h,cpp}:
          Fixed 64bit conversion problems

Wed Aug 31 07:39:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Sock_Connect.cpp:
          Fixed WChar problem.

Wed Aug 31 06:10:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Based_Pointer_Test_Lib.cpp:
          Fixed GCC 4 error

Tue Aug 30 14:50:18 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/OS_NS_Thread.inl (ACE_Thread_ID):

          Moved small functions out-of-line.  Reduces footprint and
          improves performance slightly.

        From Patrick Bennett <Patrick.Bennett@inin.com>
        * ace/OS_NS_Thread.cpp (operator==):
        * ace/Thread_Manager.inl (operator=-):

        Corrected thread id/handle equality logic.  It was previously
        inverted.

Tue Aug 30 18:50:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Based_Pointer_Test.cpp:
          Corrected remap test, some platforms grow the mmap area
          downwards. This fixes bugzilla bug 2226. Thanks to
          James Megquier <jmegquier at gmail dot com> for reporting this and
          Steve Williams <steve at telxio dot com> for validating this.

Tue Aug 30 18:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_linux_icc.GNU:
          Use -fPIC instead -KPIC

Tue Aug 30 18:20:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Based_Pointer_Test.cpp:
          Some more wchar fixes

Tue Aug 30 18:16:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.{h,cpp}:
          Made the methods id, handle and to_string of the ACE_Thread_Id
          class const. Thanks to Felix Wyss <FelixW at inin dot com>
          for reporting this.

Tue Aug 30 18:11:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_linux_icc.GNU:
          Use icpc as C++ compiler.

Tue Aug 30 14:49:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/README:
          Added description for new ACE_HAS_IPV6_V6ONLY macro.

Tue Aug 30 13:49:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_win32_icc.GNU:
          First version of Intel C++ compiler on Windows using GNU make

        * ace/config-win32-msvc-7.h:
          Only define ACE_HAS_EXCEPTIONS when it is not defined yet

Tue Aug 30 12:38:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Array_Map.h:
          The 64bit version of the Intel C++ compiler can only work together
          with the latest Platform SDK (June 2005). This SDK ships with an
          old version of the system header files, this is not the same as
          shipped with Visual C++ 2003. This SDK has the old STL implementation
          as shipped with VC6, so we need the workaround for the VC6 compiler
          also with the latest SDK. It seems newer system header files define
          _CPPLIB_VER, when this is not defined we have old header file, so
          made another check, when _MSC_VER is defined, but not _CPPLIB_VER
          we assume older header files and use the vc6 way of reverse
          iterator usage. Hopefully Microsoft ships a platform SDK soon which
          has updated header files

Tue Aug 30 12:22:17 2005  Simon McQueen  <sm@prismtech.com>

        * apps/JAWS2/JAWS/IO.cpp:
        * apps/JAWS2/JAWS/IO.h:

          Removed mispelled message type 'CONFORMATION'.

Tue Aug 30 10:32:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Process_Manager.cpp:
        * ace/WFMO_Reactor.cpp:
          Fixed incorrect checks for MSC_VER, it should be _MSC_VER

Tue Aug 30 10:02:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Based_Pointer_Test.cpp:
          Fixed compile error

Tue Aug 30 09:00:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Default_Constants.h:
          Added some new default macros for IPv6.

        * ace/INET_Addr{.cpp .h .inl}:
          Added more (IPv6 specific) functionality (is_xxx methods).
          Changed get_host_addr() to return IPv6 formatted string for
          IPv4 mapped IPv6 addresses (argumentation inside:).
          Changed string_to_addr() to recognize and handle extended
          IPv6 textual address format, i.e. '[' <ipv6> ']'.

        * ace/Sock_Connect.cpp:
          Added support for retrieval of IPv6 local interfaces to
          ACE::get_ip_interfaces().
          Supported for Windows XP (and newer) and Linux (possibly other
          *nixes as well).

Tue Aug 30 06:02:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_linux_icc.GNU:
          When inlining is disabled, add -fno-inline to the compiler flags.
          This should fix the assembler errors the Intel 9 compiler on
          linux gives

Mon Aug 29 17:26:49 2005  Steve Huston  <shuston@riverace.com>

        * ace/Reactor_Token_T.h: Set the default queueing policy to
          ACE_Token::FIFO, instead of ACE_TOKEN_TYPE::FIFO to work around
          MSVC 6's inability to deal with the definition inside a
          template class argument. This hack can be removed after
          ACE 5.5 is released.

Mon Aug 29 19:33:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Based_Pointer_Test.cpp:
          Wchar fixes

Mon Aug 29 14:29:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Based_Pointer_Test.cpp:
          Fixed GCC compile error

Mon Aug 29 14:01:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Object_Manager.cpp:
          Also for Intel C++ call the _CrtSetReportMode

Mon Aug 29 10:56:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/nmake.features:
          New features file for the nmake project type

Mon Aug 29 09:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/MMAP_Memory_Pool.cpp:
          Fixed bugzilla bug 2218, when an ACE_MMAP_Memory_Pool memory
          segment base address is moved due to a remapping operation,
          the ACE_Based_Pointer_Repository is updated with the new
          base address, but the old mapping was not removed.

          Thanks to Steve Williams <steve at telxio dot com> for reporting
          this and supplying the fix and regression test below.

Mon Aug 29 09:20:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/MMAP_Memory_Pool.cpp:
          Fixed bugzilla bug 2216, when an ACE_MMAP_Memory_Pool is created
          using an existing backing store, the ACE_Based_Pointer_repository
          was not updated with the mapped segment information.

          Thanks to Steve Williams <steve at telxio dot com> for reporting
          this and supplying the fix and regression test below.

Mon Aug 29 09:14:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Based_Pointer_Repository.h:
          Export the based pointer repository from the dll as singleton.
          Fixes bugzilla bug 1919.

        * tests/Based_Pointer_Test.cpp:
        * tests/Based_Pointer_Test_Lib.cpp:
          New test for bugzilla bug 1919. Thanks to Steve Williams
          <steve at telxio dot com> for creating this test

        * tests/run_test.lst:
          Added Based_Pointer_Test

        * tests/tests.mpc:
          Added Based_Pointer_Test

Sun Aug 28 14:25:07 2005  Arvind S. Krishna  <arvindk@dre.vanderbilt.edu>

        * ace/Reactor.h:
        * ace/Reactor.cpp:
        * ace/Reactor.inl:
        * ace/Select_Reactor.h:
        * ace/Select_Reactor_Base.h:
        * ace/Select_Reactor_T.cpp:
        * ace/Select_Reactor_T.h:
        * ace/TP_Reactor.cpp:

          The reactor framework in ACE allows plug and play of different
          reactors such as Select, TP, Devpoll etc. The TAO middleware
          implementation and applications that run atop TAO typically use
          one particular implementation of the Reactor. For example, a
          single-threaded application might use select_* reactors. The
          Reactor framework uses the bridge pattern to transparently
          invoke operations on the right reactors. When the concrete
          Reactor is known, it should be possible to specialize the
          framework to use the concrete reactor directly rather than use
          the bridge.

          As a part of the Feature Oriented Customizer (FOCUS) tool being
          developed in my research, we are trying to specialize frameworks
          when the concrete implementation type is known a priori. FOCUS
          provides an XML based transformation engine, where the
          specialization transformations are captured in XML file and a
          weaver specializes the code.

          To help in this transformation process, this commit adds markers
          within the source code. These markers are added as special
          comments. For example, //@@
          REACTOR_SPL_INCLUDE_FORWARD_DECL_ADD_HOOK represents a hook
          where forward declarations and include files are added by the
          weaver. As these markers are comments therefore should not
          affect normal applications in *any* manner. Additionally,
          applications that use multiple reactor implementations not be
          affected/do not need any change. Currently, these
          specializations are targeted for TAO middleware, where
          applications know the target reactor a priori and want to
          leverage the specialization to improve performance.

Sun Aug 28 14:13:25 2005  Arvind S. Krishna  <arvindk@dre.vanderbilt.edu>

        * ace/Object_Manager.cpp:
        * ace/Naming_Context.cpp:
        * ace/Log_Msg.cpp:

          When ACE_HAS_TRACE flag is defined, the aforementioned files did
          not include the Trace.h include. This commit fixes the
          resulting compilation problems.

Fri Aug 26 18:01:31 2005  Steve Huston  <shuston@riverace.com>

        * ace/Select_Reactor.cpp:
        * ace/Select_Reactor_Base.h:
        * ace/Select_Reactor_T.(h cpp):
        * ace/Reactor_Token_T.(h cpp): Moved the definition/implementation of
          ACE_Select_Reactor_Token_T and its associated token-type selection
          macros to new file Reactor_Token_T.(h cpp); retargeted
          ACE_Select_Reactor_Token_T to call the ACE_Reactor_Impl interface
          rather than ACE_Select_Reactor. Renamed the class
          ACE_Reactor_Token_T to reflect this refactoring. This allows the
          token to be used in reactor implementations that are not derived
          from ACE_Select_Reactor.

        * ace/ace.mpc:
        * ace/Makefile.am: Added the new files Reactor_Token_T.cpp and .h.

        * ace/Dev_Poll_Reactor.(h cpp): Replace the use of ACE_SYNCH_MUTEX with
          ACE_Reactor_Token_T for the reactor's internal-protecting lock.
          Allows threads wishing to twiddle with the registrations or run the
          event loop to properly notify and synchronize with another thread
          that's already running the event loop.
          Also Clarified documentation on the queue-type members of
          ACE_Dev_Poll_Reactor_Notify.

        * ace/POSIX_Proactor.cpp (ACE_POSIX_SIG_Proactor::handle_events_i):
          Retry the wait on EINTR. Previous comments said this automatically
          happened because ACE_OSCALL_RETURN did it; it no longer does that,
          so explicit EINTR check code was added here.

        * apps/JAWS3/jaws3/Event_Dispatcher.h: Correct for the new reactor
          token type defined, above.

        * tests/MT_Reference_Counted_Event_Handler_Test.cpp: Added ACE_TEXT
          where needed for ACE_DEBUG statements.

        * tests/Multicast_Test.cpp: After stopping the reactor loop on test
          timeout, wait for the task's thread(s) to exit or there's a race
          between thread exit and deleting the task's memory.

Fri Aug 26 10:52:38 2005  Gary Maxey <gary.maxey@hp.com>

        * ace/Array_Map.inl:

          In operator[], broke complex statement into two statements.
          Compiler got confused by the original statement and generated
          incorrect code.

Fri Aug 26 11:43:01 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/CDR_Stream.h:
        * ace/CDR_Stream.inl:
        * ace/CDR_Stream.cpp:

          Add a new simple class using RAII to call reset on an output CDR
          when it goes out of scope. This is used to implement a new TAO
          option that will reset() output CDRs after sending each request.

          Add an optional ACE_Lock* to one of the input CDR
          constructors. This is used by one of the TAO Any_Impl derived
          classes to provide thread safety for its internal CDR.

Fri Aug 26 11:02:21 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/fuzz.pl:

          Enhanced the check_for_ace_check function to detect the use of
          ACE_CHECK/ACE_CHECK_RETURN from within an ACE_TRY block.

Fri Aug 26 09:40:08 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/OS_NS_Thread.cpp:

          Add missing ACE_ADAPT_RETVAL functions for calls to ::pthread*
          routines.  This allows the caller to check the errno to find out
          what went wrong.

Fri Aug 26 09:06:32 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/fuzz.pl:

          Fixed the detection of missing ACE_CHECK/ACE_TRY_CHECK.  It was
          missing most ACE_ENV_ARG_PARAMETER's due to a fouled up regular
          expression.

Fri Aug 26 13:29:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Reactor.cpp (schedule_timer):
          Fixed implicit conversion from long to int to long, found
          by 64bit warnings

        * ace/POSIX_Asynch_IO.cpp:
          Fixed 64bit bit conversion warning

Thu Aug 25 18:53:31 2005  Steve Huston  <shuston@riverace.com>

        * tests/Array_Map_Test.cpp: Don't attempt to build this test if
          using explicit template instantiation. It's hopeless trying STL
          code with explicit templates, especially portably.

        * tests/Time_Value_Test.cpp: Fixed typo.

Thu Aug 25 11:40:36 2005  Chris Cleeland  <cleeland_c@ociweb.com>

        * ace/Task.cpp (activate): Corrected misuse of the argument
          'grp_id' rather than the data member 'grp_id_'.  This prevented
          activate() from being able to join existing group.  Thanks to
          Kevin Heifner <heifner_k at ociweb dot com> for catching this.

Thu Aug 25 12:32:18 2005  Steve Huston  <shuston@riverace.com>

        * tests/Process_Manual_Event_Test.cpp: Removed #if0 block put in
          for testing and fixed compile error.

Wed Aug 24 19:09:31 2005  Steve Huston  <shuston@riverace.com>

        * configure.ac: Copied in updated copyright paragraph from COPYING.

        * ace/OS_NS_Thread.cpp: Formatting fixes.

        * tests/Process_Manual_Event_Test.cpp: ACE_ERROR formatting
          corrections (%p needs a string); code format fixes.

Wed Aug 24 17:15:28 2005  Steve Huston  <shuston@riverace.com>

        * ace/Stream_Modules.h: Added some info about ACE_Stream_Head so
          I don't have to keep looking it up ;-)

Wed Aug 24 12:39:04 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/fuzz.pl:

          Fixed this script to work with the ACE_ENV_ARG_PARAMTER and
          ACE_ENV_SINGLE_ARG_PARAMETER macros.  This will begin to check all
          of the missing ACE_CHECK/ACE_TRY_CHECK's again.

Wed Aug 24 08:51:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Select_Reactor_Base.cpp:
          Fixed possible unitialized used warning

Tue Aug 23 22:56:33 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Dev_Poll_Reactor.cpp (close):

          Removed unnecessary zeroing of underlying epoll data structure
          array.

          Deallocate epoll event data structure array and /dev/poll event
          handler file descriptor array after closing the epoll and
          /dev/poll file descriptor, respectively, to ensure consistent
          finalization of resources, to prevent potential destruction of
          event resources while waiting for events in another thread.
          It's not clear whether such a scenario will occur since a lock
          is currently held but better to be consistent.

Tue Aug 23 22:35:00 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * tests/Array_Map_Test.cpp (reference_count_test):

          Added some assertions to further verify correct ACE_Array_Map
          operation.

        * tests/Dev_Poll_Reactor_Test.cpp (handle_input):

          Fixed loop variable increment.  A for-scope variable was
          shadowing the "bytes_read" value, preventing the loop variable
          from being updated correctly.

Tue Aug 23 22:24:16 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Atomic_Op_T.cpp:
        * ace/Atomic_Op_T.inl:

          Moved inlined constructor to the ".inl" inline source file.

Tue Aug 23 22:17:29 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * apps/JAWS2/JAWS/JAWS.h:

          Fixed '"JAWS_NTRACE" is not defined' g++ 4.0 preprocessor symbol
          warning.

Tue Aug 23 19:59:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/IO_Handler.{h,cpp}:
          Tried to fix gcc4 errors

Tue Aug 23 18:57:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Configuration.cpp:
          Explicitly initialize local variables

        * ace/OS_NS_sys_socket.inl:
          Removed not needed c-style casts that caused 64bit warnings

Mon Aug 22 09:36:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/bmake.features
        * bin/MakeProjectCreator/config/borland.features
        * bin/MakeProjectCreator/config/em3.features
        * bin/MakeProjectCreator/config/gnuace.features
        * bin/MakeProjectCreator/config/vc6.features
        * bin/MakeProjectCreator/config/vc71.features
        * bin/MakeProjectCreator/config/vc8.features
          New features file for each project type we ship in the release.
          This files are read by MPC for the correct type when generating
          makefiles.

        * bin/make_release:
          No need to generate multiple default.features file in the
          release proces, this is now handled in the features file
          per project type

Mon Aug 22 08:46:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-unixware-7.1.0.udk.h:
          Removed commented out define

Mon Aug 22 08:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-win32-msvc-8.h:
          Disable warning 4290 again

Mon Aug 22 08:29:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Configuration.{h,cpp}:
          Moved operator != out of header file to cpp file

Mon Aug 22 11:09:07 2005  Olli Savia  <ops@iki.fi>

        * include/makeinclude/platform_lynxos.GNU:
          Improved shared library support for LynxOS 4.0

Sun Aug 21 13:19:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Select_Reactor_T.cpp (check_handles):
          Pass select_handles as 0 on Win32, this was now just done for
          Win64, but it is not needed on Win32 and also causes conversion
          warnings when 64bit checks are enabled on win32.

Sun Aug 21 11:13:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/msvc_static_order.lst:
          Added the new core libs

Fri Aug 19 14:15:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Sock_Connect.cpp:
          Reverted IPv6 related to accomodate some TAO builds which have
          ACE_HAS_IPV6 but do not have my TAO IPv6 changes yet.
          Will commit all at a later moment.

Fri Aug 19 13:39:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Name_Request_Reply.cpp:
          Fixed conversion warning

Fri Aug 19 13:26:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/DLL_Manager.cpp
        * ace/Log_Msg.cpp
        * ace/MEM_Acceptor.cpp
        * ace/MEM_IO.inl
        * ace/Select_Reactor_Base.cpp
        * ace/SV_Semaphore_Complex.cpp
        * ace/UUID.cpp
        * ace/WIN32_Asynch_IO.cpp
          Fixed conversion warnings given by Visual C++ 2003 at warning
          level 4. Used the correct types for intermediate variables, no
          casts are needed.

Fri Aug 19 12:28:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/CORBA_macros.h:
          For HP aCC use the special ACE_THROW_RETURN to fix the warnings
          that the compiler gives

Fri Aug 19 09:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * etc/tao_pi.doxygen:
        * etc/tao_pi_server.doxygen:
        * etc/tao_anytypecode.doxygen:
          New config files

        * etc/tao_portableserver.doxygen:
          Cleanup

        * html/index.html:
          Added new libs

        * bin/generate_doxygen.pl:
          Also generate documentation for the new projects

Fri Aug 19 09:04:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Sock_Connect.cpp:
          Added include of OS_NS_stdio.h since some builds otherwise miss out
          on things like ACE_OS::fopen() and such (now for real).

        * ace/SOCK_Connector.cpp:
          Reverted change which was meant for Sock_Connect.cpp:-(

Fri Aug 19 08:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-win32-msvc-7.h:
          Disable 4290 again, a scoreboard build showed that we need to
          disable it, but didn't had that problem on my local systme

Fri Aug 19 08:33:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Sock_Connect.cpp:
          Added include of OS_NS_stdio.h since some builds otherwise miss out
          on things like ACE_OS::fopen() and such.

Fri Aug 19 07:56:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        Merged changes from the AnyRefactor branch as below

        Wed Aug 17 07:01:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/anytypecode.mpb:
        * bin/MakeProjectCreator/config/taoclient.mpb:
        * bin/MakeProjectCreator/config/taoidldefaults.mpb:
          By default we now suppress Any and Typecode generation with -Sa
          and -St but when the AnyTypeCode library is used, then these
          options are removed from the idl flags. This way simple apps
          don't get this lib by default

        Tue Aug 16 19:00:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-win32-msvc-7.h:
        * ace/config-win32-msvc-8.h:
          Removed disabling of warning 4290

        * ace/CORBA_macros.h:
          Removed special ACE_THROW_RETURN for win32 and HP aCC, this
          is not needed and only gives a lot of warnings at level 4
          with msvc

        Thu Aug 11 10:48:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/orbsvcsexe.mpb:
          Added AnyTypeCode

        Wed Aug 10 11:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/orbsvcslib.mpb:
          Added AnyTypeCode as base project.

        Wed Aug 10 09:34:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/valuetype.mpb:
          Added AnyTypeCode as base project

        Wed Aug 10 08:14:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/taoclient.mpb:
          Just for short, added anytypecode to the client. This should really be
          dependent on the idl compiler flags

        Fri Jul 29 18:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/codecfactory.mpb
        * bin/MakeProjectCreator/config/dynamicany.mpb
        * bin/MakeProjectCreator/config/ifr_client.mpb
        * bin/MakeProjectCreator/config/iormanip.mpb
        * bin/MakeProjectCreator/config/strategies.mpb
          Added AnyTypeCode as base project

        Thu Jul 28 12:33:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/anytypecode.mpb:
          New base project

Thu Aug 18 09:34:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Sock_Connect.cpp:
          Added support for retrieval of IPv6 local interfaces to
          ACE::get_ip_interfaces().
          Supported for Windows XP (and newer) and Linux (possibly other
          *nixes as well).

Wed Aug 17 18:39:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Message_Block.{h,cpp,inl}:
          In case a locking strategy is used, also make sure we use the
          lock when accessing the reference count of the ACE_Data_Block.
          Thanks to Viktor Chernenko
          <viktor dot chernenko at med dot ge dot com> for reporting this
          and supplying some patches to start with. This should fix
          according to Viktor some crashes in the notificaion service
          under high load.

Wed Aug 17 15:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Condition_Recursive_Thread_Mutex.{h,cpp}:
          Moved ACE_Condition_Recursive_Thread_Mutex constructor
          implementation from header to cpp file

Wed Aug 17 15:25:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Waiter.cpp:
          Call find_by_index instead of find

Tue Aug 16 19:13:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Assoc_Array.{h,cpp}:
        * apps/JAWS2/JAWS/Concurrency.cpp:
          Changed find(int) to find_by_index (int), to resolve
          ambiguity warnings of the HP aCC compiler

Tue Aug 16 11:16:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Pipeline_Handler_T.cpp:
          Replaced c-style cast with reinterpret cast

Tue Aug 16 11:11:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-hpux-11.00.h:
          Added ACE_HAS_WORKING_EXPLICIT_TEMPLATE_DESTRUCTOR

Tue Aug 16 06:46:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Assoc_Array.cpp:
          Removed pragma once

Mon Aug 15 21:55:00 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * apps/JAWS2/JAWS/IO_Handler.cpp: #include "JAWS/Filecach.h"
          to get the definition of JAWS_Cached_FILE.  Thanks to
          Simon Massey and Steve Huston for reporting this.

Mon Aug 15 11:03:42 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/MakeProjectCreator/config/dslogadmin_serv.mpb:

          Changed to inherit from utils.

Mon Aug 15 09:12:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/DLL_Manager.cpp:
          We first try to find the file using the decorator so that when a
          filename with and without decorator is used, we get the file with
          the same decorator as the ACE dll has and then as last resort
          the one without. For example with msvc, the debug build has a "d"
          decorator, but the release build has none and we really want to get
          the debug version of the library in a debug application instead
          of the release one.

          Thanks to Vitaly Belekhov <vitaly at megasignal dot com> for
          reporting this and supply the patches. This fixed bugzilla
          2210

Sun Aug 14 11:27:54 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * apps/JAWS2/JAWS/IO_Handler.cpp (handle_transmit_file): Fixed
          a bug where

            delete (ACE_Filecache_Handle *) result.act ();

          should have been

            delete (JAWS_Cached_FILE *) result.act ();

          Thanks to Anand Rathi <anandprathi@yahoo.co.in> for reporting
          this.

Fri Aug 12 12:00:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Parse_Headers.{h,cpp}:
          Changed STATUS_CODE enum to fix compile errors with VxWorks

Thu Aug 11 16:04:30 2005  Chris Cleeland  <cleeland_c@ociweb.com>

        * ace/OS_NS_stdio.inl (ACE_HAS_WCHAR vsnprintf): This is an
          actively edited file today!  Fixed the name of the last
          argument in the call so that it actually matches the name
          of the argument in the arg list.

Thu Aug 11 14:13:22 2005  Chad Elliott  <elliott_c@ociweb.com>

        * include/makeinclude/platform_sunos5_sunc++.GNU:

          ACE will not compile with SunCC 5.6 or 5.7 if native exceptions
          are disabled unless STLPort is used.

Thu Aug 11 12:29:39 2005  Steve Huston  <shuston@riverace.com>

        * ace/Time_Value.inl (msec): When moving tv_sec to ACE_UINT64,
          static cast it to the desired ACE_UINT64, not ACE_UINT32.

        * ace/ace_wchar.inl (convert):
        * ace/OS_NS_unistd.inl (read):
        * ace/OS_NS_stdio.inl (fread, fwrite):
        * ace/OS_NS_sys_socket.inl (sendto): Use proper types portable to
          64 bits.

        * ace/Functor.inl (ACE_Hash<ACE_UINT64>): If unsigned long is
          not 4 bytes, don't try to cast 64 bits down to 4 bytes.

        * ace/OS_NS_stdio.inl (ACE_HAS_WCHAR vsnprintf): This is the same
          situation as ACE_OS::vsprintf - the X/Open/XPG folks got it right
          and added the maxlen argument when defining wide-char *printf
          functions, so just use vswprintf() - there's no such thing as
          vswnprintf().

Thu Aug 11 06:44:44 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/depgen.pl:
        * bin/DependencyGenerator/DependencyWriterFactory.pm:
        * bin/DependencyGenerator/MakeDependencyWriter.pm:
        * bin/DependencyGenerator/MakeObjectGenerator.pm:
        * bin/DependencyGenerator/ObjectGeneratorFactory.pm:

          Added a generic make dependency generator.

        * bin/MakeProjectCreator/config/smart_proxies.mpb:

          Switched orbsvcslib with taolib_with_idl since Smart Proxies have
          nothing to do with orbsvcs.

        * bin/MakeProjectCreator/modules/AutomakeWorkspaceHelper.pm:

          Added support for CIAO and a hook for correctly modifying the
          library path to account for differences with the automake layout
          of ACE and TAO.

        * bin/MakeProjectCreator/templates/gnu.mpd:

          If static_libs_only is set to 1, build up a list of libraries upon
          which the BIN target will be dependent.  This will cause binaries
          to re-link in the event that a static library is updated.

Thu Aug 11 09:44:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_stdio.inl:
          Made the wchar vsnprintf a notsup, linux doesn't support this and
          I don't have time to fix this.

Thu Aug 11 07:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Concurrency.cpp:
          Fixed single threaded build

Thu Aug 11 07:44:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_stdio.inl:
          Added wchar vsnprintf version, was declared but not implemented

Wed Aug 10 15:43:37 2005  Gary Maxey <gary.maxey@hp.com>

        * tests/run_test.lst:
          Excluded tests inappropriate for HP-NSK platform

Wed Aug 10 11:27:01 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/OS_NS_stdio.inl (vsnprintf):

          Fixed "no return statement in function returning non-void"
          warning.

          Removed uses of deprecated ACE_OSCALL macro.

Wed Aug 10 10:03:40 2005  Gary Maxey <gary.maxey@hp.com>

        * ace/OS_NS_stdio.inl:
        * ace/Process.cpp

          Regarding change:
          Fri Jul 22 13:29:32 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>
          use vsnprintf only if the platform supports it.

Wed Aug 10 07:37:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/IO.cpp:
        * apps/JAWS2/JAWS/IO_Acceptor.cpp:
        * apps/JAWS2/JAWS/IO_Handler.h:
          Fixed compile errors in Cygwin build

Wed Aug 10 07:27:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Reaper.h:
          Fixed compile error in single threaded builds

Tue Aug  9 16:57:09 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * bin/MakeProjectCreator/config/taolib.mpb:
          Added the codeset project to the "after" list to ensure the
          codeset library is built for any project that also depends on
          TAO. This is necessary because there are some executables that
          depend on libTAO and may therefore depend on libTAO_Codeset, but
          do not include taoexe in the MPC base project list. For example
          some of the CIAO executables have no need for the build elements
          brought in by taoidldefaults base project.

Tue Aug  9 11:11:50 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * bin/MakeProjectCreator/config/negotiate_codesets.mpb:
          Removed unused compiler macro.

        * bin/MakeProjectCreator/config/orbsvcsexe.mpb:
        * bin/MakeProjectCreator/config/rt_client.mpb:
        * bin/MakeProjectCreator/config/rt_server.mpb:
          Added dependency on negotiate_codesets feature so that the
          TAO_Codeset library will be added in the correct order,
          if desired.

        * bin/MakeProjectCreator/config/taoexe.mpb:
          Added Codeset project to the After list to ensure that the
          Codeset library is available for dynamic linking for those
          applications that require it.

Tue Aug  9 10:48:39 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/OS_NS_stdio.cpp (snprintf): Added a wchar_t version of
          snprintf().  Thanks to Simon Massey for reporting this.

Tue Aug  9 13:22:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/make_release:
          Added sxd to files that should not get crlf conversion

Tue Aug  9 13:18:43 UTC 2005  Jeff Parsons <j.parsons@vanderbilt.edu>

        * ace/Global_Macros.h:

          Added missing '#' before a 'define'.

Tue Aug  9 11:48:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-win32-msvc-6.h:
          Added ACE_HAS_NO_THROW_SPEC

        * ace/Global_Macros.h:
          Simplified ACE_THROW_SPEC specificiation. This way with vc71 and vc8
          we get exception specifications.

Tue Aug  9 10:59:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Svc_Conf_l.cpp:
          Forced a commit of this file, will probably solve the regeneration
          errors

        * apps/JAWS2/JAWS/Waiter.h:
          Added missing include

Mon Aug  8 12:54:51 2005  Steve Huston  <shuston@riverace.com>

        * ace/Log_Msg.cpp (open): Reverted these changes:
          Fri Apr 22 18:02:37 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

          * ace/Log_Msg.cpp (open): Fixed a problem with LOGGER and logger_key
            and the backend_->open() call.  Thanks to Jerry D. De Master
            <jdemaste at rite-solutions dot com> for reporting this.

          Tue Jan 18 08:17:10 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

          * ace/Log_Msg.cpp (open): Fixed the logic to pass prog_name
            rather than logger_key, which fixes a bug with syslog.  Thanks
            to Robert Iakobashvili <roberti@GoNetworks.com> for this fix.

          They broke a fix from:
          Sat Dec  1 19:39:22 2001  Steve Huston  <shuston@riverace.com>

        * ace/Log_Msg.h: Improved the documentation for open() to note the
          role of the logger_key argument when LOGGER and SYSLOG are set in
          flags.
          To get the progr_name used as the syslog/event log source ID, pass
          a 0 logger_key.

        * ace/SOCK_Dgram_Mcast.h: Clarified that instead of using set_option,
          use ACE_SOCK::set_option().

        * ace/DEV_Addr.{h inl cpp}: Fix non-0-terminated name possibility
          when setting a new name. Thanks to James Damour
          <james dot damour at request dot com> for this fix.
          Also introduced a private enum to define the length of the name
          buffer and use the new value to limit string copy sizes.

        * THANKS: Added James Damour to the Hall of Fame.

Mon Aug  8 10:44:16 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * ace/OS_NS_stdio.inl
        * ace/Process.cpp

        Fixed a compilation problem from:

        Fri Jul 22 13:29:32 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

Mon Aug  8 09:57:15 2005  William Otte  <wotte@dre.vanderbilt.edu>

        * ace/config-macosx-tiger.h
        * include/makeinclude/platform_macosx_tiger_gcc4.GNU

        Adding preliminary support for OS X 10.4

Mon Aug  8 13:58:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/IO.cpp:
        * apps/JAWS2/JAWS/Concurrency.{h,cpp}:
          Fixed compile problems in single threaded build

Sat Aug  6 17:25:04 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Svc_Conf.l: Removed the ' and " characters to avoid
          problems with Lex.  Thanks to Rohini Madhavan <ro_madhavan at
          sify dot com> and Brian Buesker <bbuesker at qualcomm dot com>
          for helping with this.

Wed Aug  3 12:35:23 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Asynch_Acceptor.{h,cpp}:
        * ace/Asynch_Connector.{h,cpp}: Fixed the code so it doesn't try
          to build on Windows CE.  Thanks to Alan Anderson
          <Alan.Anderson@sdsmt.edu> for reporting this.

        * ace/DEV_Addr.cpp (set): NULL-terminate the devname_ string.
          Thanks to James Damour <james.damour@request.com> for reporting
          this problem.

Tue Aug  2 14:01:39 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * THANKS: Added Abdel Rigumye <rigumyea at ociweb dot com>,
          who is the 2000th contributor to ACE+TAO+CIAO!!!!

Fri Jul 22 13:29:32 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Process.cpp (command_line): Changed the use of
          ACE_OS::vsprintf() to use the new ACE_OS::vsnprintf().  Thanks
          to Xue for this suggestion, as well.

        * ace/OS_NS_stdio.{h,inl}: Added support for ACE_OS::vsnprintf().
          Thanks to Xue Yong Zhi <seclib at seclib dot com> for this
          suggestion.

Mon Aug  8 08:58:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added two new collocation tests

        * apps/JAWS2/JAWS/jaws2.mpc:
          New MPC file

Fri Aug 05 07:37:20 2005  Simon Massey  <sma@prismtech.com>

        * ACE version 5.4.7 released.

Fri Aug  5 13:19:33 2005  Simon McQueen  <sm@prismtech.com>

        * Release:

          Remove tagging of man/* files.

Thu Aug  4 16:10:24 BST 2005  Donald Sharp   <Donald.Sharp@prismtech.com>

        * tests/Array_Map_Test.cpp:
          Some compilers, like SunCC5.5 on Solaris, do not delete their
          temporaries in expression scope. Placing the expressions in an
          inner block ensures that the reference count is as expected

Wed Aug 03 09:35:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * tests/Process_Manual_Event_Test.cpp:
          Added additional tests for lacking PSHARED support.

Sat Jul 30 10:38:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_other_tests.lst:
          Added missing semi colon for CosEvent basic test

Fri Jul 29 14:25:12 2005  Steve Huston  <shuston@riverace.com>

      * ace/config-aix-5.x.h: Disable ACE_HAS_POSIX_SEM if the Posix
        flags indicate its presence but _XOPEN_SOURCE is not >= 500.

      * tests/run_test.pl: When looking for sub-log files, match the program
        name only at the start. Prevents finding, for example,
        Process_Manual_Event_Test-child.log when looking for
        Manual_Event_Test-*.log.

Fri Jul 29 14:26:37 2005  Simon McQueen  <sm@prismtech.com>

        *  bin/tao_other_tests.lst:

           Scheduled TAO/orbsvcs/tests/CosEvent/Basic/run_test.pl to be
           run on all not minimum or single threaded builds.

Fri Jul 29 09:28:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/JAWS2/JAWS/Filecache.cpp:
        * apps/JAWS2/JAWS/IO.cpp:
        * apps/JAWS2/JAWS/IO_Handler.cpp:
          Fixed compile errors when building with Borland C++. I have created
          an MPC file but find it too risky to add that just before the
          release, will do that when the release is out.

        * ace/Global_Macros.h:
          When ACE_EXPLICIT_TEMPLATE_DESTRUCTOR_TAKES_ARGS is defined, define
          a special version of ACE_DES_FREE_TEMPLATE3 and
          ACE_DES_FREE_TEMPLATE4 just as we do for ACE_DES_FREE_TEMPLATE and
          ACE_DES_FREE_TEMPLATE2.

          Thanks to Olivier Gu�in <guerin35 at hotmail dot com>
          for reporting this.

Fri Jul 29 07:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_cray.GNU:
        * include/makeinclude/platform_freebsd.GNU:
        * include/makeinclude/platform_hpux.GNU:
        * include/makeinclude/platform_hpux_gcc.GNU:
        * include/makeinclude/platform_irix5.3_g++.GNU:
        * include/makeinclude/platform_irix6.x_g++.GNU:
        * include/makeinclude/platform_irix6.x_kcc.GNU:
        * include/makeinclude/platform_linux_borland.GNU:
        * include/makeinclude/platform_m88k.GNU:
        * include/makeinclude/platform_mvs.GNU:
        * include/makeinclude/platform_netbsd.GNU:
        * include/makeinclude/platform_openbsd.GNU:
        * include/makeinclude/platform_osf1_3.2_cxx.GNU:
        * include/makeinclude/platform_osf1_4.x_kcc.GNU:
        * include/makeinclude/platform_sco5.0.0-CC-fsu-pthread.GNU:
        * include/makeinclude/platform_sco5.0.0-fsu-pthread.GNU:
        * include/makeinclude/platform_sco5.0.0-mit-pthread.GNU:
        * include/makeinclude/platform_sco5.0.0-nothread.GNU:
        * include/makeinclude/platform_tandem.GNU:
        * include/makeinclude/platform_vxworks5.5.x.GNU:
        * include/makeinclude/platform_win32_interix.GNU:
          Updated location for libraries from $ACE_ROOT/ace to
          $ACE_ROOT/lib. Thanks to Ian Zagorskih
          <ianzag at megasignal dot com> for reporting this.
          This fixes bugzilla 2202

Thu Jul 28 13:59:11 2005  Simon McQueen  <sm@prismtech.com>

        * bin/tao_other_tests.lst:

          Added !MINIMUM to Bug_1630_Regression test. It needs the IFR.

Thu Jul 28 01:46:40 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Cache_Map_Manager_T.cpp:
        * ace/Cache_Map_Manager_T.inl:
        * ace/MEM_SAP.cpp:
        * ace/MEM_SAP.inl:
        * ace/Map_T.cpp:
        * ace/Map_T.inl:
        * ace/Signal.cpp:
        * ace/Signal.inl:

          Moved virtual destructors in exported classes out of line.
          Addresses RTTI problems when the using g++ 4.0 hidden visibility
          for inline functions feature.

Thu Jul 28 00:28:46 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Array_Map.cpp:
        * ace/Array_Map.h:
        * ace/Array_Map.inl:

          Added third equality functor template parameter.  Defaults to
          std::equal_to<> if unspecified.  Necessary for cases where
          operator==() is not suitable or available for a given key type.

          (erase):

          Explicitly destroy the tail element by assigning a default
                constructed value_type instance to it.  Prevents duplicate
          instances of erase()d elements from existing.  Some applications
          may assume that erased elements no longer exist.  This
          essentially disables the lazy destruction behavior of
          ACE_Array_Map.  Note that this change also applies to the case
          of a map of size 1.

        * ace/Refcountable.cpp:
        * ace/Refcountable.inl:

          Moved ~ACE_Refcountable() virtual destructor out of line.
          Addresses RTTI issues when g++ 4.0 hidden visibility of inlined
          functions is enabled.

        * ace/config-lite.h:

          Disable use of ACE_RCSIDs by default.  Most users never need to
          determine the RCS ID of a given object file in an ACE-based
          binary so optimize for the common case.  Also reduces
          footprint.

        * tests/Array_Map_Test.cpp:

          Added reference count test to verify that the number of
          references/copies of a given data element drop by the same
          amount as was increased during insertion.

Wed Jul 27 16:33:46 2005  Gary Maxey <gary.maxey@hp.com>

        * ace/config-tandem-nsk-mips-v3.h:

          Add #define for ACE_ANY_OPS_USE_NAMESPACE

Mon Jul 25 19:25:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Naming_Test.cpp:
          Initialise pointer with 0

Mon Jul 25 15:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Timer_Hash_T.cpp:
          Initialise some pointers with 0

        * ace/Refcountable.h:
          Removed some empty doxygen tags

        * ace/Naming_Context.cpp:
          Removed not needed ACE_UNUSED_ARG

Sat Jul 23 16:36:36 2005  Jaiganesh B  <jai@dre.vanderbilt.edu>

        * bin/ciao_tests.lst:

          enabled running CIAO NodeApplicationTest again.

Fri Jul 22 16:31:29 2005  Steve Huston  <shuston@riverace.com>

        * ace/Basic_Types.h: The change from:
          Fri Jul 8 15:42:18 2005 Steve Huston <shuston@riverace.com>
          turned a previous warning into an error on newer g++ versions.
          Instead, moved the __hi_lo struct definition out of the
          anonymous union and renamed it to not be a compiler-private name
          (with 2 leading underscores). This should resolve all the
          issues. Thanks to Simon Massey for figuring this out.

Fri Jul 22 11:13:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/ciao_server_dnc.mpb:
          Add naming as base project, CIAO_DnC_Server has this
          also

Fri Jul 22 09:30:00 UTC 2005  Simon Massey  <sma@prismtech.com>

        * tests/run_test.lst:
          Don't run Process_Manual_Event_Test on HPUX

Thu Jul 21 10:41:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Don't run Bug_2174_Regression in a minimum corba build

Thu Jul 21 09:15:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Atomic_Op_T.h:
          Use deprecate tag for deprecated methods

Thu Jul 21 09:24:58 2005  Simon McQueen  <sm@prismtech.com>

        * bin/ciao_tests.lst:

          Descheduled the 3 TAO/CIAO/DAnCE/tests/NodeApplicationTest
          tests. They fail and there have been no responses to
          requests that they be fixed.

Wed Jul 20 06:45:00 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/msvc_static_order.lst:

          Added Ds{Event,Notify}LogAdmin_{IDL,Skel,Serv} --- just to
          be safe.

Wed Jul 20 09:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * protocols/ace/RMCast/Makefile.am:
          Added new files

Wed Jul 20 08:38:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/auto_run_tests.pl:
          Check for result != 0 instead of result > 0. It seems that when
          a run_test.pl has been added from a windows box that it sometimes
          doesn't get execute permission and then the script can't be
          executed on Unix systems. The return value is then -1 and this
          wasn't detected by the scripts

Wed Jul 20 07:55:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/msvc_static_order.lst:
          Added DsLogAdmin_IDL

Tue Jul 19 14:24:47 2005  Gary Maxey <gary.maxey@hp.com>

        * bin/PerlACE/Process_Unix.pm:

          Append command line arguments based on ACE_RUNTEST_ARGS
          environment variable.

        * ace/config-tandem-nsk-mips-v3.h:

          Adjust platform specific macros

Tue Jul 19 19:09:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Log_Record.cpp:
          Reverted part of the change below. Not all platforms have snprintf,
          just use sprintf, all platforms have that. Fixes problems with
          VxWorks
          Thu Jul 14 12:23:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

Tue Jul 19 14:08:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added new Register_Initial_References test. This will fail in
          all builds, it seems we have some bugs to fix

Tue Jul 19 12:37:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added new recursive ORBInitializer test

Tue Jul 19 11:49:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Enable Bug_2088, rewrote this test to test the current functionality
          which matches the draft 3.1 spec. The Corba 3.0.3 seems to be not
          usable.

Tue Jul 19 10:28:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_fcntl.cpp:
        * ace/OS_NS_sys_mman.inl:
          When returning an ACE_HANDLE return ACE_INVALID_HANDLE instead
          of -1 as error

Mon Jul 18 18:21:20 2005  Steve Huston  <shuston@riverace.com>

        * NEWS: Added ACE_OS::closesocket() and Solaris 10 notes.

Mon Jul 18 12:11:39 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/msvc_static_order.lst:

          Add CosNaming_IDL, CosTrading_IDL, and CosNotification_IDL
          projects to list.

Mon Jul 18 11:42:09 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/modules/GNUACEWorkspaceCreator.pm:

          Revived the old style where each GNUmakefile has individual
          targets that contain the necessary dependencies.  To utilize this
          you must set the MPC_GNUACE_NAMED_TARGETS environment variable.

Mon Jul 18 09:08:01 2005  Gary Maxey <gary.maxey@hp.com>

        * bin/tao_orb_tests.lst:

          Added OBV/ValueBox the list of tests. This is a new test
          to exercise boxed value types.

Mon Jul 18 15:51:04 2005  Simon McQueen  <sm@prismtech.com>

        * ace/OS_NS_Thread.cpp:

          Removed unreachable statements identified by HP non stop
          MIPS build warnings.

Mon Jul 18 09:21:14 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * NEWS:

          Took out TAO-specific comments.

Mon Jul 18 13:44:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Mem_Map.cpp:

          Reverted the change below, it causes problems on AIX and Solaris. It
          seems that on AIX we now use ACE_OS::open for shared memory, with the
          change below we use ACE_OS::shm_open but this fails for strange
          reasons and I have no idea what the problem is at this moment. So
          revert this until Martin is back from his vacation

          Tue Jul 05 21:40:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>
          Changed to consistently use ACE_OS::shm_open/ACE_OS::shm_unlink.

Mon Jul 18 13:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * html/index.html:
          Update link for DAnCE

Mon Jul 18 15:02:58 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Acknowledge.cpp:
        * protocols/ace/RMCast/Fragment.cpp:
        * protocols/ace/RMCast/Link.cpp:
        * protocols/ace/RMCast/Reassemble.cpp:

          Fixed a bunch of warnings.

Mon Jul 18 08:00:35 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * NEWS:

          Added comments regarding TAG_ALTERNATE_IIOP_ADDRESS and
          refactored codeset negotiation support.

Mon Jul 18 10:25:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/MMAP_Memory_Pool.cpp (init_acquire):
          Added class name to the error messages and print the method
          name.

        * ace/SString.cpp:
          Initialise pointers with 0

Mon Jul 18 11:33:23 2005  Boris Kolpackov  <boris@kolpackov.net>

        * NEWS:

          Updated with the latest achievements in RMCast.

Mon Jul 18 08:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/make_release:
          Removed exclude of asnmp.mwc, this file has been zapped

Fri Jul 15 16:35:37 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * bin/MakeProjectCreator/config/global.features:
        * bin/MakeProjectCreator/config/negotiate_codesets.mpb:
        * bin/MakeProjectCreator/config/taoclient.mpb:
        * bin/MakeProjectCreator/config/taoserver.mpb:

          Added a new feature, negotiate_codesets. Disabled by default,
          but when enabled in default.features or on the mpc/mwc command
          line adds TAO_Codeset to the project's libs list. Dynamically
          linked applications do not need to do anything, the libary will
          be dynamically loaded if needed by the ORB. Static applications
          must enable this feature. Merely enabling is not sufficient, to
          actually make use of the codeset code, they must also include
          tao/Codeset/Codeset.h somewhere in their application. Enabling
          the mpc feature without including the header will not cause any
          code to be statically linked. Enabling the feature with dynamic
          applications will add a dependency on the TAO_Codeset library
          regardless of the use of the code.

Fri Jul 15 08:04:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/make_release:
          Also exclude ASNMP/asnmp.mwc when generating the em3 project files.
          Thanks to Sam Mesh <sam dot mesh at gmail dot com> for reporting
          this. This fixes bugzilla bug 2190.

Thu Jul 14 12:47:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Log_Record.cpp:
          Fixed compile error in previous committed caused when merging
          changes from one system to another

Thu Jul 14 12:23:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_stdio.cpp (sprintf wchar):
          ULONG_MAX was passed, this caused vswprintf to return always -1
          because ULONG_MAX is of course really large on a 64bit system.
          Pass 4096 instead, just as done with the other vswprintf in
          OS_NS_stdio.inl.

        * ace/Log_Record.cpp:
          Use snprintf because we know the sizes of the buffer, this way
          we don't call the method above that caused problems on 64bit
          systems. This fixes bugzilla 2176.

Thu Jul 14 09:31:55 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Flow.cpp:

          Fixed fuzz error over math.h inclusion.

Wed Jul 13 22:12:12 UTC 2005  Gan Deng  <gan.deng@vanderbilt.edu>

        * etc/ciao_DAnCE.doxygen

          Added "RECURSIVE=YES" so source files could be found correctly
          Also added excluded path option for CIAO examples and tests.

Wed Jul 13 17:10:45 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * bin/MakeProjectCreator/config/codeset.mpb:

          A new base project for use when creating codeset translators or
          any other code that must depend on the new library, TAO_Codeset.

Wed Jul 13 12:42:57 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/tao_other_tests.lst:

          Due to the way that the ORB is coded such that it does not require
          the IFR_Client library at link time, the InterfaceRepo/Application
          test can not run on static builds (even though the client has the
          IFR_Client library linked in).

Wed Jul 13 12:28:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Process_Semaphore_Test.cpp:
          Fixed compile error in previous change

Wed Jul 13 07:56:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Process_Semaphore_Test.cpp:
          Only test timeouts when ACE_HAS_POSIX_SEM_TIMEOUT is defined

Wed Jul 13 07:26:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-sunos5.5.h:
          Added include of config-posix.h, let this file try to sort out
          which posix parts Sun delivers

        * ace/config-sunos5.6.h:
          Sun 5.6 incorrectly reports that it has shm_open

Wed Jul 13 07:23:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Process_Semaphore.cpp:
          Removed commented out explicit template instantiations

        * ace/Containers_T.h:
          Small doxygen fix

Tue Jul 12 22:59:12 UTC 2005  Gan Deng  <gan.deng@vanderbilt.edu>

        * html/index.html:

          Fixed a typo which was introduced in this HTML file for
          my earlier checkin.

Tue Jul 12 16:17:38 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu> t

        * Updated all the COPYING files to reflect the revised DOC
          software open-source license.  Thanks to Angela Ziegenhorn
          <Angela.Ziegenhorn@veritas.com> for these modifications.

Tue Jul 12 18:00:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Thread_Manager.cpp (remove_thr_all):
          Don't just delete each Thread_Descriptor, but call remove_thr
          for each Thread_Descriptor, this method will add the descriptor
          to the freelist and handle all other cleanup actions. Fixes
          some invalid reads we found in some RTCorba tests

Tue Jul 12 17:15:00 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Flow.cpp:
        * protocols/ace/RMCast/Protocol.h:

        Added missing includes.

Tue Jul 12 14:46:53 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Parameters.h:

        Forgot to add this file for Mon Jul 11 20:08:51 2005.

Mon Jul 11 12:51:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-win32-msvc-8.h:
          Only define ACE_HAS_SIG_ATOMIC_T when not building for WinCE.
          Thanks to Mitscher Dubreus <ofup at voila dot fr> for reporting
          this.

Mon Jul 11 12:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Thread_Manager.inl:
          Initialise pointer with 0

Mon Jul 11 20:08:51 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Flow.cpp:
        * protocols/ace/RMCast/Flow.h:

        Implemented flow control stack element.

        * protocols/ace/RMCast/Acknowledge.cpp:
        * protocols/ace/RMCast/Acknowledge.h:
        * protocols/ace/RMCast/Fragment.cpp:
        * protocols/ace/RMCast/Fragment.h:
        * protocols/ace/RMCast/Link.cpp:
        * protocols/ace/RMCast/Link.h:
        * protocols/ace/RMCast/Protocol.h:
        * protocols/ace/RMCast/Reassemble.cpp:
        * protocols/ace/RMCast/Reassemble.h:
        * protocols/ace/RMCast/Retransmit.cpp:
        * protocols/ace/RMCast/Retransmit.h:
        * protocols/ace/RMCast/Socket.cpp:
        * protocols/ace/RMCast/Socket.h:

        Made protocol parameters configurable on a per-instance
        basis.

        * protocols/examples/RMCast/Send_Msg/Protocol.h:
        * protocols/examples/RMCast/Send_Msg/Receiver.cpp:

        Made receiver print throughput information.

Mon Jul 11 08:41:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.h:
          Doxygen improvements

Mon Jul 11 08:10:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added Bug_2174_Regression to the list of tests. It will fail
          until the fix for this bug is in the archive

Sun Jul  10 23:24:12 UTC 2005  Gan Deng  <gan.deng@vanderbilt.edu>

        * etc/DAnCE.doxygen:

          Added doxygen configuration file for DAnCE.

Sat Jul  9 06:24:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.h:
          Doxygen improvements

Sat Jul  9 06:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.inl (thr_cancel):
          Fixed VxWorks implementation.  Thanks to Abhijit Sachdev <abhi
          at qualcomm dot com> for motivating this fix.

Fri Jul  8 15:42:18 2005  Steve Huston  <shuston@riverace.com>

        * ace/Array_Map.h: Extended the range of Sun C++ compilers not
          providing a fully standards-compliant STL to include C++ 5.7
          (Studio 10). To include a compliant STL would break backward
          binary compatibility with C++ 5.0 - 5.6, so Sun won't (yet)
          do it. They do, however, include Stlport 4 with C++ 5.7. You can
          enable this by building ACE with stlport=1.

        * ace/Basic_Types.h (ACE_ULongLong): Added a name to the anonymous
          struct declared in the anonymous union. Silences a warning from
          Sun Studio 10.
          Added __amd64 to the "little endian" machine indicators. Corrects
          this check for Solaris 10 x86.

        * ace/config-sunos5.10.h: Noted that Studio 10 (C++ 5.7) works
          as well.

        * include/makeinclude/platform_sunos5_sunc++.GNU: If -fast is required,
          be sure it goes to the left of any -xarch options on the command
          line, else it'll override -xarch. Also, added support for building
          with stlport=1 on Studio 10 (C++ 5.7).

        * tests/CDR_Array_Test.cpp: When saying "Data OK", print type
          name (%s), not truncated pointer (%d).

Fri Jul  8 12:37:15 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/QoS/SOCK_Dgram_Mcast_QoS.cpp (subscribe): Added checks
          to guard against cases where the qos_session is NULL.  Thanks to
          Dom Monteiro <d dot monteiro at netia dot net> and Yamuna for
          isolating the problem.

Fri Jul  8 09:52:02 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/modules/GNUACEProjectCreator.pm:

          Utilize the MakeProjectBase to minimize the code in this module.

Fri Jul  8 11:19:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.inl (thr_cancel):
          Added implementation for VxWorks.

Fri Jul  8 08:22:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_string.cpp:
          Added include of OS_NS_stdio.h when ACE_LACKS_STRERROR is not
          defined

Thu Jul  7 18:11:29 2005  Steve Huston  <shuston@riverace.com>

        * configure.ac:
        * ace/README:
        * ace/config-WinCE.h:
        * ace/config-mvs.h:
        * ace/config-openvms.h:
        * ace/config-psos-diab.h:
        * ace/config-psos-diab-mips.h:
        * ace/config-psos-diab-ppc.h:
        * ace/config-psos-tm.h:
        * ace/config-psosim-g++.h:
        * ace/config-rtems.h:
        * ace/config-sunos5.7.h:
        * ace/config-tandem-nsk-mips-v2.h:
        * ace/config-tandem-nsk-mips-v3.h:
        * ace/config-vxworks5.x.h:
        * ace/config-win32-interix.h:
        * ace/config-win32-visualage.h:
        * ace/OS_NS_string.{h cpp}:
        * m4/config_h.m4: Removed all references to sys_nerr and
          ACE_LACKS_SYS_NERR. These are old, hacky ways to check things
          that can be done better (see below).

        * ace/OS_NS_string.{h cpp} (strerror): Check for an invalid errnum
          value by checking the return value of strerror(); supply a
          "Unknown error %d" message if it's bad, and set errno to EINVAL.

        * ace/Log_Msg.cpp (log): Use ACE_OS::strerror() and its new return
          value to check for the need to try another way to format 'p' and
          'm' messages. Windows is now the only special case.

        * ace/Select_Reactor_Base.cpp: Include "Timer_Queue.h" instead of
          "Timer_Heap.h" to get the appropriate definitions and inclusion of
          other needed headers; in this case, Recursive_Thread_Mutex.h. Fixes
          compile errors on Solaris 10.

        * include/makeinclude/platform_sunos5_sunc++.GNU: Changed -xarch= from
          v9 to generic64 when using "buildbits=64" on Sun Studio 10
          (C++ 5.7). This works for both Sparc and x86 architectures.

Thu Jul  7 17:24:21 2005  Simon McQueen  <sm@prismtech.com>

        * bin/tao_orb_tests.lst:

          Scheduled regression test for bugzilla #2183.

Thu Jul  7 09:27:56 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Modified the template code to avoid generating lines that end in
          spaces.

Thu Jul  7 09:11:23 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Message_Block.cpp: Changed the order of the #includes
          to work around a problem when ACE is used with STLport.  Thanks
          to Alvin Lee for reporting this.  This fixes another part of
          bugid 2185.

Tue Jul  5 22:05:19 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/DLL.cpp: Fixed a problem with ACE_DLL::close() where
          the dll_name_ might not be deleted if dll_handle_ was 0.  Thanks
          to Alvin Lee <alvin.msg@gmail.com> for reporting this.  This
          fixes the first part of bugid 2185.

Tue Jul  5 18:13:29 2005  Steve Huston  <shuston@riverace.com>

        * ACE-INSTALL.html: Removed Windows CE from the platforms Riverace
          supports and added links to some Riverace pages.

Tue Jul 05 21:40:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Mem_Map.cpp:
          Changed to consistently use ACE_OS::shm_open/ACE_OS::shm_unlink.

Tue Jul 05 21:15:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread{.h .inl .cpp}:
          Fixes for compile problems in MACOS_X_Panther build.

          Outlined ACE_OS::cond_init() to gain some footprint reduction.

Tue Jul  5 18:17:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_netdb.cpp (getmacaddress): Some layout fixes and
          also fixed a handle leak in the Sun part. Thanks to
          <likemartinma at 163 dot com> for reportint this. This fixes
          bugid 1875

Tue Jul  5 08:30:07 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/OS_NS_netdb.cpp (getmacaddress): Call close() to avoid
          a handle leak.  Thanks to W.M. van den Boogaard <wim dot vd dot
          boogaard at meco dot nl> for reporting this fix.  This fixes
          bugid 2182.

Mon Jul 04 21:08:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/INET_Addr.h:
        * ace/INET_Addr.cpp:
          Added support for specifying interface ids for IPv6 Link Local
          addresses either as part of the address (<ip>'%'<interface id>)
          separately through ACE_INET_Address::set_interface().
          Straightened out differences between Windows and Linux.
          ACE_INET_Address::get_host_addr() now returns <ip>'%'<interface
          id> formatted address when appropriate both on Windows
          (natively) and Linux (ACE).  Thanks to Srikanth Gopal
          <sriki_666@yahoo.com> for reporting this problem.

Mon Jul  4 04:21:53 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Array_Map.h (ACE_Array_Map):

          Work around non-standard compliant Sun C++
          std::reverse_iterator<> template arguments.  Define a typedef
          specific to Sun C++ 5.5 or earlier.

Sun Jul  3 14:59:25 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * examples/APG/Config/Makefile.am:

          Regenerate.

Sun Jul 03 18:40:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * include/makeinclude/rules.lib.GNU:
          Addition for VxWorks shared lib build.

        * include/makeinclude/platform_vxworks5.5.x.GNU:
          Some cleanup and changes for shared lib builds.

Fri Jul 01 14:40:25 2005  Gary Maxey <gary.maxey@hp.com>

        * ace/config-tandem-nsk-mips-v3.h:
        * ace/config-tandem-nsk-mips-v2.h:
          Defined platform specific format specifiers for 64 bit integers

Fri Jul  1 12:52:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-doxygen.h:
          Added ACE_HAS_IPV6

Fri Jul  1 11:25:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/interceptors.mpb
          Don't use pi as base lib.

        * bin/MakeProjectCreator/config/iorinterceptor.mpb
        * bin/MakeProjectCreator/config/loadbalancing.mpb
        * bin/MakeProjectCreator/config/rtscheduling.mpb:
        * bin/MakeProjectCreator/config/fault_tolerance.mpb
        * bin/MakeProjectCreator/config/ftclientorb.mpb
          Added pi and pi_server as base projects when needed

Fri Jul  1 10:05:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/templates/bor.mpd:
          Added support for StackReserveSize and StackCommitSize
          template variables.

Wed Jun 29 13:58:17 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/OS_NS_Thread.cpp:

          Somehow my previous checkin had many other differences besides the
          simple change that I made. I've remerged the corresponding code
          from the previous version, but I have no idea how the change
          happened.

Wed Jun 29 18:36:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Default_Constants.h:
          Removed ACE_CONNECTOR_HANDLER_MAP_SIZE, it is not used at all
          anywhere in the repo. Found this when solving a problem with
          OpenVMS

Wed Jun 29 12:33:18 2005  Steve Huston  <shuston@riverace.com>

        * examples/APG/Config/config.mpc:
        * examples/APG/Config/Makefile.am:
        * examples/APG/Config/HA_Status.cpp: Simplify greatly to build
          HA_Status as a simple executable, not a DLL. Thanks to Gavin Yu
          <songtaoyu at lucent dot com> for noticing this problem.

        * examples/APG/Config/HA_Status.h: Removed.

        * THANKS: Added Gavin Yu to the Hall of Fame.

        * ace/Timer_Heap_T.cpp (dtor): When cleaning out the timer nodes,
          free_node() before doing the deletion() upcall. Prevents a user's
          handle_close() from doing a cancel_timer() and ripping the current
          timer node out from under us and causing free_node() to assert().

Wed Jun 29 10:43:11 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/OS_NS_Thread.cpp:

          Port the ACE_DISABLE_WIN32_INCREASE_PRIORITY feature from earlier
          OCI versions of ACE, so that a user can disable the setting of a
          thread to the realtime priority class. This prevents hard lockups
          of Windows machines when running as an administrator, and allows
          many tests to function when not running as an admin.

Tue Jun 28 20:58:11 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/MakeProjectCreator/config/core.mpb:

          inherit from new install base project for backwards compatibility.

        * bin/MakeProjectCreator/config/conv_lib.mpb:
        * bin/MakeProjectCreator/config/install.mpb:
        * bin/MakeProjectCreator/config/install_bin.mpb:
        * bin/MakeProjectCreator/config/install_headers.mpb:
        * bin/MakeProjectCreator/config/install_lib.mpb:

          New new base projects to offer more flexibility on what parts of
          a project are installed.  install_bin, install_lib, and install_
          headers install binaries, libraries, and header files.  install
          installs everything.  conv_lib is for "convenience libraries", a
          set of objects that is packaged as a library for the developer's
          convenience.  For most builds it builds a shared library that is
          installed without the cooresponding headers; but the automake
          build uses automake's native convenience library support --- a
          static library is built and linked into the executable(s).

Tue Jun 28 08:41:03 2005  Ming Xiong  <mxiong@tango.dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/global.features

          Added a new feature ziparchive which is needed by
          CIAO/DAnCE/ComponentPackager

Mon Jun 27 09:38:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/README:
          Added documentation for ACE_USES_FIFO_SEM, ACE_HAS_LINUX_NPTL
          and ACE_HAS_POSIX_SEM_TIMEOUT.

Mon Jun 27 22:22:00 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Array_Map.h (ACE_Array_Map):

          Added missing "const_pointer" typedef/trait.

        * tests/Array_Map_Test.cpp (index_operator_test):

          Work around compiler / STL implementations that cannot handle
          implicit conversions from iterator to const_iterator (e.g. due
          to missing template constructor) by accessing the iterators
          through a reference to const a Map. We don't strictly need a
          const Map for this test but having one allows us to exercise
          const iterators.

Mon Jun 27 21:54:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-linux-common.h:
          Made inclusion of config-posix.h user selectable by defining
          ACE_HAS_LINUX_NPTL rather than including it by default since
          there are too many problems with that with the differences
          in the various Linux distros.
          Only with a Linux distro having the latest NPTL implemented
          (SuSE 9.3) have I been able to effectively use POSIX macros.

Mon Jun 27 20:00:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Codecs.cpp:
        * ace/Configuration.cpp:
        * ace/DLL_Manager.cpp:
        * ace/Multihomed_INET_Addr.cpp:
        * ace/OS_NS_stdlib.cpp:
        * ace/Service_Config.cpp:
          Within the ACE lib ACE_LIB_TEXT must be used instead of ACE_TEXT

Mon Jun 27 12:26:15 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Malloc_T.h: Updated the ACE_Malloc_T documentation to
          mention the limitations with find()/bind().  Thanks to Hanson Lu
          <suf_lu@yahoo.com> for reporting this.

Mon Jun 27 10:24:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/rtcosscheduling.mpb:
          Added requires dummy_label. The RTCosScheduling library uses
          a non compliant way to register its interceptors. This is
          causing problems with the PI refactory so disable the building
          of this lib until that has been fixed. See also bugzilla 2163.

Mon Jun 27 08:21:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread.cpp:
          Change to protect against race condition in sema based Event
          implementation.

        * ace/OS_NS_Thread.inl:
          Change in errno (EINTR) handling with FIFO based sema timedwait.

Mon Jun 27 06:59:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Message_Queue_T.{h,cpp}:
          Initialise pointers with 0 and removed work around for Sun CC 5.1,
          we don't support that compiler already for years

Mon Jun 27 01:03:12 2005 Stoyan Paunov <s.paunov@vanderbilt.edu>

        * bin/MakeProjectCreator/config/global.features:
        * MPC/config/global.features:
        * MPC/config/ZIP_Wrapper.mpb:

          Added a new feature to MPC regarding the ZIP_Wrappers used by
          the Repository Manager. I added this feature to make sure the RM
          would not be compiled unless the proper ZIP libraries are in place.
          Please check the README in CIAO/DAnCE/new_RepositoryManager


Sun Jun 26 22:29:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-posix.h:
          Made test for POSIX_SEM TIMEOUTS more specific.

        * ace/config-linux-common.h:
          Added check to fix detection of POSIX_SEM TIMEOUTS for Linux
          >= 2.6 because of crippled POSIX macros (moved here from
          config-posix.h).
          Made implementation of FIFO based Semaphores for Linux < 2.6
          user selectable instead of default (default now back to
          situation before I added FIFO based Semaphores).

        * ace/OS_NS_Thread{.h .cpp .inl}:
          Added support for Process shared Events when Process shared
          pthread mutexes are not supported but FIFO Sems are configured.
          Fixed several issues concerning correct errno handling in
          case of timeouts.

        * tests/run_test.lst:
          Added missing Manual_Event_Test.

        * tests/Process_Manual_Event_Test.cpp:
        * tests/Process_Semaphore_Test.cpp:
          Improved protection against non-supporting builds.

        * tests/Dirent_Test.cpp:
          Made this test a little less braindead so it does not recognize
          FIFOs and PIPEs as directories anymore and tries chdir() on
          them which is quite annoying.

Sat Jun 25 01:42:22 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Array_Map.h:

          MSVC++ 6's reverse_iterator adapter implementation is not
          standard's compliant.  Adjusted reverse_iterator template
          parameters accordingly for this one case (i.e. _MSC_VER <=
          1200).

        * ace/Array_Map.cpp (insert):

          MSVC++ 6 doesn't like the "typename" qualification in the first
          template argument to the std::pair<> return type.  Removed it in
          for the _MSC_VER <= 1200 case.

        * tests/Array_Map_Test.cpp:

          MSVC++ 6 doesn't pick up the const rbegin/rend() methods without
          making the map object const, despite the fact the return value
          is assigned to a const_reverse_iterator.  Work around the
          problem by casting the non-const map instance to a reference to
          a const map when _MSC_VER <= 1200.

Fri Jun 24 22:49:16 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * protocols/ace/RMCast/Makefile.am:

          Regenerated.

Fri Jun 23 19:58:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread.inl:
          Added include for non-inline builds.

Fri Jun 23 19:38:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread.h:
          Removed extra semi-colon.

Fri Jun 23 19:36:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * tests/Process_Manual_Event_Test.cpp:
        * tests/Process_Semaphore_Test.cpp:
          Added protection for singlethread builds.

Fri Jun 24 11:42:43 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ACE-INSTALL.html:

          Added notes about testing and developing autotool support, and
          how to bootstrap that support into a workspace.

Fri Jun 24 11:36:26 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Array_Map.cpp:
        * ace/Array_Map.inl:

          Added missing "typename" keyword before template parameter
          dependent types.  Addresses VC++ 7.1/8 and Sun CC++ compile-time
          warnings and errors.

Fri Jun 24 11:02:06 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/PerlACE/Process_Win32.pm:

          Fixed this module to work with the ACE_TEST_WINDOW environment
          variable that I added some time back.

Fri Jun 23 13:36:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread.cpp:
          Fixed unused 'result' variable in ACE_OS::event_init().

Fri Jun 23 13:00:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * tests/Process_Manual_Event_Test.cpp:
        * tests/Process_Semaphore_Test.cpp:
          Fixes for compile errors on Linux 64bit.

Fri Jun 23 10:20:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread.inl:
          Made sure ETIME is always returned on timeouts of
          ACE_OS::sema_timedwait and not ETIMEDOUT.

        * tests/Semaphore_Test.cpp:
          Extended platform coverage of timeout tests.

        * tests/Auto_Event_Test.cpp:
        * tests/Manual_Event_Test.cpp:
        * tests/Process_Manual_Event_Test.cpp:
        * tests/Process_Semaphore_Test.cpp:
        * tests/run_test.lst:
        * tests/tests.mpc:
          Added new tests.

Fri Jun 23 09:17:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * tests/INET_Addr_Test_IPV6.cpp:
        * tests/Multihomed_INET_Addr_Test_IPV6.cpp:
        * tests/SOCK_Send_Recv_Test_IPV6.cpp:
        * tests/SOCK_Test_IPV6.cpp:
          Fixed WCHAR compile problems.

Fri Jun 23 08:49:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread{.h .cpp .inl}:
          Extended ACE_OS::event_xxx implementation to support platforms
          having either PThread support with Process Shared condition
          variables or POSIX semaphores with named (process shared)
          semaphore support or using the new FIFO based semaphores.
          Fixed manual_reset implementation of condition based events
          (event_pulse() did not work).

Fri Jun 23 08:49:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-aix-4.x.h:
          Fixed problems by incorrectly reported ACE_HAS_POSIX_SEM_TIMEOUT
          by config-posix.h.

Fri Jun 24 07:20:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.h:
          Removed extra semi-colon.

Thu Jun 23 22:24:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-linux-common.h:
          Fixed typo (ACE_HAS_SHMOPEN should be ACE_HAS_SHM_OPEN).

Thu Jun 23 17:14:39 2005  Steve Huston  <shuston@riverace.com>

        * ace/Dev_Poll_Reactor.cpp (schedule_timer, reset_timer_interval):
        * ace/Select_Reactor_T.cpp (schedule_timer, reset_timer_interval):
        * ace/WFMO_Reactor.inl (cancel_timer, schedule_timer, reset_timer_interval):
          If timer_queue_ is 0, don't attempt to call through it. Instead,
          return -1 with errno ESHUTDOWN for scheduling; return 0 for cancel.

Thu Jun 23 12:10:16 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Array_Map.h:
        * ace/Array_Map.inl:
        * ace/Array_Map.cpp:

          Map implementation that focuses on small footprint and fast
                iteration.  Search times are, however, linear (O(n)) meaning
          that this map isn't suitable for large data sets that will be
          searched in performance critical areas of code.  Iteration over
          large data sets, however, is faster than linked list-based maps,
          for example, since spatial locality is maximized through the use
          of contiguous arrays as the underlying storage.

        * ace/Makefile.am:
        * ace/ace.mpc:

          Added new Array_Map.* source files.

        * tests/Array_Map_Test.cpp:

          Regression test for ACE_Array_Map.

        * tests/Makefile.am:
        * tests/run_test.lst:
        * tests/tests.mpc:

          Added new Array_Map_Test regression test.

Thu Jun 23 07:49:43 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Logging_Strategy.cpp (init):

          Changed to not delete output stream when wipeout_logfile_ is
          set, as that may result in a double delete when ownership of
          the new stream is transferred to this->log_msg_.

          Changed to not delete existing output stream if a new one is
          not been created.

          Thanks to Mark Callaghan and Ossama Othman for assistance.

Thu Jun 23 12:34:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-posix.h:
          Fixed problems for single threading builds.

Thu Jun 23 10:59:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * man/Makefile.am:
        * man/man3/Makefile.am:
          Removed these files because are also not part of the release

Wed Jun 22 20:29:39 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/OS_NS_Thread.h:

          Removed extra semi-colon.  Fixes g++ 4.0 builds.

Wed Jun 22 19:11:23 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * THANKS:

          Added Mark Callaghan to the Hall of Fame.

        * ace/Log_Msg.cpp (msg_ostream):

          Close, do not delete, the file stream in the
          ACE_LACKS_IOSTREAM_TOTALLY case, as is done in the
          ~ACE_Log_Msg() destructor. Addresses memory management issues.
          Thanks to J.T. Conklin and Mark Callaghan for pointing out the
          problem and suggesting the fix.

          Do not reset the ostream_ and delete_ostream_ attributes if
          the pointer to ostream_ is equal to the ostream argument passed
          to this method.  Prevents premature destruction of the ostream.
          Thanks to Mark Callaghan for suggesting this fix.

Wed Jun 22 19:55:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread{.h .inl}:
          Oops, fixed some more wchar problems.

Wed Jun 22 19:16:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_sys_mman.inl:
        * ace/OS_NS_Thread{.h .inl .cpp}:
        * ace/INET_Addr.cpp:
        * ace/SOCK_Dgram_Mcast.cpp:
          Fixed wchar problems in arguments and variables.

        * ace/config-linux-common.h:
          Undef ACE_HAS_SHMOPEN after having included config-posix.h as
          there are some things to check out here before really using
          ::shm_open()!

Wed Jun 22 09:25:12 2005  Gary Maxey  <gary.maxey@hp.com>

        * ace/config-lite.h:
          Added __TANDEM platform to ACE_UNUSED_ARG macro

Wed Jun 22 12:24:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-posix.h:
          Added test to set new macro ACE_HAS_POSIX_SEM_TIMEOUT when supported.

        * ace/config-linux-common.h:
          Added include for config-posix.h to test for more supported POSIX
          functionality.
          Added special test for Linux kernels < 2.6 because these falsely
          report certain POSIX support while not having that in reality
          (f.i. ACE_HAS_POSIX_SEM with ACE_HAS_POSIX_SEM_TIMEOUT).

        * ace/config-lite.h:
          Added test to undef (new) macro ACE_USES_FIFO_SEM (see below) when
          other macro settings invalidate this one.

        * ace/os_include/os_pthread.h:
          Extended test to prevent definition of ACE_sema_t when ACE_USES_FIFO_SEM
          is defined.

        * ace/OS_NS_Thread{.h .inl .cpp}:
          Added new implementation of ACE_OS::sema_XXX methods based on FIFOs
          (derived from W. Richard Stevens, UNIX Network Programming V2)
          active when !ACE_HAS_POSIX_SEM && ACE_USES_FIFO_SEM.
          Offshoot of customer request for process shareable solution for Linux
          2.4.xx kernels.

          Outlined most ACE_OS::mutex_XXX and ACE_OS::event_XXX methods resulting
          in a) ~7 Kb footprint reduction (Linux 2.6) and b) lessened dependency
          complexities allowing later introduction of another Event platform
          emulation.


Wed Jun 22 08:51:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/build_core_exe.bor:
        * include/makeinclude/build_core_library.bor:
          Removed these files, not used anymore

Wed Jun 22 08:39:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/SOCK_Test_IPv6.cpp:
          Fixed compile errors on Linux when ACE_HAS_IPV6 has been defined

Wed Jun 22 07:53:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/SOCK_Dgram_Mcast.cpp:
          Fixed compile errors on Linux when ACE_HAS_IPV6 has been defined

        * include/makeinclude/compiler.bor:
          No need anymore to include ace_flags.bor

        * include/makeinclude/ace_flags.bor:
          Removed this file, not needed anymore

Tue Jun 21 18:06:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/compiler.bor:
          Removed -a8 and -b from the compiler flags, this are the defaults
          for the compiler, so no need to explicitly specify them. Thanks to
          Chad about informing me that -b is the default.

Tue Jun 21 07:30:58 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/config/global.mpb:

          Set libpaths to '.' since libout is set to '.' as well.

Mon Jun 20 20:07:45 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Support for the bug fix where the 'postcommand' wouldn't be
          applied if there was more than one output file per input file.

Mon Jun 20 16:45:39 2005  Steve Huston  <shuston@riverace.com>

        * ace/Asynch_IO.cpp: Added explicit template instantiations for
          ACE_Refcounted_Auto_Ptr<ACE_Handler::Proxy, ACE_SYNCH_MUTEX>.

Mon Jun 20 11:36:21 2005  Steve Huston  <shuston@riverace.com>

        * ace/OS_NS_sys_socket.inl (closesocket): Removed the
          ACE_OS::shutdown() call in an HP-UX block. Calling shutdown breaks
          an often-used idiom in UNIX programming of forking a new process
          to handle a connection and closing the handle in the parent. Doing
          a shutdown() before close() initiates a TCP close even though there
          are multiple handles to the same socket. Thanks to Doug Schmidt
          and Howard Finer for the exchange that led to this change. This
          reverts a change made earlier:
          Thu Jan  1 17:56:31 2004  Steve Huston  <shuston@riverace.com>

Mon Jun 20 09:46:24 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Fixed a long standing bug where the libpath set in a Define_Custom
          was not utilized.

Mon Jun 20 15:35:42 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Acknowledge.cpp:
        * protocols/ace/RMCast/Fragment.cpp:
        * protocols/ace/RMCast/Link.cpp:
        * protocols/ace/RMCast/Protocol.h:
        * protocols/ace/RMCast/Reassemble.cpp:

          Made code VC6-compatible.

Mon Jun 20 11:38:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/bidir_giop.mpb:
          Added pi as base project, this was implicitly in the past because
          portableserver was based on pi.

Mon Jun 20 10:46:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/portableserver.mpb:
          The portableserver library is not dependent on pi anymore.
          The new pi_server library is dependent.

        * bin/MakeProjectCreator/config/ftrtevent.mpb:
        * bin/MakeProjectCreator/config/ftrteventchannel.mpb:
        * bin/MakeProjectCreator/config/ifrservice.mpb:
          These projects use functionality of pi_server, so added that
          as base project

        * bin/MakeProjectCreator/config/rtportableserver.mpb:
        * bin/MakeProjectCreator/config/messaging.mpb:
          Added pi as base project, this was implicitly in the past because
          portableserver was based on pi.

Fri Jun 17 17:37:53 2005  Emre Turkay  <turkaye@dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/ciao_servant_dnc.mpb:

          Added header_outputext to clean up the generated header files on
          request.

Fri Jun 17 17:22:13 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Acknowledge.cpp:
        * protocols/ace/RMCast/Acknowledge.h:
        * protocols/ace/RMCast/Fragment.cpp:
        * protocols/ace/RMCast/Fragment.h:
        * protocols/ace/RMCast/Link.cpp:
        * protocols/ace/RMCast/Protocol.cpp:
        * protocols/ace/RMCast/Protocol.h:
        * protocols/ace/RMCast/Reassemble.cpp:
        * protocols/ace/RMCast/Reassemble.h:
        * protocols/ace/RMCast/Retransmit.cpp:
        * protocols/ace/RMCast/Retransmit.h:
        * protocols/ace/RMCast/Simulator.h:
        * protocols/ace/RMCast/Socket.cpp:
        * protocols/ace/RMCast/Socket.h:

          Implemented message fragmentation.

        * protocols/examples/RMCast/Send_Msg/Protocol.h:
        * protocols/tests/RMCast/Protocol.h:
        * protocols/tests/RMCast/Sender.cpp:

          Changed to send messages that would require fragmentation.

Fri Jun 17 09:14:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/pi_server.mpb:
          New base project for pi_server. Will contain all needed portable
          interceptor functionality specific for the server side

Fri Jun 17 08:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Object_Manager.cpp:
          Removed comment about very old gcc version

        * ace/Service_Config.h:
          Added new ACE_DYNAMIC_SERVICE_DIRECTIVE macro that makes it possible
          to load a service using a process_directive call that works with the
          normal service configurator and the xml based one. Thanks to
          Lothar Werzinger <lothar at xcerla dot com> for providing this
          new macro. We will use it then in TAO to load the services on
          demand.

Thu Jun 16 07:38:57 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/SOCK_Stream.cpp (close): Removed the call to this->close_writer()
          since that functionality was done by ACE_SOCK::close(), which
          delegates to ACE_OS::closesocket(), which handles this
          automatically.

        * ace/Process.cpp (running): Only try to "kill" a process if
          the PID is valid.  Thanks to Howard Finer <hfiner at sonusnet
          dot com> for contributing this.

        * ace/Pipe.h (ACE_Pipe): Updated the documentation for this class
          to clarify why it uses sockets on Windows.  Thanks to Dave
          Varnell <Dave.Varvell@ni.com> for prompting this.

        * ace/INET_Addr.cpp (set): Changed the test of

          if (port_number < 0)

          to

          if (port_number == -1)

          to fix problems reported by Vemund Handeland
          <vemund.handeland@fantoft.no>

Wed Jun 15 12:36:04 MST 2005  Trevor Fields  <fields_t@ociweb.com>

        * bin/PerlACE/Run_Test.pm:

          Adding method to add a library path dynamically for the run test
          scripts.

Wed Jun 15 17:50:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/templates/bor.mpd:
          reverse the libs, this solves a lot of problems in our static builds.

Wed Jun 15 07:46:16 2005  Chad Elliott  <elliott_c@ociweb.com>

        * include/makeinclude/rules.bin.GNU:

          Resurrected rules.bin.GNU as it may be required by old
          hand-written makefiles.

Wed Jun 15 07:36:14 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/bor.mpd:

          Removed the use of uniq for libpaths.  This was a work-around for
          a bug in MPC which has been fixed.

Wed Jun 15 11:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/templates/bor.mpd:
          Removed reverse, with this no static initializers where called

Wed Jun 15 09:48:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/templates/bor.mpd:
          Use uniq for libpaths so that we don't generate things twice

Wed Jun 15 09:06:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/templates/bor.mpd:
          Reversed the order in which the libs are generated. This make sure
          we first get the static created for ACE, then for TAO, etc. Fixes
          the problems in the CBX static build

Tue Jun 14 17:52:39 2005  Steve Huston  <shuston@riverace.com>

        * ace/Thread_Manager.h: Improved documentation for the task_list()
          and task_all_list() methods.

Tue Jun 14 14:19:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ACE-INSTALL.html:
          Updated Borland build instructions

Tue Jun 14 12:35:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Reactor_Timer_Interface.{h,cpp}:
          Moved destructor to a new cpp file to fix Cygwin warnings

        * ace/ace.mpc:
        * ace/Makefile.am:
          Added Reactor_Timer_Interface.cpp

Tue Jun 14 12:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/IO_Cntl_Msg.{h,cpp,inl}:
          Moved methods implemented in the header file to a new inl file.
          Fixes warnings in the Cygwin build

        * ace/ace.mpc:
        * ace/Makefile.am:
          Added IO_Cntl_Msg.cpp

Tue Jun 14 11:05:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/auto_run_tests.pl:
          Fixed typo in comment

Tue Jun 14 08:48:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/interceptors.mpb:
        * bin/MakeProjectCreator/config/portableserver.mpb:
        * bin/MakeProjectCreator/config/rtcorba.mpb:
        * bin/MakeProjectCreator/config/utils.mpb:
          Added pi as base project

Mon Jun 13 13:50:53 2005  Emre Turkay  <turkaye@dre.vanderbilt.edu>

        * bin/ciao_tests.lst:

          Added the node application tests to the autobuilds.

Mon Jun 13 18:06:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * performance-tests/SCTP/SOCK_STREAM_clt.cpp:
          Fixed compile errors

Mon Jun 13 13:57:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/make_release:
          Don't do LF->CRLF conversion for xls files, that are Microsoft
          Excel files. The RTCorba tests have such a file.

Mon Jun 13 13:48:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/pi.mpb:
          New base project for the new PI library we will add soon to the
          archive. This PortableInterceptor libray will contain the
          ORBInitializer Registry, Policy Factory Registry and ORBInitInfo
          in the first version

Mon Jun 13 12:52:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * performance-tests/SCTP/hist.{h,cpp}:
        * performance-tests/SCTP/SOCK_SEQPACK_clt.cpp:
        * performance-tests/SCTP/SOCK_STREAM_clt.cpp:
          Moved the hist struct with associated methods to the ACE_SCTP
          namespace. This should fix the last compile errors in Irix.
          Thanks to Doug McCorkle <mccdo at iastate dot edu> for providing
          the patches

Mon Jun 13 10:41:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/kokyu_dsrt_scheduler_server.mpb:
        * bin/MakeProjectCreator/config/kokyu_dsrt_scheduler.mpb:
          Moved the codecfactory from the server to the normal project,
          also the clients need it

Sun Jun 12 14:53:33 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Logging_Strategy.cpp (parse_args):

          Update comment to make it clear value is being converted from
          number of KB to number of bytes.

Sun Jun 12 12:48:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * include/makeinclude/platform_g++_common.GNU:
          Fixed problem with GXX version detection when default Make
          shell is CMD.EXE and problems with different version reports
          with non-standard GCC implementations (like VxWorks:-).

        * include/makeinclude/wrapper_macros.GNU:
          Fixed problem with ACE version detection when default Make
          shell is CMD.EXE.

        * include/makeinclude/rules.local.GNU:
          Fixed problem with creation of .depend files when default Make
          shell is CMD.EXE.

        * include/makeinclude/rules.lib.GNU:
        * include/makeinclude/platform_vxworks5.5.x.GNU:
          Changed to implement support for creation of shared libs for
          VxWorks targets.

Sat Jun 11 11:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/kokyu_dsrt_scheduler_server.mpb:
          Added codecfactory as base

Fri Jun 10 18:33:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/rtcosscheduling.mpb:
          Added missing base projexts. Thanks for JT for reporting this

Fri Jun 10 16:03:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * tests/DLL_Test.cpp:
          Updated to use new 'ACE_HAS_DYNAMIC_LINKING' macro.

Fri Jun 10 16:00:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/config-lite.h:
          Introduced new macro 'ACE_HAS_DYNAMIC_LINKING' to enable more
          generalized testing for platforms supporting dynamic linking
          than 'ACE_HAS_SVR4_DYNAMIC_LINKING' supports (which excludes
          WIN32, VxWorks and HPUX which *do* support dynamic linking).

Fri Jun 10 15:53:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_main.h:
        * ace/OS_main.cpp:
          Changed implementation of 'ace_main' entrypoints for VxWorks to
          support shared library builds without resulting in 'undefined symbol'
          messages for 'ace_main_i'.

Fri Jun 10 15:47:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_dlfcn.inl:
          Fixed VxWorks implementation of dlopen().

Fri Jun 10 07:55:32 2005  Phil Mesnier  <mesnier_p@ociweb.com>

        * bin/tao_orb_tests.lst:
          Added new test for Alternate IIOP addresses.

Fri Jun 10 13:16:53 2005  Simon McQueen  <sm@prismtech.com>

        * ace/Reactor.cpp (register_handler):

          Backed out Thu Jun  9 11:12:39 2005  Steve Huston.
          It was causing test failures on Linux.

Fri Jun 10 06:43:25 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Interpret flag_overrides of the custom_types->dependent setting
          as an array instead of a string.  This makes things consistent
          with non-overridden values of dependent.

        * bin/create_ace_build:
        * bin/create_ace_build.pl:

          Inform users about using $MPC_ROOT/clone_build_tree.pl instead of
          these scripts.

        * bin/depgen.pl:

          Simplified/collapsed duplicated code from the VMS additions.

Thu Jun  9 18:38:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Event.h:
          Doxygen improvements

        * bin/MakeProjectCreator/config/codecfactory.mpb:
          New base project for the new codecfactory for TAO

Thu Jun  9 18:32:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added tao/tests/POA/Reference_Counting

Thu Jun  9 11:47:31 2005  Steve Huston  <shuston@riverace.com>

        * tests/Pipe_Test.cpp: Fixed wide-char text issues.

Thu Jun  9 11:12:39 2005  Steve Huston  <shuston@riverace.com>

        * ace/Reactor.cpp (register_handler): When registering for one or more
          signals, set the event handler's reactor() pointer to the registered
          reactor. Makes this behavior consistent with all other registration
          types.

Thu Jun  9 16:18:32 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Link.cpp:
        * protocols/ace/RMCast/Socket.cpp:
        * protocols/ace/RMCast/Socket.h:

          Implemented timed recv() and size().

Thu Jun  9 13:16:53 2005  Simon McQueen  <sm@prismtech.com>

        * bin/tao_other_tests.lst:

          Added Bug_2137_Regression test.

Thu Jun  9 09:31:28 2005  Simon McQueen  <sm@prismtech.com>

        * NEWS:

          Updated with late release note submissions.

Wed Jun 08 08:43:59 2005  Simon McQueen  <sm@prismtech.com>

        * ACE version 5.4.6 released.

Wed Jun  8 11:21:50 2005  Simon McQueen  <sm@prismtech.com>

        * NEWS:

          Updated with release note entries.

Fri Jun  3 13:42:18 2005  Steve Huston  <shuston@riverace.com>

        * ace/String_Base.h: Removed ACE_INLINE from the operator+ functions.
          The functions are defined in String_Base.cpp. Fixes compile errors
          on Solaris autoconf build.

        * examples/C++NPv2/AIO_Client_Logging_Daemon.cpp: Added missing
          #include for ace/Null_Mutex.h and ace/Null_Condition.h since this
          example uses ACE_Task<ACE_NULL_SYNCH>.

        * Kokyu/DSRT_Sched_Queue_T.h: Added missing #include "ace/Null_Mutex.h"

Thu Jun  2 13:58:29 2005  Steve Huston  <shuston@riverace.com>

        * ace/Local_Tokens.cpp (~ACE_TSS_TPQ_Entry): Replaced missing '}' from:
          Mon May 30 18:10:56 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

Wed Jun  1 18:33:29 2005  Steve Huston  <shuston@riverace.com>

        * examples/C++NPv2/AC_Client_Logging_Daemon.cpp: Reordered some
          #include directives so files needed by ace/Connector.h are in before
          ace/Connector.h. Fixes optimized autoconf build on AIX.

Wed Jun  1 12:19:27 2005  Steve Huston  <shuston@riverace.com>

        * ace/OS_NS_signal.inl: Reverted:
          Tue May 31 18:51:31 2005  Steve Huston  <shuston@riverace.com>
          It broke builds on Linux and BSD, at least, with compile errors like:
          `::' does not have a class or union named `sigaction'
          I think this is probably an issue of including files in the wrong
          order and it only trips up HP-UX, but I'm not sure.

Wed Jun  1 07:10:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Removed bug 2088 test for the time being, the fix isn't the correct one
          and now the test has wrong expectations

Tue May 31 18:51:31 2005  Steve Huston  <shuston@riverace.com>

        * ace/OS_NS_signal.inl (sigaction): Added "::" qualifier to references
          to "struct sigaction" to distinguish it from sigaction in the
          ACE_OS namespace. This was tripping up HP aC++ in certain use cases.

Tue May 31 18:46:29 2005  Steve Huston  <shuston@riverace.com>

        * ace/INET_Addr.cpp (set_address): When needing to plug in an
          IPv4-mapped IPv6 address, avoid any possibility of compiler struct
          member non-contiguous alignment. Use the ip6 address type and
          plug the values in where they go. Thanks to Robert Iakobashvili
          <coroberti at gmail dot com> for this idea.

Tue May 31 21:45:10 2005  Boris Kolpackov  <boris@kolpackov.net>

        * NEWS:

          Updated RMCast-related information.

Tue May 31 11:49:23 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Free_List.inl:
        * ace/Message_Queue_T.inl:
        * ace/POSIX_CB_Proactor.inl:
        * ace/SUN_Proactor.inl:

          Removed these empty inline files.

        * ace/Free_List.cpp:
        * ace/Free_List.h:
        * ace/Message_Queue_T.cpp:
        * ace/Message_Queue_T.h:
        * ace/POSIX_CB_Proactor.cpp:
        * ace/POSIX_CB_Proactor.h:
        * ace/SUN_Proactor.cpp:
        * ace/SUN_Proactor.h:

          Removed include directives for removed inline files.

        * ace/Timer_Queue_Adapters.cpp (activate):

          Moved method definition out of ACE_HAS_DEFERRED_TIMER_COMMANDS
          block.  Fixes "unresolved symbol" link-time errors.

        * ace/Makefile.am (nobase_include_HEADERS):

          Removed newly removed inline file.

Tue May 31 10:39:10 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/String_Base.inl:
        * ace/String_Base.cpp:

          Move operator+=() methods from .inl to .cpp in an effort to
          reduce footprint.

Mon May 30 18:10:56 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Addr.cpp:
        * ace/Addr.inl:
        * ace/Event_Handler_T.cpp:
        * ace/Event_Handler_T.inl:
        * ace/Free_List.cpp:
        * ace/Free_List.inl:
        * ace/Hashable.cpp:
        * ace/Hashable.inl:
        * ace/IOStream_T.cpp:
        * ace/IOStream_T.inl:
        * ace/Local_Tokens.cpp:
        * ace/Local_Tokens.inl:
        * ace/Lock_Adapter_T.cpp:
        * ace/Lock_Adapter_T.inl:
        * ace/Malloc_T.cpp:
        * ace/Malloc_T.inl:
        * ace/Map_T.cpp:
        * ace/Map_T.inl:
        * ace/Message_Block.cpp:
        * ace/Message_Block.inl:
        * ace/Message_Queue.cpp:
        * ace/Message_Queue.inl:
        * ace/Message_Queue_T.cpp:
        * ace/Message_Queue_T.inl:
        * ace/POSIX_CB_Proactor.cpp:
        * ace/POSIX_CB_Proactor.inl:
        * ace/POSIX_Proactor.cpp:
        * ace/POSIX_Proactor.inl:
        * ace/Refcounted_Auto_Ptr.h:
        * ace/Refcounted_Auto_Ptr.inl:
        * ace/Refcounted_Auto_Ptr.cpp:
        * ace/Remote_Tokens.cpp:
        * ace/Remote_Tokens.inl:
        * ace/Reverse_Lock_T.cpp:
        * ace/Reverse_Lock_T.inl:
        * ace/SUN_Proactor.cpp:
        * ace/SUN_Proactor.inl:
        * ace/Shared_Memory_MM.cpp:
        * ace/Shared_Memory_MM.inl:
        * ace/Shared_Memory_SV.cpp:
        * ace/Shared_Memory_SV.inl:
        * ace/Strategies_T.cpp:
        * ace/Strategies_T.inl:
        * ace/Task.cpp:
        * ace/Task.inl:
        * ace/Thread_Manager.cpp:
        * ace/Thread_Manager.inl:
        * ace/Timer_Queue_Adapters.cpp:
        * ace/Timer_Queue_Adapters.inl:
        * ace/Timer_Queue_T.inl:

          Moved inlined virtual methods out of line.  Addresses
          RTTI-related problems when using g++ 4.0's
          "-fvisibility-inlines-hidden" command line option.

        * ace/String_Base.cpp:

          Removed "ACE_INLINE" macros.  They should not be used in this
          out-of-line source file.

        * ace/Makefile.am:
        * ace/ace.mpc:

          Added Refcounted_Auto_Ptr.cpp to the list of template files.

Mon May 30 13:39:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Task.cpp:
          The Borland preview compiler is the only Borland compiler capable
          of handling the reinterpret cast

Mon May 30 13:14:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/tao_orb_tests.lst:
          Added TAO/tests/Portable_Interceptors/Bug_2088/run_test.pl

Mon May 30 09:34:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * include/makeinclude/platform_vxworks5.x_diab.GNU:
        * include/makeinclude/platform_vxworks5.x_g++.GNU:

          Removed these files since these platform configurations are
          not supported anymore with the current ACE/TAO releases.
          The currently supported platform configuration is the
          'platform_vxworks5.5.x.GNU'.

Mon May 30 09:19:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Array_Base.cpp:
          Initialise pointer with 0

Mon May 30 08:02:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_aix_ibm.GNU:
          Don't use -qstaticinline in a 64bit build with Visual Age 6. When
          this option is specified TAO crashes strangely. Seems a problem
          in the Visual Age compiler in 64bit mode.

Sun May 29 17:49:00 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * m4/compiler.m4:

          Disable the use of gcc's symbol visibility on MacOSX, since it
          requires features of the ELF object file format not present in
          Mach-O.  Longer term we need a feature check that explicitly
          tests for proper operation of symbol visibility instead of a
          list of systems where it's disabled.

Fri May 27 15:32:15 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/ACE.h:
        * ace/ACE.cpp:

          Added a new ACE::wild_match() function which is used to support the
          TAO -ORBPreferredInterfaces option. wild_match was contributed by
          Kevin Heifner <heifner_k@ociweb.com>.

        * ace/SOCK_SEQPACK_Association.h:
        * ace/SOCK_SEQPACK_Connector.h:
        * apps/drwho/Protocol_Manager.cpp:
        * examples/APG/Reactor/Timers.cpp:
        * tests/Network_Adapters_Test.cpp:

          These files #included config.h which isn't safe, because it
          won't necessarilly pick up the correct symbols. For example, I
          caught this by trying to build ACE on Windows with
          __ACE_INLINE__ = 0.  The files that #included config.h directly
          saw that it was defined as 0, but changing them to #include
          config-all.h instead, correctly saw that the symbol was
          undefined.

Fri May 27 10:26:34 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Interpret custom_types->dependent as an array instead of a string.
          This is completely backward compatible since a string is just a
          one element array in the template language.

Fri May 27 12:22:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_aix_ibm.GNU:
          When building for 64bit, make sure we enable the 64bit warnings

Fri May 27 08:49:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/OS_NS_Thread.inl:

          Fixed possible NULL-pointer assignment for VxWorks implementation
          of ACE_OS::thr_sigsetmask().

Fri May 27 00:40:19 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * bin/tao_orb_tests.lst:

          Added new recursive type Any insertion/extraction test to the
          test suite.

Thu May 26 17:07:34 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/String_Base.inl:
        * ace/String_Base.cpp:

          Move all non-trivial functions out of the .inl file. Hopefully this
          will cause a net improvement to the footprint.

Thu May 26 16:13:34 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/config-win32-msvc-6.h:

          The standard library that comes with vc6 is pre-standard c++,
          but it's close enough for many things. Enabling its use should
          be more portable. This was done long ago for the OCI versions of
          TAO (Since 1.2a), and was apparently overlooked until now.

Thu May 26 15:22:10 2005  Emre Turkay  <turkaye@dre.vanderbilt.edu>

        * Release:

          Added the contrib directory into the Release script.

Thu May 26 18:21:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Thread_Manager.{h,cpp}:
          Added thr_state method to ACE_Thread_Manager so that we are able
          to retrieve the state of a certain thread.

Thu May 26 07:39:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_cygwin32.GNU:
        * include/makeinclude/platform_freebsd.GNU:
        * include/makeinclude/platform_gnuwin32_common.GNU:
        * include/makeinclude/platform_osf1_3.2_cxx.GNU:
        * include/makeinclude/platform_osf1_4.x_cxx.GNU:
        * include/makeinclude/platform_osf1_4.x_g++.GNU:
        * include/makeinclude/platform_qnx_neutrino.GNU:
        * include/makeinclude/platform_rtems.x_g++.GNU:
          Simplified these files by using the ?= operator

Wed May 25 15:51:03 2005  Steve Totten  <totten_s@ociweb.com>

        * ace/OS_NS_stdio.inl:
        * ace/OS_NS_stdio.cpp:
        * ace/OS_TLI.inl:
        * ace/config-aix-4.x.h:
        * ace/config-posix.h:
          These files were using improper syntax to compare the value of
          _XOPEN_SOURCE against a constant that caused compilation errors on
          HP-UX 11.23 with HP aC++/ANSI C B3910B A.06.00.  For example:
          #if defined (_XOPEN_SOURCE) && (_XOPEN_SOURCE >= 500)
          was changed to:
          #if (defined _XOPEN_SOURCE && (_XOPEN_SOURCE - 0) >= 500)

          Thanks to Paul Koch <paul dot koch at mci dot com> for reporting
          this problem and providing the solution.

Wed May 25 20:08:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/msvc_static_order.lst:
          Added new RTEvent_Skel and RTEvent_Serv libraries and removed
          RTOldEvent

Tue May 24 20:09:28 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * bin/MakeProjectCreator/config/time.mpb:

          Inherit from svc_utils.mpb.

Tue May 24 20:46:28 2005  Olli Savia  <ops@iki.fi>

        * ace/config-irix6.x-common.h:
        * ace/config-linux-common.h:
          Changed incorrect define ACE_USES_NEW_TERMIOS to
          ACE_USES_NEW_TERMIOS_STRUCT.

Tue May 24 09:31:42 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/config/acedefaults.mpb:

          Use $(ILIBMODIFIER) instead of $(LIBMODIFIER).

        * tests/Pipe_Test.cpp:
        * tests/Process_Mutex_Test.cpp:

          Added missing ACE_TEXT () around option strings.  This was causing
          a very strange file to show up after the Process_Mutex_Test was
          run in the Borland unicode build and the Pipe_Test didn't run at
          all.

Tue May 24 00:17:09 2005  Emre Turkay  <turkaye@dre.vanderbilt.edu>

        * bin/MakeProjectCreator/config/cidlc.mpb:

          Created a base project for cidlc & ccf project files.

Tue May 24 07:58:09 2005  Olli Savia  <ops@iki.fi>

        * ace/SSL/SSL_SOCK_Stream.h:
          Added include "ace/os_include/os_stdio.h" to fix compile
          problem on LynxOS. Thanks to Christine Ballard
          <christine.ballard at lmco dot com> for reporting the problem.

Mon May 23 23:11:14 2005  Emre Turkay  <turkaye@dre.vanderbilt.edu>

        * contrib/utility/*:

          Added the utility library.

Mon May 23 16:38:13 2005  Steve Huston  <shuston@riverace.com>

        * examples/Reactor/Proactor/post_completions.cpp: Made use of the
          ACE_POSIX_SIG_Proactor-based test dependent on
          ACE_HAS_POSIX_REALTIME_SIGNALS, not ACE_POSIX_SIG_PROACTOR.
          ACE_POSIX_SIG_PROACTOR indicates a preference for that proactor
          implementation when one is not specified; it's not a capability
          indicator. The presence of the ACE_POSIX_SIG_Proactor implementation
          is based on the ACE_HAS_POSIX_REALTIME_SIGNALS setting, so that's
          what's used to decide whether to explicitly use
          ACE_POSIX_SIG_Proactor. This fixes a build error on Mac OS X Tiger
          with autoconfigure, as well as any other platform with AIO
          support that doesn't declare a Proactor implementation preference.
          Thanks to J.T. Conklin for raising this issue and working on testing
          fixes.

Mon May 23 14:52:19 2005  Justin Michel  <michel_j@ociweb.com>

        * ACEXML/tests/util/util.mpc:

          Add missing $ Id tag.

Mon May 23 13:02:25 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/String_Base.h:
        * ace/String_Base.inl:
        * ace/String_Base.cpp:

          Fixed some documentation bugs, and added some new features to
          this class.  New efficient overloads for string concatenation.
          Fixed clear(1) to work as documented.  Used a more optimal
          string growth when concatenating strings.  Performance
          optimizations for string concatenation.

        * tests/SString_Test.cpp:

          Test the new string concatenation overloads.

        * bin/tao_other_tests.lst:

          Enabled new ImR tests, and grouped all ImR tests together.

Mon May 23 12:26:19 2005  Steve Huston  <shuston@riverace.com>

        * ace/Thread.h: Doxygen-ized the join() comments.

Mon May 23 13:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Lib_Find.cpp:
          Reverted change below, causes compile errors with some compilers

Mon May 23 12:50:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Lib_Find.cpp:
          Small const fix

Mon May 23 10:56:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/ftrtevent.mpb:
        * bin/MakeProjectCreator/config/rtcorbaevent.mpb:
          Use rtevent_serv as base project. These projects use some rtevent
          implementation stuff so just the client side stubs are not enough.

        * bin/MakeProjectCreator/config/rteventexe.mpb:
          Use rtevent_skel as base project

Mon May 23 10:24:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/rtevent_serv.mpb:
        * bin/MakeProjectCreator/config/rtevent_skel.mpb:
          New files, the RTEvent service is being split in 3 libs so
          we need some new base projects

Mon May 23 05:47:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/rtoldevent.mpb:
          Removed this file

        * bin/MakeProjectCreator/config/rteventlogadmin.mpb:
          Removed rtoldevent as base project

Sun May 22 12:01:46 2005  Olli Savia  <ops@iki.fi>

        * ace/High_Res_Timer.cpp:

          Fixed a typo in comment.

Fri May 20 21:11:07 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/DLL.cpp (~ACE_DLL):

          Explicitly delete() this->dll_name_.  It is normally delete()d
          in ACE_DLL::close().  However, that may not occur if full
          ACE_DLL initialization is interruepted due to errors
          (e.g. attempting to open a DSO/DLL that does not exist).  Fixes
          a memory leak.

        * ace/Log_Msg.cpp (msg_ostream):

          Delete the previously allocated ostream prior to setting the new
          one, if necessary.  Fixes a memory leak.

        * ace/Logging_Strategy.h (ACE_Logging_Strategy):

          Converted integer fields that are really booleans to be of type
          "bool", and reordered fields to avoid excessive alignment
          padding.  Reduces size of this class by 8 bytes on most
          platforms.

        * ace/Logging_Strategy.cpp:

          Initialize fields in base member initializer list to prevent
          accidental use of uninitialized fields.

          Use C++ "true" and "false" instead of "1" and "0", respectively,
          when setting boolean field values.

        * ace/SString.h (ACE_Auto_String_Free):

          Corrected documentation suggesting use of
          ACE_Auto_Array_Ptr<char *>.  The correct template argument is
          "char", not "char *".

        * tests/CDR_Test.cpp:
        * tests/Multicast_Test.cpp:

          Fixed memory leaks.

        * tests/Logging_Strategy_Test.cpp:

          Updated to be consistent with boolean field changes in
          ACE_Logging_Strategy class.

        * tests/TP_Reactor_Test.cpp (delete_reactor):

          Reordered finalization code to prevent memory leak.

Fri May 20 19:05:22 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/Thread.h (ACE_Thread): Updated the documentation of
          ACE_Thread::join().  Thanks to Alan Balasuar
          <balasuar@gmail.com> for motivating this fix.

Sat May 21 18:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/HTBP/Reactor_Tests/server.cpp:
          Fixed value computed is not used warning in GCC IA64 build

Fri May 20 15:28:00 2005  Gary Maxey  <gary.maxey@hp.com>

        * ace/config-lite.h

          Added TANDEM platform for ACE_NOTREACHED macro.

Thu May 19 19:10:30 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * apps/Gateway/Gateway/Concrete_Connection_Handlers.cpp
          (handle_output):

          Removed

            ACE_ASSERT (errno == EWOULDBLOCK);

          since errno may have been changed by this point.  Thanks to Ro
          Madhavan <ro_madhavan@sify.com> for reporting this.

Thu May 19 18:50:23 2005  Steve Huston  <shuston@riverace.com>

        * ace/ICMP_Socket.{h cpp inl}:
        * ace/Ping_Socket.{h cpp inl}:
        * tests/Network_Adapters_Test.{cpp, h}: Moved ICMP_Socket and
          Ping_Socket out of the ACE namespace and changed names to
          ACE_ICMP_Socket and ACE_Ping_Socket, respectively. Also fixed up
          some text strings with ACE_TEXT.
          ACE_ICMP_Socket now does not check for root euid - allow the OS to
          do whatever checks it requires/implements.
          Improved implementation of ACE_Ping_Socket.
          Thanks to Robert Iakobashvili for these improvements and changes.

Thu May 19 15:59:38 2005  Steve Huston  <shuston@riverace.com>

        * ace/SOCK.h: Clarified doc on close() - it sets the object's
          handle to ACE_INVALID_HANDLE.

Thu May 19 08:58:48 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/INET_Addr.cpp:
        * ace/INET_Addr.inl:

          Moved remaining virtual methods out of line.  See "Wed May 18
          16:19:32 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>" for
          details.

Thu May 19 15:21:00 UTC 2005  Jeff Parsons <j.parsons@vanderbilt.edu>

        * bin/MakeProjectCreator/config/taoidl3toidl2defaults.mpb:

          Added line

          after += TAO_IDL3_TO_IDL2_EXE

          to the config file to make sure that the executable is built
          before being used in a test, example or application. Thanks to
          Chad Elliott <elliott_c@ociweb.com> for suggesting the change.

Thu May 19 14:05:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * netsvcs/clients/Logger/indirect_logging.cpp:
        * netsvcs/lib/Client_Logging_Handler.cpp:
          When we can't open the logger print out an error and exit with -1.

Thu May 19 00:38:46 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * config-g++-common.h:
        * config-lite.h:

          Removed ACE_EXPORT_SINGLETON_{DECLARATION,DECLARE} macro
          definitions.  They do not provide the expected behavior in g++
          4.0 configurations, as they do in VC++ configurations.

Wed May 18 16:19:32 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/ATM_Addr.cpp:
        * ace/ATM_Addr.inl:
        * ace/DEV_Addr.cpp:
        * ace/DEV_Addr.inl:
        * ace/FILE_Addr.cpp:
        * ace/FILE_Addr.inl:
        * ace/INET_Addr.cpp:
        * ace/INET_Addr.inl:
        * ace/MEM_Addr.cpp:
        * ace/MEM_Addr.inl:
        * ace/SPIPE_Addr.cpp:
        * ace/SPIPE_Addr.inl:
        * ace/Service_Types.cpp:
        * ace/Service_Types.inl:
        * ace/UNIX_Addr.cpp:
        * ace/UNIX_Addr.inl:

          Moved virtual method implementation out-of-line.  Since the
          classes to which they belong are exported, inlining them will
          cause problems when attempting to perform a dynamic_cast<> in
          binaries built with g++ 4.0's -fvisibility-inlines-hidden
          command line option.

        * ace/Strategies_T.cpp (dump):

          Removed ACE_INLINE from this out of line method.

Wed May 18 15:44:12 UTC 2005  Martin Corino  <mcorino@remedy.nl>

        * ace/Semaphore.cpp:

          Removed check for missing shm_open() since this causes problems
          for platforms supporting POSIX_SEM (and thus not using
          shm_open/open).  Thanks to Raoul Gough <Raoul dot Gough at liffe
          dot com> for reporting this.

        * ace/config-openvms.h:
          Added ACE_LACKS_UNNAMED_SEMAPHORE to compensate for above
          change.

Wed May 18 14:37:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/ASX/Message_Queue/buffer_stream.cpp:
          Initialise all pointers with 0

Wed May 18 09:25:35 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:
        * include/makeinclude/rules.lib.GNU:
        * include/makeinclude/platform_gnuwin32_common.GNU:

          Fixed a problem that I introduced in a previous change.  Resource
          files were not being handled properly and the
          platform_gnuwin32_common.GNU file was referencing $(VSHOBJS1)
          which I removed.

        * include/makeinclude/all_in_one.GNU:
        * include/makeinclude/wrapper_macros.GNU:
        * include/makeinclude/rules.bin.GNU:

          Removed the file rules.bin.GNU and all references to it.

Tue May 17 20:58:46 UTC 2005  Jeff Parsons <j.parsons@vanderbilt.edu>

        * bin/MakeProjectCreator/config/taoidl3toidl2defaults.mpb:

          New file, a base project for the tao_idl3_to_idl2 executable,
          so it can be executed automatically in a test or example.

Tue May 17 18:31:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/ASX/Message_Queue/ASX_Message_Queue.mpc:
          Don't build the buffer_stream exe when wchar is enabled, this
          example expects just char.

Tue May 17 09:32:01 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * tests/Collection_Test.cpp:

          Avoid casting between a pointer to a function and a pointer to
          an object.  ISO C++ forbids such casts.  Fixes a g++ 4.0
          warning.

Tue May 17 07:50:07 2005  Justin Michel  <michel_j@ociweb.com>

        * ace/Cache_Map_Manager_T.cpp:
        * ace/Cached_Connect_Strategy_T.cpp:
        * ace/Caching_Strategies_T.cpp:
        * ace/Caching_Utility_T.cpp:
        * ace/Cleanup_Strategies_T.cpp:
        * ace/Hash_Cache_Map_Manager_T.h:
        * ace/Hash_Cache_Map_Manager_T.cpp:
        * ace/QoS/QoS_Manager.h:

          Fix incorrect use of #pragma once.

        * ace/Functor.h:
        * ace/Functor.inl:
        * ace/Global_Macros.h:
        * ace/ace_wchar.h:
        * ace/config-win32-msvc.h:

          Add a new ACE_LACKS_NATIVE_WCHAR_T macro, which can be used to
          check whether a platform supports overloading on wchar_t without
          conflict.  The existing ACE_WSTRING_HAS_USHORT_SUPPORT was
          incorrectly being used for two purposes. This setting should let
          us enable native wchar_t support on VC7+.

        * ace/OS_NS_time.inl:

          Add a static_cast<long> because time_t is 64bit on some platforms
          where long is 32 bit.

        * ace/OS_NS_unistd.inl:

          Mask out the X_OK(6) bit for the amode parameter of the access()
          function because this bit is illegal on Win32 and will assert.

        * ace/config-win32-msvc-7.h:

          Clarify comment on ACE_HAS_EXPLICIT_TEMPLATE_INSTANTIATION_EXPORT.

        * ace/config-win32-msvc-8.h:

          Disable deprecation warning 4996, because the
          _CRT_SECURE_NO_DEPRECATE macro doesn't appear to work
          correctly.

        * ace/streams.h:

          Add missing "using std::ios_base".

Mon May 16 21:39:30 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * ace/Ping_Socket.h (Ping_Socket):

          Corrected class name in Doxygen documentation.

Mon May 16 19:18:14 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * configure.ac:
        * examples/Makefile.am:
        * protocols/Makefile.am:
        * protocols/examples/Makefile.am:

          Adapt autoconf build to adjust to relocation of RMCast examples.

Mon May 16 15:58:29 2005  Steve Huston  <shuston@riverace.com>

        * ACE-INSTALL.html: Corrected the names of the Sun compilers supported.
          Thanks to Nick Todd <nicholas dot todd at gs dot com> for
          bringing this error to our attention.

        * THANKS: Added Nick Todd to the Hall of Fame.

Mon May 16 12:33:29 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

        * THANKS:

          Added Mario Di Giacomo to the Hall of Fame.

        * ace/Service_Templates.cpp:

          Include "ace/SString.h" to pull in ACE_TString declaration.
          Thanks to Mario Di Giacomo <mdigiacomo at anteon dot com> for
          reporting the problem.

        * tests/Cache_Map_Manager_Test.cpp (find_test_cache):

          Fixed "variable may be used uninitialized" warning.

Mon May 16 19:13:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Malloc.h:
          Doxygen improvement

Mon May 16 10:57:57 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Makefile.am:

          Reset DEFAULT_INCLUDES to address ambiguity between system's
          signal.h and semaphore.h headers and ACE's Signal.h and
          Semaphore.h headers on case insensitive file systems.

          This may be the best setting for all ACE/TAO Makefile.am's,
          but this is the only one that requires it.

Mon May 16 10:56:31 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * configure.ac:

          Add ACE_LD_SEARCH_PATH and ACE_DLL_SUFFIX settings for
          darwin/MacOSX.

          Add ACE_HAS_NANOSLEEP feature test check.

Mon May 16 10:49:10 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/POSIX_CB_Proactor.h:

          Add defined(__APPLE__) to conditional wrapping sigval_t type
          definition.

Mon May 16 10:45:18 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * m4/ace.m4 (ACE_CONFIGURATION_OPTIONS):

          Changed *win* patterns to *win32* to avoid matching darwin,
          the MacOSX kernel.

Mon May 16 15:13:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_mingw32.GNU:
        * include/makeinclude/platform_sco5.0.0-nothread.GNU:
        * include/makeinclude/platform_sunos4_g++.GNU:
        * include/makeinclude/platform_sunos5_sunc++.GNU:
        * include/makeinclude/platform_unixware_g++.GNU:
        * include/makeinclude/platform_unixware_udk.GNU:
        * include/makeinclude/platform_win32_dmc.GNU:
        * include/makeinclude/platform_win32_interix.GNU:
          Simplified these files by using the ?= operator. This sets a value
          only when it is not set yet.

Mon May 16 09:24:29 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/tao_orb_tests.lst:

          Enabled the Exposed_Policies test on Linux.

        * bin/tao_other_tests.lst:

          Added a !NO_IFR configuration to each IFR related test.
          The IFR_Service will not run on MacOS X unless TAO is built
          statically due to gcc's in ability to deal with template
          instantiated singletons correctly.

          Added a NO_LOADAVG configuration to avoid running the load average
          based test on platforms that do not have support for obtaining the
          load average from the system.

          Added a configuration for NO_MCAST for machines that do not have
          multicast capabilities or the multicast implementation is broken.

          Added !STATIC to two LoadManager tests to support static builds on
          Windows.

Mon May 16 14:19:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Active_Map_Manager.h:
        * ace/Base_Thread_Adapter.h:
        * ace/Process.h:
        * ace/QtReactor.h:
          Doxygen improvement

        * ace/QtReactor.cpp:
          Fixed compile problems with msvc6

        * examples/ASX/Message_Queue/buffer_stream.cpp:
          Use ACE_SIZE_T_FORMAT_SPECIFIER to print out an size_t variable
          with ACE_OS::sprintf

        * include/makeinclude/platform_hpux_aCC.GNU:
        * include/makeinclude/platform_hpux_gcc.GNU:
        * include/makeinclude/platform_irix6.x_g++.GNU:
        * include/makeinclude/platform_irix6.x_sgic++.GNU:
        * include/makeinclude/platform_linux.GNU:
        * include/makeinclude/platform_linux_borland.GNU:
        * include/makeinclude/platform_linux_cxx.GNU:
        * include/makeinclude/platform_macosx.GNU:
          Simplified these files by using the ?= operator. This sets a value
          only when it is not set yet. Also set some variables using ?= so
          that our users can easily define their own values.

        * include/makeinclude/platform_linux_icc.GNU:
          Disable warning 1572 (floating point warning), correct name of Qt
          library and only set several variables when they are not set yet

Mon May 16 09:01:07 2005  Chad Elliott  <elliott_c@ociweb.com>

        * tests/Conn_Test.cpp:

          Force this test to use threads (instead of fork) on MacOS X.

        * tests/FIFO_Test.cpp:

          Sleep 1 second (as is done on AIX and HP-UX) before attempting to
          receive from the fifo.

        * tests/MT_Reference_Counted_Event_Handler_Test.cpp:

          Set global_event_loop_thread_variable before activating the thread
          that may use it.

        * tests/Naming_Test.cpp:

          Allow the user to determine the location of the context file by
          the TMPDIR, TEMP and TMP environment variables.

        * tests/Pipe_Test.cpp:
        * tests/Process_Mutex_Test.cpp:

          Use the value from argv[0] instead of hardcoding the exe name.
          The hardcoded name does not work on Windows Release builds.

        * tests/Process_Strategy_Test.cpp:

          Use threads by default on HP-UX instead of fork.
          Added a timeout for the recv() call in
          Counting_Service::handle_input() for HP-UX only.

        * tests/run_test.lst:

          Added a configuration for NO_MCAST for machines that do not have
          multicast capabilities or the multicast implementation is broken.

        * tests/SSL/aix_hack_for_main.cpp:
        * tests/aix_hack_for_main.cpp:

          Removed these files.  They are no longer needed due to MPC.

Mon May 16 08:52:11 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/config/crosscompile.mpb:

          Added lib_warning, require_warning and avoid_warning to the list
          of targets in the CROSS-COMPILE portion.

        * bin/MakeProjectCreator/config/rtcorbaevent.mpb:

          The RTCORBAEvent library requires the CosNaming library.

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Support the MPC feature that will allow users to specify arbitrary
          input file dependencies.

          Changed the OBJS setting to use $(notdir) only if the source file
          contains ../ and added explicit rules for source files that are
          located in subdirectories.

        * include/makeinclude/platform_macosx_panther.GNU:

          Explicitly default the threads variable to threads=1.  This
          was preventing ACE_TMCast from building.
          Change the optimization option to -O2.  -O3 was causing some
          link problems in the IDL compiler.

        * include/makeinclude/platform_sunos5_sunc++.GNU:

          Allow users to override the inline and exceptions settings.

        * include/makeinclude/platform_vxworks5.5.x.GNU:
        * include/makeinclude/rules.local.GNU:

          Provide better support for building for VxWorks on a Windows host
          without Cygwin.

        * include/makeinclude/rules.lib.GNU:

          Changed the SHOBJS setting to be consistent with the OBJS setting.
          Also, removed VLOBJS and SHOBJS1 which were redundant and set
          exactly as SHOBJS was.

        * include/makeinclude/wrapper_macros.GNU:

          Set ec_typed_events to 1 by default.  This matches the default for
          MPC features.

        * bin/pch_cmd.pl:

          Removed this file.  It is no longer necessary.

Mon May 16 08:44:14 2005  Chad Elliott  <elliott_c@ociweb.com>

        * ace/ACE.cpp:
        * ace/config-irix6.x-sgic++.h:
        * ace/config-qnx-neutrino.h:
        * ace/config-qnx-rtp-common.h:
        * ace/config-sunos5.5.h:

          Put ACE_LIB_TEXT around all ACE_CC_NAME definitions to support
          wide character builds on Solaris, QNX and IRIX.

        * ace/ACE_export.h:

          Added support for SunCC 5.6.

        * ace/Multihomed_INET_Addr.h:
        * ace/Multihomed_INET_Addr.cpp:

          Added an explicit constructor that takes a const char* for
          symmetry with the ACE_INET_Addr class.

        * ace/Naming_Context.cpp:

          Removed a bug workaround for aCC A.03.04.  It is no longer a
          problem to specify other mmap base addresses when running
          64-bit HP-UX applications.

        * ace/OS_NS_Thread.inl:
        * ace/config-macosx-panther.h:
        * ace/Sched_Params.cpp:

          MacOS X has pthread_getschedparam but has the ACE_LACKS_SETSCHED
          macro defined.  I have added a new macro,
          ACE_HAS_PTHREAD_SCHEDPARAM, that can be defined to use
          pthread_getschedparam and pthread_setschedparam even when
          ACE_LACKS_SETSCHED is defined.


        * ace/OS_NS_Thread.cpp:

          Fixed an issue that arose within the static builds on Windows.
          The ACE_Thread_Mutex static data member of the
          TSS_Cleanup_Instance class was being used (in the
          TSS_Cleanup_Instance constructor) before it was statically
          initialized.  I have switched it (and the condition variable
          associated with it) to a pointer that is allocated the first
          time into the TSS_Cleanup_Instance constructor.

        * ace/Process_Manager.cpp:

          Committing a change from Justin Michel <michel_j@ociweb.com>.
          The close() method failed to unregister the reactor on Windows.

        * ace/ace.mpc:

          Removed an unnecessary 'install' setting.

        * ace/config-sunos5.10.h:

          SunOS 5.10 has scandir (ACE_HAS_SCANDIR).

        * ace/os_include/sys/os_socket.h:

          When using LKSCTP, include <netinet/in.h> before <netinet/sctp.h>
          to avoid macro problems.

Sun May 15 11:57:56 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * ace/INET_Addr.cpp (set): Changed the test from

          if (port_number < 0)

          to

          if (port_number == -1)

          to work around problems when (port_number & 0x80 != 0).  Thanks
          to Vemund Handeland <vemund.handeland@fantoft.no> for reporting
          this.

Mon May 16 11:35:00 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/tests/tests.mwc:
        * protocols/tests/RMCast/Protocol.h:
        * protocols/tests/RMCast/RMCast.mpc:
        * protocols/tests/RMCast/Receiver.cpp:
        * protocols/tests/RMCast/Sender.cpp:
        * protocols/tests/RMCast/run_test.pl:

          Added regression test with loss and reordering simulator
          for RMCast.

Mon May 16 11:26:14 2005  Boris Kolpackov  <boris@kolpackov.net>

        * examples/RMCast/Makefile.am:
        * examples/RMCast/Send_Msg/Makefile.am:
        * examples/RMCast/Send_Msg/Protocol.h:
        * examples/RMCast/Send_Msg/README:
        * examples/RMCast/Send_Msg/Receiver.cpp:
        * examples/RMCast/Send_Msg/Send_Msg.mpc:
        * examples/RMCast/Send_Msg/Sender.cpp:

          Removed as part of the moving all RMCast-related
          code to protocols/.

Mon May 16 11:22:09 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/examples/example_base.mpb:
        * protocols/examples/examples.mwc:
        * protocols/examples/RMCast/Makefile.am:
        * protocols/examples/RMCast/Send_Msg/Makefile.am:
        * protocols/examples/RMCast/Send_Msg/Protocol.h:
        * protocols/examples/RMCast/Send_Msg/README:
        * protocols/examples/RMCast/Send_Msg/Receiver.cpp:
        * protocols/examples/RMCast/Send_Msg/Send_Msg.mpc:
        * protocols/examples/RMCast/Send_Msg/Sender.cpp:

          Copyied from examples/RMCast as part of the moving
          all RMCast-related code to protocols/.


Mon May 16 11:05:26 2005  Boris Kolpackov  <boris@kolpackov.net>

        * examples/RMCast/Send_Msg/Receiver.cpp:
        * examples/RMCast/Send_Msg/Sender.cpp:

          Showcase new features (see below).

Mon May 16 10:58:43 2005  Boris Kolpackov  <boris@kolpackov.net>

        * protocols/ace/RMCast/Acknowledge.cpp:
        * protocols/ace/RMCast/Link.cpp:
        * protocols/ace/RMCast/Link.h:
        * protocols/ace/RMCast/Protocol.cpp:
        * protocols/ace/RMCast/Protocol.h:
        * protocols/ace/RMCast/Retransmit.cpp:
        * protocols/ace/RMCast/Socket.cpp:
        * protocols/ace/RMCast/Socket.h:

          Implemented message aging and unavailability reporting,
          reactor-compatible interface, and message size query
          interface.

        * protocols/ace/RMCast/README:

          Protocol documentation.

Sat May 14 06:05:55 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ACE version 5.4.5 released.

Local Variables:
add-log-time-format: current-time-string
End:
