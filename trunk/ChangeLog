Thu Jan 13 11:29:35 2005  Boris Kolpackov  <boris@dre.vanderbilt.edu>

	* ace/TMCast/Group.cpp:
	* ace/TMCast/LinkListener.hpp: Use ACE_hthread_t instead of
	  ACE_thread_t to join threads.

Wed Jan 12 22:52:12 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

	* ace/OS_NS_stdio.h (gets):
	* ace/OS_NS_stdio.cpp (gets):

	  Removed this implementation.  While this ACE implementation of
	  gets() did not contain the security holes that all standard
	  gets() implementations have, keeping it around only serves to
	  foster confusion since (1) some may incorrectly assume that this
	  ACE-specific gets() implementation has the same holes as
	  standard ones, and (2) invoking it with a default size argument
	  so that it looks like a standard gets() call results in behavior
	  that is different from the standard.  Use fgets() instead.

	* examples/C++NPv2/Select_Reactor_Logging_Server.cpp:
	* examples/C++NPv2/Server_Shutdown.cpp:
	* examples/C++NPv2/TP_Reactor_Logging_Server.cpp:

	  Replaced all gets() calls with their fgets() counterparts.
	  gets() is evil (read insecure), and should not be used.

Wed Jan 12 14:02:03 2005  Boris Kolpackov  <boris@dre.vanderbilt.edu>

	* ace/TMCast/Group.cpp:
	* ace/TMCast/LinkListener.hpp: Called different version of
	  ACE_OS::thr_join which happens to be supported on Win32.  Thanks
 	  to Huang Rui <huangrui@mail.cqzte.com.cn> for reporting the
 	  problem and helping in narrowing it down.

Tue Jan 11 23:16:35 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

	* configure.ac:

	  Added test for existence of `/dev/poll' device file.  If that
	  file exists and is readable define the "ACE_HAS_DEV_POLL"
	  preprocessor symbol.

	* m4/config_h.m4:

	  Minor preprocessor symbol documentation fixes.

Tue Jan 11 22:32:47 2005  Ossama Othman  <ossama@dre.vanderbilt.edu>

	* ace/Dev_Poll_Reactor.cpp (remove_handler_i):

	  Release the lock during the "close" upcall.  Fixes a deadlock
	  that occurred when cancelling a timer during removal of an event
	  handler from the reactor.  Thanks to Gao Xianchao <info at
	  socks5cn dot com> for reporting the problem and confirming that
	  this change fixes the problem.

Wed Jan 12 00:12:03 2005  Balachandran Natarajan  <bala@dre.vanderbilt.edu>

 	* ace/OS_NS_signal.inl:

	  Fixed a compile error with the following checkin "Tue Jan 11
	  18:14:22 2005  Steve Huston  <shuston@riverace.com>". Not sure
	  whether this is going to break aCC. The existing code broke
	  atleast g++ 3.3.4. Need to sync with Steve on this.

Tue Jan 11 18:14:22 2005  Steve Huston  <shuston@riverace.com>

	* ace/OS_NS_signal.inl: Added "namespace ACE_OS" to this as some other
	  .inl files have done. This helped get HP aC++ around its confusion
	  of ACE_OS::sigaction() vs. sigaction(). Added "::" to the sigaction
	  type specifiers in the signature to resolve the confusion between
	  the sigaction type and ACE_OS::sigaction.

Mon Jan 10 12:41:23 2005  Steve Huston  <shuston@riverace.com>

	* tests/Test_Output.cpp (close): If the output_file_ pointer is
	  already 0, don't flush/close/delete it. Logging_Strategy_Test
	  does a close before the end of the program, and this will
	  cause ACE_END_TEST to close it again and crash, at least on
	  some plaforms.

Mon Jan 10 10:29:38 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/templates/gnu.mpd:

          Ensure that all generated files are created before attempting to
          create the precompiled header binary.

        * bin/depgen.pl:

          Use canonpath on all paths provide by the user to ensure that
          things get substituted properly in the generated dependency file.

Mon Jan 10 16:10:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/Mem_Map/IO-tests/test_io.cpp:
          Fixed compile errors

Mon Jan 10 12:29:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * apps/gperf/tests/test.cpp:
          Fixed unicode link errors

Mon Jan 10 10:28:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/Mem_Map/IO-tests/test_io.cpp:
        * examples/IPC_SAP/TLI_SAP/ftp-server.cpp:
        * examples/IPC_SAP/TLI_SAP/ftp-client.cpp:
        * examples/IPC_SAP/TLI_SAP/db-server.cpp:
        * examples/IPC_SAP/TLI_SAP/db-client.cpp:
        * examples/IPC_SAP/TLI_SAP/CPP-server.cpp:
        * examples/IPC_SAP/SOCK_SAP/CPP-memserver.cpp:
        * examples/Connection/non_blocking/test_lsock_acceptor.cpp:
        * examples/Bounded_Packet_Relay/bpr_thread.cpp:
        * examples/ASX/Message_Queue/bounded_buffer.cpp:
        * examples/ASX/Message_Queue/priority_buffer.cpp:
        * examples/ASX/CCM_App/SC_Client.cpp:
          Fixed unicode link errors

Mon Jan 10 08:41:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/System_V_IPC/SV_Message_Queues/MQ_Client.cpp:
          Fixed compile error

Sun Jan  9 19:49:19 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ACE-INSTALL.html:

          Updated to note that autoconf/automake build is available
          in ACE only and ACE+TAO releases.

Sun Jan  9 18:29:13 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ACEXML/apps/svcconf/Makefile.am:
        * ACEXML/common/Makefile.am:
        * ACEXML/parser/parser/Makefile.am:
        * Kokyu/Makefile.am:
        * protocols/ace/HTBP/Makefile.am:

          Generate pkg-config *.pc files from templates.

        * ACEXML/apps/svcconf/ACEXML_XML_Svc_Conf_Parser.pc.in:
        * ACEXML/common/ACEXML.pc.in:
        * ACEXML/parser/parser/ACEXML_Parser.pc.in:
        * Kokyu/Kokyu.pc.in:
        * protocols/ace/HTBP/ACE_HTBP.pc.in:

          New files, pkg-config *.pc templates.

Sun Jan  9 17:53:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/System_V_IPC/SV_Semaphores/Semaphores_1.cpp:
        * examples/System_V_IPC/SV_Semaphores/Semaphores_2.cpp:
        * examples/System_V_IPC/SV_Shared_Memory/SV_Shared_Memory_Test.cpp:
        * examples/System_V_IPC/SV_Message_Queues/MQ_Client.cpp:
        * examples/System_V_IPC/SV_Message_Queues/MQ_Server.cpp:
          Fixed unicode compile errors

Sun Jan  9 17:49:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * netsvcs/lib/Server_Logging_Handler_T.{h,cpp}:
          Fixed unicode compile errors

Sun Jan  9 12:47:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/IOStream/client/iostream_client.cpp:
        * examples/IOStream/server/iostream_server.cpp:
        * examples/IPC_SAP/TLI_SAP/CPP-ATM-client.cpp:
        * examples/IPC_SAP/TLI_SAP/CPP-ATM-server.cpp:
        * examples/OS/process/process.cpp:
          Fixed unicode link errors

Sun Jan  9 12:37:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/Connection/non_blocking/test_lsock_connector.cpp:
        * examples/Connection/non_blocking/test_spipe_acceptor.cpp:
        * examples/Connection/non_blocking/test_spipe_connector.cpp:
        * examples/Connection/non_blocking/test_tli_acceptor.cpp:
        * examples/Connection/non_blocking/test_tli_connector.cpp:
          Fixed unicode link errors

Sun Jan  9 11:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Unbounded_Set_Test.cpp:
          Removed test for bug 1460, it is just not safe to remove the element
          the iterator points to, always move the iterator first forward
          and then remove the element.

Sat Jan  8 14:50:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/server.mpb:
          Removed this file, name is just too generic, use taoserver for
          TAO servers that have taoexe and portableserver as base project
          and server as exename

Fri Jan  7 21:04:44 2005  Balachandran Natarajan  <bala@dre.vanderbilt.edu>

        * include/makeinclude/wrapper_macros.GNU:

          Added the required path settings for SSL.

Fri Jan  7 18:23:19 2005  Steve Huston  <shuston@riverace.com>

        * configure.ac: Corrected the check for ACE_HAS_CONFLICTING_XTI_MACROS.
          We're checking for a conflict of macros from other places. The
          requirement for this macro originally came from HP-UX, and shows
          as a "Future error" (aka a warning) from aC++. Simply having
          the macros show up when the "wrong" header is included first isn't
          a problem - it's the compiler complaining that they conflict.

Fri Jan  7 19:36:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/tests.mpc:
          Found that Unbounded_Set_Test was not listed, added this

        * tests/run_test.lst:
          Removed Unbounded_Set_Test_Ex, but added Unbounded_Set_Test

Fri Jan  7 15:04:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/Service_Configurator/IPC-tests/server/Handle_L_Pipe.i:
          Added include of OS_NS_unistd.h to fix compile errors in Solaris 10
          build.

Fri Jan  7 08:39:40 2005  Chad Elliott  <elliott_c@ociweb.com>

        * tests/HTBP/Send_Large_Msg/Send_Large_Msg.mpc:
        * tests/HTBP/Send_Recv_Tests/SendRecv_Test.mpc:

          Added after += Test_Output to make sure that these projects aren't
          built before the Test_Output library.

Fri Jan  7 13:19:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Unbounded_Set_Ex.{h,cpp,inl}:
        * ace/ace.mpc:
        * ace/Makefile.am:
          Removed the ACE_Unbounded_Set_Ex. It gives the false idea
          that the iterators can be used thread safe. If you used this,
          use ACE_Unbounded_Set and handle thread safety in your own
          code

        * ace/Node.{h,cpp}:
          Removed deleted_, this was there for ACE_Unbounded_Set_Ex, which
          is now removed.

        * tests/Unbounded_Set_Test_Ex.{h,cpp}:
        * tests/Makefile.am:
        * tests/tests.mpc:
          Removed the ACE_Unbounded_Set_Ex test

Fri Jan  7 11:38:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_math.inl:
          Replaced ACE_OS:: before each method with namespace ACE_OS {},
          hopefully this fixes the compile warnings in the SuSE 8 fuzz builds.
          Thanks to Steve Huston for this idea.

        * ace/config-vxworks5.x.h:
          Removed ACE_HAS_NONCONST_RMDIR, rmdir has a const char* on VxWorks

        * ace/OS_NS_unistd.inl (rmdir):
          Removed part with ACE_HAS_NONCONST_RMDIR, there are no config files
          anymore that define this

        * ace/README:
          Removed ACE_HAS_NONCONST_RMDIR

Thu Jan  6 18:29:22 2005  Steve Huston  <shuston@riverace.com>

        * configure.ac: Added check for
          ACE_EXPLICIT_TEMPLATE_DESTRUCTOR_TAKES_ARGS ( ~CLASS<PARAM>() ),
          and made it the primary check since most compilers like this one.
          If this one fails, then test for
          ACE_HAS_WORKING_EXPLICIT_TEMPLATE_DESTRUCTOR ( ~CLASS() ). Some
          compilers don't like this one (such as IBM Visual Age C++) but
          do like the first one.

        * m4/config_h.m4: Added ACE_EXPLICIT_TEMPLATE_DESTRUCTOR_TAKES_ARGS.

Thu Jan  6 08:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * examples/IPC_SAP/SPIPE_SAP/producer_msg.cpp:
        * examples/IPC_SAP/SPIPE_SAP/consumer_read.cpp:
        * examples/IPC_SAP/FIFO_SAP/FIFO-Msg-server.cpp:
          Added includes to fix compile errors in Solaris 10 build

Wed Jan  5 14:06:03 2005  Chad Elliott  <elliott_c@ociweb.com>

        * ace/config-aix-4.x.h:
        * include/makeinclude/platform_aix_ibm.GNU:

          Visual Age 6 does not require #pragma implementation for template
          cpp files and so for backward compatibility, set the
          ACE_TEMPLATES_REQUIRE_PRAGMA macro if using Visual Age 5 or
          earlier and ACE_TEMPLATES_REQUIRE_SOURCE for 6 and later.

Wed Jan  5 13:03:23 2005  Jeff Parsons <j.parsons@vanderbilt.edu>

        * ace/qt_reactor.mpb:

          Modified this file similarly to those in

          Wed Jan  5 09:25:49 2005  Jeff Parsons <j.parsons@vanderbilt.edu>

          so that MPC regeneration will work correctly when qt=1.

Wed Jan  5 17:46:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Dev_Poll_Reactor.cpp:
          Added include of ace/OS_NS_stropts.h to get ACE_OS::ioctl

Wed Jan  5 09:25:49 2005  Jeff Parsons <j.parsons@vanderbilt.edu>

        * ace/ace.mpc:
        * ace/codecs.mpb:
        * ace/filecache.mpb:
        * ace/other.mpb:
        * ace/svcconf.mpb:
        * ace/token.mpb:
        * ace/uuid.mpb:

          Removed the extra nested braces related to ACE_COMPONENTS
          that create "subdirectories" in VC project files. In makefiles,
          these "components" can be separately compiled but not linked,
          so the feature is not used on any platform. In VC projects,
          the extra level of folders makes source and header files
          much harder to locate in the GUI environment.

Wed Jan  5 14:34:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Dev_Poll_Reactor.cpp:
          Always include OS_NS_fcntl.h and OS_NS_unistd.h

Wed Jan  5 14:28:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/RMCast/RMCast.{h,cpp,i}:
        * ace/RMCast/RMCast_Worker.{h,cpp,i}:
        * ace/RMCast/RMCast_Module_Factory.{h,cpp,i}:
        * ace/RMCast/RMCast_Reassembly.{h,cpp,i}:
          Removed i file, update h/cpp

        * ace/RMCast/*.cpp:
          Updated module name to RMCast in ACE_RCSID tag

        * ace/RMCast/Makefile.am:
          Updated

Wed Jan  5 13:21:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/fuzz.pl:
          Added zip files to the noncvs files that shouldn't be in the repo.
          Added a new check that tests for inline files just containing empty
          lines and c-style comments. These files shouldn't be in the repo
          and need to get removed. There is an exclusion for TAO_IDL generated
          files, we don't have an option yet to suppress the generation of
          empty inline files so, we allow them for the time being. Thanks to
          Don Hinton, Carlos O'Ryan and Martin Corino for their answers
          on my questions.

Wed Jan  5 09:44:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_dirent.inl (readdir_r):
          For readdir_r we also have multiple versions on Solaris. Changed
          the detection which version to use. Tested on Solaris 8, hopefully
          fixes also the problems on Solaris 10

Wed Jan  5 09:30:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_Thread.inl (sigwait):
          On Solaris it seems we have two versions of sigwait, one with one
          argument, another with two arguments. Added a check to detect which
          one to use and implemented both variants. I tested this on Solaris 8
          and there it works, is should fix the compile problems in the
          Solaris 10 x86 isis build

Wed Jan  5 09:10:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Dev_Poll_Reactor.cpp:
          Fixed includes for Solaris x86 isis build

Tue Jan  4 17:38:23 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * Makefile.am:
        * Release:
        * configure.ac:

          Updated for removal of ace-config.in and ace-config.1.in.

        * ace-config.in:
        * ace-config.1.in:

          Removed.

Tue Jan  4 18:19:11 2005  Steve Huston  <shuston@riverace.com>

        * ace/ACE_export.h: Adjusted ACE_NAMESPACE_INLINE_FUNCTION to include
          the extern storage class when inlining for non-Windows. This resolves
          some warnings on Solaris/Forte7, and is (hopefully!) the nit
          behind the mysterious intermittent compile failures on HP-UX aCC.

Tue Jan  4 17:37:29 2005  Steve Huston  <shuston@riverace.com>

        * ace/ACE.h: Corrected t_rcv(), t_rcv_n_i() to be extern ACE_Export,
          not ACE_NAMESPACE_INLINE_FUNCTION - the bodies are defined in the
          .cpp file, and not inline.

Tue Jan  4 17:22:14 2005  Steve Huston  <shuston@riverace.com>

        * ace/Signal.h:
        * ace/TLI.h:
        * ace/TLI_Stream.h: Include "ace/config-lite.h" before testing any ACE
          config macros.

Tue Jan  4 09:56:46 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/TMCast/TMCast.mpc:
        * bin/MakeProjectCreator/config/tmcast.mpb:

          Changed to inherit from exceptions.mpb and threads.mpb

        * bin/MakeProjectCreator/exceptions.mpb:
        * bin/MakeProjectCreator/threads.mpb:

          New files, MPC base projects that require exceptions and threads
          respecitively.  Projects can inherit from these instead of using
          an explicit requires +=, which can result in duplicate entries.

Tue Jan  4 13:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * etc/create-jace-release:
          Removed this file

Tue Jan  4 13:33:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/CLASSIX/*:
        * tests/CLASSIX/*:
          Removed all these files, they are old and not maintained for
          a long time

        * psosim/*:
        * java/*:
          Removed the contents of these directories. These files where not
          shipped as part of the release and are not used anymore.

          This fixes bugzilla bug [2015].

Tue Jan  4 08:07:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Multicast_Test.cpp:
        * tests/Multicast_Test_IPV6.cpp:
          Fixed unused argument warnings

Tue Jan  4 04:25:44 2005  Balachandran Natarajan  <bala@dre.vanderbilt.edu>

        * ace/OS_NS_sys_stat.inl:
        * ace/OS_NS_sys_utsname.inl:

          Fixes for SUN Studio 9 builds on x86 platform. New builds will
          be setup soon to track this on a day-today basis.

Mon Jan  3 16:53:59 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * examples/TMCast/Member/Makefile.am:

          Update for ACE prefix being added to TMCast library name.

Mon Jan  3 17:42:39 2005  Steve Huston  <shuston@riverace.com>

        * apps/JAWS/server/server.mpc:
        * apps/JAWS3jaws3/jaws3.mpc: Added "avoids += uses_wchar" because
          there are some sources in here that won't work with wide-char.
          Furthermore, it's not immediately clear what the needs of the code
          are with respect to char width. These could probably be fixed,
          but may require (or be greatly helped by) some improvement to
          ACE_Process_Options::setenv() to accept narrow-char args and/or
          adjust string formatting to account for wide-char input.

        * examples/Connection/non_blocking/CPP-acceptor.cpp: The
          ACE_DEFAULT_SERVER_PORT_STR is already defined in terms of
          ACE_TEXT, so it shouldn't be wrapped in ACE_TEXT.

Mon Jan  3 14:38:01 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * netsvcs/lib/Makefile.am:

          Install header files.

Mon Jan  3 14:34:57 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Makefile.am:
        * ace/QoS/Makefile.am:
        * ace/RMCast/Makefile.am:
        * ace/SSL/Makefile.am:
        * ace/TMCast/Makefile.am:

          Generate pkg-config *.pc files from templates.

        * ace/ACE.pc.in:
        * ace/QoS/ACE_QoS.pc.in:
        * ace/RMCast/ACE_RMCast.pc.in:
        * ace/SSL/ACE_SSL.pc.in:
        * ace/TMCast/ACE_TMCast.pc.in:

          New files, pkg-config *.pc templates.

Mon Jan  3 19:16:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Dev_Poll_Reactor.{h,cpp}:
          Changed the return type of the notify method to int to match the
          declaration in the base class. Also added argument names to the
          header file to help doxygen generate the documentation. Thanks to
          Alexander Libman <alexander dot libman at earthlink dot net> for
          reporting this.

        * ace/Reactor_Impl.h:
          Added argument names to the notify method so that doxygen can
          generate better documentation

Mon Jan  3 13:05:46 2005  Chad Elliott  <elliott_c@ociweb.com>

        * bin/MakeProjectCreator/config/core.mpb:

          Added a setting for the template variable 'install_headers' which
          is currently only used by the automake project type.
          Coincidentally, I changed the case of INSTALL_THIS_TARGET to
          lowercase.  I personally prefer lowercase and since MPC is case
          insensitive with respect to variable names, it causes no harm to
          the borland project type which also uses that template variable.

Mon Jan  3 10:56:59 2005  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/TMCast/Makefile.am:
        * ace/TMCast/TMCast.mpc:
        * bin/MakeProjectCreator/config/tmcast.mpb:

          Add ACE prefix to TMCast library name.

Mon Jan  3 14:35:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_sunos5_sunc++.GNU:
          Previously explicit was the default for templates, changed this
          so that we use explicit for version 4.2 and 5.3 and otherwise
          we default to implicit. Explicit templates are not usable anymore
          for TAO, maybe these older compilers work for ACE, but we don't
          know.

Mon Jan  3 08:02:33 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * examples/TMCast/Member:
        * TMCast/*: Changed the use of TMCast to ACE_TMCast.  Thanks to
          J.T. Conklin for pointing out the inconsistency.

Mon Jan  3 09:55:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Thread_Manager_Test.cpp:
        * tests/Conn_Test.cpp:
          Fixed compile errors with VxWorks and ACE_HAS_PTHREADS

Mon Jan  3 09:48:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-vxworks5.x.h:
          Added include of vxCpu.h to get the CPU defines from VxWorks
          so that we can determine if we use pentium or not

Sun Jan  2 13:20:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Thread_Manager_Test.cpp:
          Fixed compile errors with VxWorks and ACE_HAS_PTHREADS

        * examples/Misc/test_trace.cpp:
          Replaced variable with name _ by trace, this fixes compile warning
          with VxWorks.

Sun Jan  2 13:16:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/Conn_Test.cpp:
          Fixed compile errors with VxWorks and ACE_HAS_PTHREADS

Sun Jan  2 12:52:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-vxworks5.x.h:
          When ACE_HAS_PTHREADS is defined, include the VxWorks file
          types/vxTypesOld.h, the header file sys/stat.h uses types from
          this file and is not according to the spec. A TSR has been
          filed to WindRiver to get this corrected, until the time being
          this is the easiest fix because on more places we got problems
          and we only now have one fix that is easily to remove

Sun Jan  2 12:18:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Thread_Manager.cpp:
          VxWorks deliver also a pthread implementation. This can be used by
          defined ACE_HAS_PTHREADS, but when this is set, we don't need to use
          some special VxWorks code.

Sun Jan  2 11:27:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/OS_NS_stdlib.cpp:
          Fixed compile problem when ACE_LACKS_MKTEMP is defined

Sun Jan  2 10:40:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * bin/MakeProjectCreator/config/ciao_client.mpb:
        * bin/MakeProjectCreator/config/ciao_client_dnc.mpb:
          Added ciaoversion as base project so that the version number
          assigned to SOVERSION in the GNU makefiles is set to the CIAO
          version and not to the TAO version

Sun Jan  2 10:06:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * tests/CDR_Array_Test.cpp:
        * tests/CDR_File_Test.cpp:
        * tests/Logging_Strategy_Test.cpp
          Fixed deprecated conversion warnings

Sun Jan  2 09:53:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/config-vxworks5.x.h:
          Added, ACE_HAS_NONCONST_GETBY

Sat Jan  1 22:53:41 2005  Balachandran Natarajan  <bala@dre.vanderbilt.edu>

        * bin/generate_rel_manpages:

          Fixed the doxygen revision number

        * bin/make_release:

          Fixed a typo.

Sat Jan  1 18:46:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        Reverted the change below, the define doesn't seem to be the
        correct one, it breaks on some platforms, have to investigate
        this again

        * ace/OS_NS_stdlib.cpp:
          Just include os_limits.h instead of limits directly

        * ace/os_include/os_limits.h:
          Dependent on ACE_USES_STD_NAMESPACE_FOR_STDCPP_LIB include
          limits or limits.h, just as we do for new

Sat Jan  1 15:12:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Service_Config.{h,cpp}:
          Fixed compile problems in unicode builds

Sat Jan  1 13:54:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ace/Service_Config.cpp:
          Added include of OS_NS_unistd.h to get ACE_OS::getpid()

Sat Jan  1 13:45:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * include/makeinclude/platform_gnuwin32_common.GNU:
          Added needed flags for wxWindows

Sat Jan  1 13:37:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * docs/ACE-guidelines.html:
          Updated that ACE_OS is a namespace, not a class

Sat Jan  1 13:26:12 UTC 2005  Johnny Willemsen  <jwillemsen@remedy.nl>

        * ACE-INSTALL.html:
          Updated VxWorks instructions and some other small improvements

        * ace/Activation_Queue.h:
        * ace/Active_Map_Manager.h:
        * ace/Arg_Shifter.h:
        * ace/Lib_Find.h:
        * ace/Local_Memory_Pool.h:
        * ace/Pipe.h:
        * ace/Timer_List_T.h:
        * ace/Timer_Hash_T.h:
          Doxygen improvements

        * ace/Async_Acceptor.cpp:
        * ace/WIN32_Asynch_IO.cpp:
          Just check for msvc, not for _MSC_VER > 1020, that version is really
          ancient and we always have a bigger version number

        * ace/config-all.h:
          When ACE_HAS_VERBOSE_NOTSUP is defined, we use ACE_OS::fprintf, so
          always include OS_NS_stdio.h, it doesn't work to include cstdio. This
          fixes compile problems with VxWorks when ACE_HAS_VERBOSE_NOTSUP is
          defined. Also there is no need to include vxWorks.h for VxWorks.

        * ace/Configuration.cpp (create_index):
          Improved error message to make clear something went wrong

        * ace/Dirent.cpp:
        * ace/OS_Memory.cpp:
        * ace/OS_TLI.cpp:
          Removed construction to silence the HP aCC compiler, empty cpp
          files are used a lot in the ACE_OS files and there it is not needed,
          so zap it here.

        * ace/MMAP_Memory_Pool.h:
          Define private copy constructor and assignment operator for
          ACE_MMAP_Memory_Pool_Options. This class contains pointers
          it is not allowed to copy them, so prevent that.

        * ace/Naming_Context.cpp:
          Replaced ACE cast macro with the C++ version. Just don't use argv[0]
          without checking argc in the parse_args method. Under VxWorks it can
          happen that argc and argv are 0, so reading argv[0] returns random
          memory. When argc = 0, then we just don't have a program name

        * ace/OS_Errno.h:
          Prevent copying of ACE_Errno_Guard

        * ace/UUID.cpp:
          Added missing \n in several ACE_DEBUG statements

        * ace/OS_Log_Msg_Attributes.h:
          Prevent copying of ACE_OS_Log_Msg_Attributes

        * ace/config-lite.h:
          VxWorks deliver also a pthread implementation. This can be used by
          defined ACE_HAS_PTHREADS, but when this is set, we don't need some
          special VxWorks types, so changed some checks for VXWORKS to
          VXWORKS && !defined ACE_HAS_PTHREADS

        * ace/OS_NS_stropts.inl:
        * ace/OS_NS_arpa_inet.inl:
        * ace/Service_Object.cpp:
        * ace/String_Base.cpp:
        * ace/OS_NS_stdlib.inl:
          Replaced c-style cast with C++ cast

        * ace/OS_NS_stdio.cpp:
        * ace/OS_NS_time.cpp:
        * ace/Pipe.cpp:
        * tests/Max_Default_Port_Test.cpp:
        * tests/Time_Value_Test.cpp:
          Replaced ACE cast macros with C++ casts

        * ace/Default_Constants.h:
          Added ACE_LIB_TEXT to ACE_DEFAULT_SERVER_PORT_STR to fix compile
          errors in Unicode builds

        * ace/OS_Memory.h:
          Removed not needed check for borland

        * ace/OS_NS_sys_wait.inl:
          Added ACE_LACKS_WAIT and ACE_LACKS_WAITPID, these defines are set
          in the needed config files to determine if the OS has wait and
          waitpid

        * ace/config-chorus.h:
          Added ACE_LACKS_WAIT

        * ace/config-win32-common.h:
          Added ACE_LACKS_WAIT, ACE_LACKS_SOCKETPAIR and ACE_LACKS_DUP2

        * ace/OS_NS_signal.h:
          Removed commented out typedefs

        * ace/OS_NS_sys_socket.inl:
          Replaced C style cast with C++ const_cast and in socketpair
          just only check for ACE_LACKS_SOCKETPAIR, this define is now
          also set for win32

        * ace/OS_NS_unistd.inl (dup2):
          Check for ACE_LACKS_DUP2 instead for specific OS defines

        * ace/Time_Value.h:
          Prevent copying of ACE_Countdown_Time

        * ace/config-g++-common.h:
          Cleaned up this file, removed code for pre 2.8 versions of gcc, these
          are already dropped with the x.4 release. Makes maintenance a lot
          easier.

        * ace/config-vxworks5.x.h:
          Added several defines, detect pentium or not on the CPU define that
          is set. Make several defines dependent on ACE_HAS_PTHREADS, when this
          is set, we want to use the pthread library of VxWorks.

        * ace/config-psosim-g++.h:
        * ace/config-psos-tm.h:
        * ace/config-psos-diab.h:
        * ace/config-psos-diab-ppc.h:
        * ace/config-psos-diab-mips.h:
          Added ACE_LACKS_WAIT, ACE_LACKS_WAITPID and ACE_LACKS_DUP2

        * ace/config-integritySCA.h:
          Added ACE_LACKS_WAIT, ACE_LACKS_WAITPID

        * ace/OS_NS_time.inl:
          VxWorks defines asctime_r and ctime_r but with a 3rd size_t*,
          this is not according to the spec, so a new define
          ACE_HAS_SIZET_PTR_ASCTIME_R_AND_CTIME_R is added on which we
          can determine to use this variant of asctime_r and ctime_r.
          A support request to WindRiver has been make to get these
          methods spec compliant in newer versions of VxWorks.

        * ace/Object_Manager_Base.{h,cpp}:
          Replaced ACE cast macros with C++ casts, use unsigned int instaead
          of u_int because u_int is not defined with VxWorks when using
          the pthread support

        * ace/README:
          Documented the new defines

        * ace/OS_NS_string.{h,cpp,inl}:
        * ace/config-doxygen.h:
        * configure.ac:
          Removed ACE_LACKS_STRCHR and ACE_LACKS_STRCSPN and the related
          code, these defines aren't set in any config file so the emulation
          is not needed anymore

        * ace/Log_Msg.cpp:
          When a buffer overflow has occured, just don't log anything anymore,
          when for example a backend is used, the pointer to that backend
          can also be corrupted. So, just only log when there is no overflow.

        * ace/SOCK_Dgram_Bcast.cpp:
          Replaced ACE cast with C++ cast, also handle VxWorks specially and
          when setsockopt fails, use ACE_ERROR_RETURN to return -1 and log an
          error message so that the log explains what goes wrong.

        * ace/os_include/os_time.h:
          VxWorks doesn't have 2 arg ctime_r and asctime_r

        * ace/os_include/os_signal.h:
          Don't include sigLib.h with VxWorks when ACE_HAS_PTHREADS is defined

        * ace/Malloc_T.h:
          Moved ACE_Malloc_Lock_Adapter_T to the end of this file to prevent
          compile problems with VxWorks.

        * ace/OS_NS_sys_shm.cpp:
          Removed some code that was already marked as not used.

        * ace/OS_NS_Thread.{h,cpp,inl}:
          Removed old code that was guarded using ifdef 0. Don't use
          ACE_OS_TRACE in thr_getspecific_native because this method is
          used in the trace functionality and are tracing again in this
          macro, so we get a stack overflow. Changed several checks for
          VxWorks to include ACE_HAS_PTHREADS. Made several methods
          smaller by combining includes and reducing duplicated code.
          Replaced ACE casts with C++ casts.

        * ace/OS_NS_stdlib.cpp:
          Just include os_limits.h instead of limits directly

        * ace/os_include/os_limits.h:
          Dependent on ACE_USES_STD_NAMESPACE_FOR_STDCPP_LIB include
          limits or limits.h, just as we do for new

        * ace/Unbounded_Set.{h,cpp}:
          Doxygen update and return a Unbounded_Set& from the operator=
          to allow chaining.

        * examples/Misc/test_trace.cpp:
          Replaced variable with name _ by trace, this fixes compile warning
          with VxWorks.

        * tests/UPIPE_SAP_Test.cpp:
        * tests/Conn_Test.cpp:
          Removed explicit template instantiations for Borland C++, we don't use
          that.

        * tests/Cache_Map_Manager_Test.cpp:
        * tests/Cached_Accept_Conn_Test.cpp:
        * tests/Cached_Conn_Test.cpp:
        * tests/CDR_Array_Test.cpp:
        * tests/CDR_File_Test.cpp:
        * tests/CDR_Test.cpp:
        * tests/Hash_Map_Bucket_Iterator_Test.cpp:
        * tests/Logging_Strategy_Test.cpp:
        * tests/MEM_Stream_Test.cpp:
        * tests/Multicast_Test.cpp:
        * tests/Multicast_Test_IPV6.cpp:
        * tests/SOCK_Dgram_Bcast_Test.cpp:
          Replaced argv[0] with fixed program name, because argc could be zero
          with VxWorks and then we get a crash when using argv[0].

        * tests/Config_Test.cpp:
          Logged an error if tests.reg can't be opened.

        * tests/FIFO_Test.cpp:
          Only run this test when ACE_LACKS_MKFIFO is not defined, other
          platforms then win32 also can lack this. Replaced ACE casts with
          C++ casts.

        * tests/Log_Msg_Test.cpp:
          Don't try to overflow the log buffer with VxWorks, this will result
          in a crash and then the rest of this test is not done.

        * tests/MT_Reactor_Timer_Test.cpp:
          Rewrote this test a little to use ACE_ERROR instead of ACE_ASSERT,
          under VxWorks the log files are only written at the moment the
          tests ends normally and with the ACE_ASSERT we just didn't get
          a log file, with the ACE_ERROR we get one and can look better why
          it fails under VxWorks.

        * tests/Signal_Test.cpp:
          Replace ACE casts with C++ casts and changed the return types of the
          thread functions to fix compile errors with VxWorks.

        * tests/run_test.lst:
          Enabled some more tests for VxWorks.

        * tests/run_test.pl:
          Added .out to the program names generated in the VxWorks script

Sat Jan  1 00:00:00 2005  Douglas C. Schmidt  <schmidt@cs.wustl.edu>

        * Happy New Year!!!

Fri Dec 31 15:23:58 2004  J.T. Conklin  <jtc@acorntoolworks.com>

        * ace/Service_Config.cpp:
        * ace/Service_Config.h:

          Added support for -p command line argument, which specifies
          a filename to write the process id.

Thu Dec 30 13:21:37 2004  Chris Cleeland  <cleeland@ociweb.com>

        * ACE version 5.4.3 released.

Local Variables:
add-log-time-format: current-time-string
End:
