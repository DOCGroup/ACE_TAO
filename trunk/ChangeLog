Wed Jan 16 09:01:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/Containers_T.{h,cpp}:
          Added ACE_Fixed_Set_Const_Iterator to make it possible to
          iterate through a const ACE_Fixed_Set instance

Wed Jan 16 07:53:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * include/makeinclude/ace_flags.bor:
          Added new flags for the new TAO ETCL orbsvcs library

Tue Jan 15 17:24:53 2002  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_Context.cpp (report_error()): Set ACE_OS::last_error()
          to ERR_get_error() so the caller can get the error code later.

        * ace/SSL/SSL_SOCK_Connector.cpp: If the SSL handshake phase of a
          connection attempt fails, close the underlying socket.

Tue Jan 15 15:35:41 2002  Steve Huston  <shuston@riverace.com>

        * ace/SOCK_Connector.(h cpp):
        * ace/LSOCK_Connector.(h i cpp):
        * ace/MEM_Connector.(h cpp):
        * ace/SSL/SSL_SOCK_Connector.(h cpp):
          Improved the Doxygenation and removed the protocol_family and
          protocol arguments from the ctors and connect() methods. The
          protocol family is always taken from the ACE_Addr remote_sap
          argument since it can now be either PF_INET or PF_INET6 (for
          SOCK_Connector objects) and should be PF_UNIX for LSOCKs.
          It is pointless to allow the user to request something that
          is impossible to do correctly.

Tue Jan 15 10:52:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * include/makeinclude/ace_flags.bor:
          Added new flags for the new TAO PortableGroup library

Mon Jan 14 14:40:25 2002  Carlos O'Ryan  <coryan@uci.edu>

	* bin/g++dep:
	  Fixed small problems in the dependency generation:
	  - The script did not properly handle files with '+' in their
	    names.
	  - In some cases the script generated escaped blanks, i.e. lines
	    containing a blank preceded by a backslash.  Such blanks are
	    interpreted as part of a dependency name and break havoc with
	    the builds.

Mon Jan 14 16:49:37 2002  Steve Huston  <shuston@riverace.com>

        * ace/OS.h (ACE_STATIC_SVC_DEFINE): Corrected the documentation to
          say the service-implementing class must be derived from
          ACE_Service_Object, not ACE_Service_Config.

Mon Jan 14 07:40:16 2002  Douglas C. Schmidt  <schmidt@macarena.cs.wustl.edu>

	* ace/OS.i (mmap): There was a typo that prevented the ACE Memory Map
	  stuff from working properly on Win9x.  Thanks to Edan Ayal
 	  <edanayal@yahoo.com> for reporting this.

Sun Jan 13 18:59:37 2002  Douglas C. Schmidt  <schmidt@macarena.cs.wustl.edu>

	* ace/Memory_Pool.{h,cpp}: Added a new option that makes is possible
	  to control whether or not a fixed address will be used when
 	  remapping a memory-mapped file.  Thanks to Jonathan Reis
 	  <reis@stentor.com> for this enhancement.

Mon Jan 14 11:02:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * include/makeinclude/ace_flags.bor:
          Added flags for new TAO FT_ORB library

Sun Jan 13 08:20:05 2002  Craig Rodrigues  <crodrigu@bbn.com>

	* ace/config-all.h: Make sure that ACE_bad_alloc
	  is defined as std::bad_alloc if
	  ACE_USES_STD_NAMESPACE_FOR_STDCPP_LIB macro is set.
	  Fixes gcc 3.0.3 compilation problem.

Fri Jan 11 22:54:22 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* ace/config-lynxos.h: Added #define ACE_HAS_USING_KEYWORD to teh
	  file.  The compiler supports namespaces. According to the new
	  rules at the doc_group, we dont use any compilers that dont
	  support namespaces. The above macro is itself a waste. But we
	  cannot remove it overnight as it has far reaching
	  consequences. Working around that for the timebeing.

Thu Jan 10 18:35:41 2002  Steve Huston  <shuston@riverace.com>

        * ace/Profile_Timer.h: Clarified that elapsed_time() calculates time
          from start() to stop(). Improved Doxygenation.

Thu Jan 10 16:53:41 2002  Nanbor Wang  <nanbor@cs.wustl.edu>

	* examples/Service_Configurator/IPC-tests/server/server.dsp: The
	  Release version of the library needs to link in ADVAPI32.LIB as
	  GetUserName is used in ACE's inline code.

Wed Jan  9 22:07:50 2002  Douglas C. Schmidt  <schmidt@macarena.cs.wustl.edu>

	* ace/Logging_Strategy.cpp (fini): Make sure to cancel the
	  timer if interval_ and max_size_ are > 0.  Thanks to Yaniv Ben
 	  Ari <yanivb@bis.co.il> for reporting this.

Wed Jan  9 11:38:58 2002  Ossama Othman  <ossama@uci.edu>

	* tests/SSL/Makefile (LDLIBS):

	  Added missing SSL and crypto libraries.  Fixed link errors.
	  Thanks to Marvin Wolfthal <maw@weichi.com> for reporting the
	  error and suggesting a fix.

Wed Jan  9 12:24:39 2002  Steve Huston  <shuston@riverace.com>

        * ace/Process.cpp (spawn): Don't attempt ACE_OS::setpgid if
          ACE_LACKS_SETPGID is defined. Thanks to Victor Terber
          <vterber@csksoftware.de> for reporting this.

Wed Jan 09 11:19:07 2002  Nanbor Wang  <nanbor@cs.wustl.edu>

	* ace/OS.h: Updated the comment for ACE_CE_Bridge to indicate that
	  it's obsolete and will be removed in the future.

Wed Jan 9 00:48:48 2002  Don Hinton <dhinton@gmx.net>

        * ace/Get_Opt.cpp:  Make sure to cast away constness
	  before deleting an ACE_TCHAR array.  Thanks to
	  Bala for reporting this.

Tue Jan  8 17:29:33 2002  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_SOCK_Connector.cpp: Don't try to dereference a 0
          timeout pointer.  Gack.  Thanks to Ossama for pointing this out.

Tue Jan  8 15:51:06 2002  Don Hinton <dhinton@gmx.net>

        * ace/Get_Opt.cpp
        * ace/Service_Config.cpp:

          Moved the template instantiations from Service_Config.cpp to
          Get_Opt.cpp where they belong.

        * ace/Get_Opt.{h.cpp}: Replaced ACE_TString with ACE_TCHAR for
          type of member variable ACE_Get_Opt_Long_Option since it
          wasn't really needed and took up space.

Tue Jan  8 10:43:48 2002  Ossama Othman  <ossama@uci.edu>

	* ace/config-sunos5.5.h (ACE_LACKS_INET_ATON):

	  Solaris does indeed implement the inet_aton() function, but it
	  is found in `libresolv.*'.  It doesn't seem worth it to link
	  another library just for that function.  Just use the emulation
	  in ACE that has been used for years.

Tue Jan  8 11:31:22 2002  Steve Huston  <shuston@riverace.com>

        * tests/Makefile: When doing realclean, use the DLL_Test and
          Service_Config_DLL Makefiles to clean their files up.

Tue Jan  8 08:36:33 2002  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
        * ace/SSL/SSL_SOCK_Connector.cpp (ssl_connect): Corrected order
          of operations checking EWOULDBLOCK, and fixed compile errors.
          Thanks to Vlado Chovanec <Vladimir.CHOVANEC@asset.sk> for this fix.

Mon Jan  7 19:55:39 2002  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
        * ace/SSL/SSL_SOCK_Connector.cpp (ssl_connect): Added extra check
          for SSL_accept/connect status failure to avoid looping on a bad
          socket if the socket closes during handshake. Thanks to Vlado
          Chovanec <Vladimir.CHOVANEC@asset.sk> for this fix.

          Also added timeout countdown support for SSL_SOCK_Connector, same
          as in: Sun Jan  6 09:37:02 2002  Ossama Othman  <ossama@uci.edu>

Mon Jan  7 15:55:26 2002  Ossama Othman  <ossama@uci.edu>

	* ace/INET_Addr.cpp (set):

	  Pass a pointer to a "struct in_addr" to inet_aton(), i.e. the
	  proper type, instead of a forcibly casted ACE_UINT32.  Also
	  updated existing code to use the in_addr::s_addr member instead
	  of the previous ACE_UINT32 variable.

Mon Jan  7 15:13:09 2002  Mayur Deshpande  <mayur@ics.uci.edu>

	* performance-tests/Misc/context_switch_time.cpp (main):
	  Since the Yield_test does seem to work on VxWorks now (see
	  ChangeLog below), the 'ifdefs' for bypassing VxWorks for the
	  Yield-Test have now been removed.

Mon Jan  7 15:08:25 2002  Mayur Deshpande  <mayur@ics.uci.edu>

	* ace/OS.i (thr_yield):
	  Changed ::taskDelay (1) to ::taskDelay (0) for VxWorks in
	  thr_yield ().  The change with (0), now does seem to perform
	  the yield correctly as reflected in the Yield-Test of
	  context_switch_time.  Thanks to Charlie Grames
	  <charlie.grames@windriver.com> for this tip.

Mon Jan  7 15:16:10 2002  Ossama Othman  <ossama@uci.edu>

	* ace/OS.h (INADDR_NONE):

	  If the platform does not define this constant, then define it.

	* ace/OS.cpp (inet_aton):

	  For some reason we were emulating inet_aton() on all platforms
	  using the now deprecated inet_addr() function.  Use the native
	  inet_aton() function unless ACE_LACKS_INET_ATON is defined.

	  Instead of performing a memcpy() of the IPv4 32-bit address into
	  the in_addr data structure, simply assign it to the s_addr field
	  of that data structure.  It's not clear why we didn't do this in
	  the first place.

	  (inet_ntoa):

	  Fixed PSoS emulation of this method.  The result is supposed to
	  be stored in a statically allocated string, not a dynamically
	  allocated one.  Fixes a memory leak.  Note that this change
	  makes the implementation non-reentrant.  However, inet_ntoa()
	  was not designed to be reentrant to begin with.

	* ace/OS.i (inet_addr):

	  On error, inet_addr() is supposed to return INADDR_NONE.

	  The return value should be a 32 bit unsigned integer, not a
	  signed one.

	* ace/config-win32-common.h:

	  MS Windows does not support the inet_aton() function.  Define
	  ACE_LACKS_INET_ATON.

Mon Jan  7 12:20:26 2002  Ossama Othman  <ossama@uci.edu>

	* bin/auto_run_tests.lst:

	  Added the MT_SSLIOP test to the regression test suite list.

Sun Jan  6 21:19:10 2002  John Aughey  <jha@cs.wustl.edu>

        * tests/run_test.lst: Uncommented out Conn_Test from daily builds.

Sun Jan  6 21:09:10 2002  John Aughey  <jha@cs.wustl.edu>

	* ace/INET_Addr.cpp:
	* ace/INET_Addr.h:

	  Reverted to January 1 version until I have time to put the
	  set_host_name() method in correctly.

Sun Jan  6 20:01:10 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* tests/run_test.lst: Commented out Conn_Test from the daily
	  builds. This test seems to hang blocking build progress. Have
	  sent a mail to John Aughey on this.

Sun Jan  6 09:37:02 2002  Ossama Othman  <ossama@uci.edu>

	* ace/SSL/SSL_SOCK_Acceptor.cpp (accept, ssl_accept):

	  Take into account the time to complete the basic TCP handshake
	  and the SSL handshake.  Specifically, ACE_Countdown_Time is used
	  to reduce the timeout value after each IO operation
	  (e.g. accept(), SSL_accept()) used during SSL passive connection
	  establishment.  [Bug 1110]

	  Commented out debugging statements.

Sat Jan  5 20:57:36 2002  Venkita Subramonian  <venkita@cs.wustl.edu>

	* ace/Future.cpp (get): Added another ACE_const_cast in addition
	  to Doug's changes to fix compile errors. See below.

Sat Jan  5 14:57:36 2002  Craig Rodrigues  <crodrigu@bbn.com>

	* ace/OS_QoS.h: Fix comments, put in doxygen format.

Sat Jan  5 08:59:41 2002  Douglas C. Schmidt  <schmidt@macarena.cs.wustl.edu>

	* ace/Future.cpp (get): Added an ACE_const_cast() to silence certain
	  C++ compilers.  Thanks to Venkita for reporting this.

Fri Jan  5 15:17:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/OS.{h,cpp}:
          Added ACE_TSS_Emulation::release_key() method to release a
          thread_key within the TSS_Emulation when a thread is stopped.
          Added ACE_TSS_Emulation::tss_keys_used_ member to administrate which
          thread_keys are used and which not.
          Added ACE_TSS_Keys::is_set() method to test whether a specific
          thread_key is marked as used.
          Changed ACE_TSS_Emulation::next_key() method to return a thread_key
          that is not used yet, this key is then marked as used at the same
          time.
          Changed ACE_OS::thr_keyfree() method to release the key in the
          TSS_Emulation when ACE_HAS_TSS_EMULATION is defined.

          These changes fix the bugzilla bugs 223 and 657. The ACE_TSS_Emulation
          now recycles keys that are released earlier.

Fri Jan  4 19:59:03 2002  John Aughey  <jha@cs.wustl.edu>

        * ace/INET_Addr.cpp: Fixed the new set_host_name method

Fri Jan  4 18:59:27 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* ChangeLogs/ChangeLog-01b: Added a new file. Trimmed this file
	  to have entries only in 2002.

Fri Jan  4 15:50:42 2002  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
        * ace/SSL/SSL_SOCK_Connector.cpp (ssl_connect):
          On ACE::select-reported timeout or failure, set status to return
          a -1 to caller, not 0. Thanks to Vladimir Chovanec
          <Vladimir.CHOVANEC@asset.sk> for reporting this and sending a fix.

Fri Jan  4 08:31:49 2002  Douglas C. Schmidt  <schmidt@tango.doc.wustl.edu>

	* tests/Thread_Manager_Test.cpp (test_task_record_keeping): Fixed
	  a typo in an expression on line 226.  Thanks to Harvinder
 	  Sawhney <harvindersawhney@yahoo.com> for reporting this.

Fri Jan  4 05:51:22 2002  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

	* ace/Future.{h,cpp}: Made the get() and ready() methods const.
	  Thanks to Ran Kohavi <ran@kashya.con> for reporting this.

Fri Jan  4 15:06:31 2002  Steve Huston  <shuston@riverace.com>

        * ace/String_Base.h (operator=): Add <CHAR> to ACE_String_Base
          return type. Fixes compile error on IBM C/C++.

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
          If SSL_get_error() returns SSL_ERROR_SYSCALL and it's EWOULDBLOCK,
          don't blindly set both read and write handles for select. Check
          if SSL is indicating SSL_want_write() and set the proper handle.
          Also, don't ACE_ASSERT SSL_pending before return... if there's
          an SSL handshake screw-up (like someone trying to break in)
          just report the failure, don't abort/crash.

Wed Jan 02 13:27:09 2002  Nanbor Wang  <nanbor@cs.wustl.edu>

        * ace/INET_Addr.h:
	* ace/INET_Addr.cpp: Removed tabs and trailing whitespaces.

Wed Jan  2 08:19:18 2002  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

	* ace/FILE_Connector.h,
	* ace/OS.h (ACE_OS): Clarified the weak semantics of O_APPEND
	  on Win32.  Thanks to Eugene Alterman <eugalt@myrealbox.com> for
 	  reporting this.

Wed Jan  2 12:43:00 2002  John Aughey  <jha@aughey.com>

	* ace/INET_Addr.h
	* ace/INET_Addr.cpp : Added set_host_name method and moved
	  relevant code into this method.  Changed signature of
	  set_address method to take a void pointer rather than a
	  char *.

Wed Jan  2 12:30:01 2002  Chris Gill  <cdgill@cs.wustl.edu>

	* ace/RB_Tree.i
	* tests/RB_Tree_Test.cpp : added check for valid current node to
          forward_i and reverse_i methods of iterator base class.  Thanks to
          Craig L. Ching <cching@mqsoftware.com> for reporting this!

Wed Jan  2 08:19:18 2002  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

	* tests/README: Clarify that run_test.pl should be used rather
	  the run_tests.sh.

	* tests/run_tests.bat: Clarify that run_test.pl should be used
	  on Win9x.  Thanks to Edward A Thompson <ed4becky_2000@yahoo.com>
 	  for prompting this.

Wed Jan  2 07:37:01 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* ace/Handle_Set.h:
	* ace/Handle_Set.cpp: Added a method reset_state () to the
	  ACE_Handle_Set_Iterator class.

Tue Jan  2 11:39:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/OS.i:
          Added missing ACE_UNUSED_ARG in ACE_OS::event_timedwait

Tue Jan  1 15:36:39 2002  Steve Huston  <shuston@riverace.com>

        * include/makeinclude/platform_sunos5_sunc++.GNU: Added support
          for the buildbits=64 make option.

Tue Jan  1 20:05:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/Name_Request_Reply.{h,cpp}:
          Changed type of 3 constructor arguments from size_t to ACE_UINT32
          because the members in which these arguments are stored are also
          of type ACE_UINT32

        * ace/OS.i
          In ACE_OS::umask method, changed the type in the ACE_OSCALL_RETURN
          macro from int to mode_t because that is the return type of the
          method

Tue Jan  1 08:47:25 2002  Douglas C. Schmidt  <schmidt@siesta.cs.wustl.edu>

	* ace/Thread.h: Clarify how the ACE_Thread_Adapter is deleted
	  when spawn() is called.  Thanks to Preston Elder
 	  <prez@srealm.net.au> for reporting this confusion.

Tue Jan  1 14:09:26 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * examples/Map_Manager/test_hash_map_manager.cpp:
          Made this example compiling when ACE_USES_WCHAR is set

        * Makefile.bor:
          Added examples directory because all examples for which there are
          BCB makefiles now build when ACE_USES_WCHAR is set

Tue Jan  1 00:02:12 2002  Nanbor Wang <nanbor@cs.wustl.edu>

        * ace/ace_dll.vcp: Added String_Base_Const.*.
