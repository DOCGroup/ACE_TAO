Mon Jan  7 19:55:39 2001  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
        * ace/SSL/SSL_SOCK_Connector.cpp (ssl_connect): Added extra check
          for SSL_accept/connect status failure to avoid looping on a bad
          socket if the socket closes during handshake. Thanks for Vlado
          Chovanec <Vladimir.CHOVANEC@asset.sk> for this fix.

          Also added timeout countdown support for SSL_SOCK_Connector, same
          as in: Sun Jan  6 09:37:02 2002  Ossama Othman  <ossama@uci.edu>

Mon Jan  7 15:55:26 2002  Ossama Othman  <ossama@uci.edu>

	* ace/INET_Addr.cpp (set):

	  Pass a pointer to a "struct in_addr" to inet_aton(), i.e. the
	  proper type, instead of a forcibly casted ACE_UINT32.  Also
	  updated existing code to use the in_addr::s_addr member instead
	  of the previous ACE_UINT32 variable.

Mon Jan  7 15:13:09 2002  Mayur Deshpande  <mayur@ics.uci.edu>

	* performance-tests/Misc/context_switch_time.cpp (main):
	  Since the Yield_test does seem to work on VxWorks now (see 
	  ChangeLog below), the 'ifdefs' for bypassing VxWorks for the
	  Yield-Test have now been removed.

Mon Jan  7 15:08:25 2002  Mayur Deshpande  <mayur@ics.uci.edu>

	* ace/OS.i (thr_yield):
	  Changed ::taskDelay (1) to ::taskDelay (0) for VxWorks in 
	  thr_yield ().  The change with (0), now does seem to perform
	  the yield correctly as reflected in the Yield-Test of 
	  context_switch_time.  Thanks to Charlie Grames
	  <charlie.grames@windriver.com> for this tip.

Mon Jan  7 15:16:10 2002  Ossama Othman  <ossama@uci.edu>

	* ace/OS.h (INADDR_NONE):

	  If the platform does not define this constant, then define it.

	* ace/OS.cpp (inet_aton):

	  For some reason we were emulating inet_aton() on all platforms
	  using the now deprecated inet_addr() function.  Use the native
	  inet_aton() function unless ACE_LACKS_INET_ATON is defined.

	  Instead of performing a memcpy() of the IPv4 32-bit address into
	  the in_addr data structure, simply assign it to the s_addr field
	  of that data structure.  It's not clear why we didn't do this in
	  the first place.

	  (inet_ntoa):

	  Fixed PSoS emulation of this method.  The result is supposed to
	  be stored in a statically allocated string, not a dynamically
	  allocated one.  Fixes a memory leak.  Note that this change
	  makes the implementation non-reentrant.  However, inet_ntoa()
	  was not designed to be reentrant to begin with.

	* ace/OS.i (inet_addr):

	  On error, inet_addr() is supposed to return INADDR_NONE.

	  The return value should be a 32 bit unsigned integer, not a
	  signed one.

	* ace/config-win32-common.h:

	  MS Windows does not support the inet_aton() function.  Define
	  ACE_LACKS_INET_ATON.

Mon Jan  7 12:20:26 2002  Ossama Othman  <ossama@uci.edu>

	* bin/auto_run_tests.lst:

	  Added the MT_SSLIOP test to the regression test suite list.

Sun Jan  6 21:19:10 2002  John Aughey  <jha@cs.wustl.edu>

        * tests/run_test.lst: Uncommented out Conn_Test from daily builds.

Sun Jan  6 21:09:10 2002  John Aughey  <jha@cs.wustl.edu>

	* ace/INET_Addr.cpp:
	* ace/INET_Addr.h:

	  Reverted to January 1 version until I have time to put the
	  set_host_name() method in correctly.

Sun Jan  6 20:01:10 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* tests/run_test.lst: Commented out Conn_Test from the daily
	  builds. This test seems to hang blocking build progress. Have
	  sent a mail to John Aughey on this.

Sun Jan  6 09:37:02 2002  Ossama Othman  <ossama@uci.edu>

	* ace/SSL/SSL_SOCK_Acceptor.cpp (accept, ssl_accept):

	  Take into account the time to complete the basic TCP handshake
	  and the SSL handshake.  Specifically, ACE_Countdown_Time is used
	  to reduce the timeout value after each IO operation
	  (e.g. accept(), SSL_accept()) used during SSL passive connection
	  establishment.  [Bug 1110]

	  Commented out debugging statements.

Sat Jan  5 20:57:36 2002  Venkita Subramonian  <venkita@cs.wustl.edu>

	* ace/Future.cpp (get): Added another ACE_const_cast in addition
	  to Doug's changes to fix compile errors. See below.

Sat Jan  5 14:57:36 2002  Craig Rodrigues  <crodrigu@bbn.com>

	* ace/OS_QoS.h: Fix comments, put in doxygen format.

Sat Jan  5 08:59:41 2002  Douglas C. Schmidt  <schmidt@macarena.cs.wustl.edu>

	* ace/Future.cpp (get): Added an ACE_const_cast() to silence certain
	  C++ compilers.  Thanks to Venkita for reporting this.

Fri Jan  5 15:17:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/OS.{h,cpp}:
          Added ACE_TSS_Emulation::release_key() method to release a
          thread_key within the TSS_Emulation when a thread is stopped.
          Added ACE_TSS_Emulation::tss_keys_used_ member to administrate which
          thread_keys are used and which not.
          Added ACE_TSS_Keys::is_set() method to test whether a specific
          thread_key is marked as used.
          Changed ACE_TSS_Emulation::next_key() method to return a thread_key
          that is not used yet, this key is then marked as used at the same
          time.
          Changed ACE_OS::thr_keyfree() method to release the key in the
          TSS_Emulation when ACE_HAS_TSS_EMULATION is defined.

          These changes fix the bugzilla bugs 223 and 657. The ACE_TSS_Emulation
          now recycles keys that are released earlier.

Fri Jan  4 19:59:03 2002  John Aughey  <jha@cs.wustl.edu>

        * ace/INET_Addr.cpp: Fixed the new set_host_name method

Fri Jan  4 18:59:27 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* ChangeLogs/ChangeLog-01b: Added a new file. Trimmed this file
	  to have entries only in 2002.

Fri Jan  4 15:50:42 2002  Steve Huston  <shuston@riverace.com>

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
        * ace/SSL/SSL_SOCK_Connector.cpp (ssl_connect):
          On ACE::select-reported timeout or failure, set status to return
          a -1 to caller, not 0. Thanks to Vladimir Chovanec
          <Vladimir.CHOVANEC@asset.sk> for reporting this and sending a fix.

Fri Jan  4 08:31:49 2002  Douglas C. Schmidt  <schmidt@tango.doc.wustl.edu>

	* tests/Thread_Manager_Test.cpp (test_task_record_keeping): Fixed
	  a typo in an expression on line 226.  Thanks to Harvinder
 	  Sawhney <harvindersawhney@yahoo.com> for reporting this.

Fri Jan  4 05:51:22 2002  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

	* ace/Future.{h,cpp}: Made the get() and ready() methods const.
	  Thanks to Ran Kohavi <ran@kashya.con> for reporting this.

Fri Jan  4 15:06:31 2002  Steve Huston  <shuston@riverace.com>

        * ace/String_Base.h (operator=): Add <CHAR> to ACE_String_Base
          return type. Fixes compile error on IBM C/C++.

        * ace/SSL/SSL_SOCK_Acceptor.cpp (ssl_accept):
          If SSL_get_error() returns SSL_ERROR_SYSCALL and it's EWOULDBLOCK,
          don't blindly set both read and write handles for select. Check
          if SSL is indicating SSL_want_write() and set the proper handle.
          Also, don't ACE_ASSERT SSL_pending before return... if there's
          an SSL handshake screw-up (like someone trying to break in)
          just report the failure, don't abort/crash.

Wed Jan 02 13:27:09 2002  Nanbor Wang  <nanbor@cs.wustl.edu>

        * ace/INET_Addr.h:
	* ace/INET_Addr.cpp: Removed tabs and trailing whitespaces.

Wed Jan  2 08:19:18 2002  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

	* ace/FILE_Connector.h,
	* ace/OS.h (ACE_OS): Clarified the weak semantics of O_APPEND
	  on Win32.  Thanks to Eugene Alterman <eugalt@myrealbox.com> for
 	  reporting this.

Wed Jan  2 12:43:00 2002  John Aughey  <jha@aughey.com>

	* ace/INET_Addr.h
	* ace/INET_Addr.cpp : Added set_host_name method and moved
	  relevant code into this method.  Changed signature of
	  set_address method to take a void pointer rather than a
	  char *.

Wed Jan  2 12:30:01 2002  Chris Gill  <cdgill@cs.wustl.edu>

	* ace/RB_Tree.i
	* tests/RB_Tree_Test.cpp : added check for valid current node to
          forward_i and reverse_i methods of iterator base class.  Thanks to
          Craig L. Ching <cching@mqsoftware.com> for reporting this!

Wed Jan  2 08:19:18 2002  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

	* tests/README: Clarify that run_test.pl should be used rather
	  the run_tests.sh.

	* tests/run_tests.bat: Clarify that run_test.pl should be used
	  on Win9x.  Thanks to Edward A Thompson <ed4becky_2000@yahoo.com>
 	  for prompting this.

Wed Jan  2 07:37:01 2002  Balachandran Natarajan  <bala@cs.wustl.edu>

	* ace/Handle_Set.h:
	* ace/Handle_Set.cpp: Added a method reset_state () to the
	  ACE_Handle_Set_Iterator class.

Tue Jan  2 11:39:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/OS.i:
          Added missing ACE_UNUSED_ARG in ACE_OS::event_timedwait

Tue Jan  1 15:36:39 2002  Steve Huston  <shuston@riverace.com>

        * include/makeinclude/platform_sunos5_sunc++.GNU: Added support
          for the buildbits=64 make option.

Tue Jan  1 20:05:12 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * ace/Name_Request_Reply.{h,cpp}:
          Changed type of 3 constructor arguments from size_t to ACE_UINT32
          because the members in which these arguments are stored are also
          of type ACE_UINT32

        * ace/OS.i
          In ACE_OS::umask method, changed the type in the ACE_OSCALL_RETURN
          macro from int to mode_t because that is the return type of the
          method

Tue Jan  1 08:47:25 2002  Douglas C. Schmidt  <schmidt@siesta.cs.wustl.edu>

	* ace/Thread.h: Clarify how the ACE_Thread_Adapter is deleted
	  when spawn() is called.  Thanks to Preston Elder
 	  <prez@srealm.net.au> for reporting this confusion.

Tue Jan  1 14:09:26 2002  Johnny Willemsen <jwillemsen@remedy.nl>

        * examples/Map_Manager/test_hash_map_manager.cpp:
          Made this example compiling when ACE_USES_WCHAR is set

        * Makefile.bor:
          Added examples directory because all examples for which there are
          BCB makefiles now build when ACE_USES_WCHAR is set

Tue Jan  1 00:02:12 2002  Nanbor Wang <nanbor@cs.wustl.edu>

        * ace/ace_dll.vcp: Added String_Base_Const.*.

