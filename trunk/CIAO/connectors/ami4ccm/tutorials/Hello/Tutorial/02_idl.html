<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>AMI4CCM Tutorial Hello - IDL</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGED" CONTENT="20100628;14101200">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<!--//$Id$  -->
	<STYLE TYPE="text/css">
	<!--
		H2.cjk { font-family: "SimSun" }
		CODE.cjk { font-family: "NSimSun", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="nl-NL" DIR="ltr">
<TABLE WIDTH="100%" BORDER=0 CELLPADDING=2 CELLSPACING=2 STYLE="PAGE-BREAK-BEFORE: always">
	<TR>
		<TD>
			<P ALIGN=left><A href="01_general.html">Previous</A></P></TD>
		<TD>
			<P ALIGN=center><IMG border=0 name=graphics1 align=bottom src="images/images.png" width="4%" height="5%" ></P></TD>
		<TD>
			<P ALIGN=right><A href="03_executors.html">Next</A></P></TD></TR></TABLE>
<HR>
<H1 STYLE="MARGIN-LEFT: 0cm">IDL files</H1>
<P>The IDL files are generated by the modelling tools. To 
understand this example better, it'll give an overview of which IDL files are 
generated. </P>
<H2 CLASS="western">Common IDL files</H2>
<P>Below an simplied represenation of the common IDL files. 
Use the links to view the file itself. The following IDL files can be found in 
Hello_asm/ports: </P>
<UL>
	<LI><P STYLE="MARGIN-BOTTOM: 0cm"><A href="../Hello_asm/ports/Hello_Common_defn.idl">Hello_Common_defn.idl</A>
	: <BR>for common includes and IDL defenitions. 
</P></LI></UL>
<P STYLE="MARGIN-BOTTOM: 0cm; MARGIN-LEFT: 2cm"><CODE CLASS="western"><FONT COLOR="#0000ff"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>module</FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT SIZE=2> </FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>Hello</FONT></FONT></FONT></CODE><FONT COLOR="#000000"><FONT SIZE=2>{ </FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>exception 
InternalError { </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>long</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>id</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>; </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>string</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>error_string; }; };</FONT></FONT><CODE CLASS="western"> </CODE></P>
<UL>
	<LI><P STYLE="MARGIN-BOTTOM: 0cm"><A href="../Hello_asm/ports/Hello_MyFoo_obj.idl">Hello_MyFoo_obj.idl</A>
	: <BR>for IDL interfaces. This IDL contains the #pragma's 
  for enabling AMI4CCM , needed by the TAO_IDL compiler: </P>
	<UL>
					
				<LI><P STYLE="MARGIN-BOTTOM: 0cm"><CODE CLASS="western"><FONT COLOR="#0000ff"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>#pragma</FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"> 
    </FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>ciao lem 
    "Hello_MyFoo_objE.idl", 
</FONT></FONT></FONT></CODE></P>
				<LI><P STYLE="MARGIN-BOTTOM: 0cm"><CODE CLASS="western"><FONT COLOR="#0000ff"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>#pragma</FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"> 
    </FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>ciao lem 
    "Hello_MyFoo_objAE.idl"</FONT></FONT></FONT></CODE></P>
				<LI><P STYLE="MARGIN-BOTTOM: 0cm">
				<FONT COLOR="#000000"><FONT SIZE=3>Pragma needed per interface for implying ami.</FONT></FONT><br>
				<FONT COLOR="#0000ff"><FONT SIZE=2>#pragma</FONT></FONT><FONT COLOR="#000000"> </FONT>
				<FONT COLOR="#000000"><FONT SIZE=2>ciao ami4ccm </FONT></FONT>
				<FONT COLOR="#0000ff"><FONT SIZE=2>interface </FONT><FONT COLOR="#000000">"Hello::MyFoo_obj"</FONT></FONT>
				</P>
				<LI><P STYLE="MARGIN-BOTTOM: 0cm"><FONT COLOR="#000000"><FONT SIZE=3>Name implied IDL file, used by IDL compiler to generate ami4ccm 
				   functionality:</FONT><br><FONT SIZE=2><FONT COLOR="#0000ff">#pragma</FONT></FONT>
				   <FONT COLOR="#000000"><FONT SIZE=2>ciao ami4ccm idl "Hello_MyFoo_objA.idl" </FONT></FONT>
				   </P>
				 </LI></UL></LI></UL>
<P STYLE="MARGIN-BOTTOM: 0cm; MARGIN-LEFT: 1cm"><FONT COLOR="#000000"><FONT SIZE=3>Also this 
IDL contains the interface between Sender and Receiver</FONT></FONT></P>
<P STYLE="MARGIN-BOTTOM: 0cm; MARGIN-LEFT: 2cm"><FONT SIZE=2><FONT COLOR="#0000ff">interface</FONT><FONT COLOR="#000000"> 
MyFoo_obj<BR></FONT></FONT><FONT SIZE=2>{<BR></FONT><FONT SIZE=2><FONT COLOR="#0000ff">&nbsp;&nbsp;long</FONT><FONT COLOR="#000000"> foo (</FONT><FONT COLOR="#0000ff">in</FONT><FONT COLOR="#000000"> 
</FONT><FONT COLOR="#0000ff">string</FONT><FONT COLOR="#000000"> in_str, </FONT><FONT COLOR="#0000ff">out</FONT><FONT COLOR="#000000"> 
</FONT><FONT COLOR="#0000ff">string</FONT><FONT COLOR="#000000"> 
answer)<BR></FONT></FONT><FONT SIZE=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>raises 
(InternalError);</FONT></P>
<P STYLE="MARGIN-BOTTOM: 0cm; MARGIN-LEFT: 2cm"><FONT SIZE=2><FONT COLOR="#0000ff">&nbsp;&nbsp;void</FONT><FONT COLOR="#000000"> hello (</FONT><FONT COLOR="#0000ff">out</FONT><FONT COLOR="#000000"> 
</FONT><FONT COLOR="#0000ff">long</FONT><FONT COLOR="#000000"> answer)<BR></FONT></FONT><FONT SIZE=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>raises 
(InternalError);</FONT><BR></P>
<P STYLE="MARGIN-BOTTOM: 0cm; MARGIN-LEFT: 2cm"><FONT SIZE=2><FONT COLOR="#000000"><FONT 
color=#0000ff>&nbsp;&nbsp;</FONT>attribute </FONT><FONT COLOR="#0000ff">short</FONT><FONT COLOR="#000000"> rw_attrib<BR></FONT></FONT><FONT SIZE=2><FONT 
color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>getraises (InternalError)<BR></FONT><FONT SIZE=2><FONT 
color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>setraises 
(InternalError);</FONT></P>
<P STYLE="MARGIN-BOTTOM: 0cm; MARGIN-LEFT: 2cm"><FONT SIZE=2><FONT COLOR="#0000ff">&nbsp;&nbsp;readonly</FONT><FONT COLOR="#000000"> attribute </FONT><FONT COLOR="#0000ff">short</FONT><FONT COLOR="#000000"> 
ro_attrib<BR></FONT></FONT><FONT SIZE=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>raises 
(InternalError);<BR></FONT><FONT COLOR="#000000"><FONT SIZE=2>};</FONT></FONT><CODE CLASS="western"> </CODE></P>
<H2 CLASS="western">Component IDL files:</H2>
<H2 CLASS="western"><FONT SIZE=4 STYLE="FONT-SIZE: 16pt">Sender component IDL file</FONT></H2>
<P>The <A href="../Hello_asm/Sender_comp/src/Hello_Sender_comp.idl">Hello_Sender_comp.idl</A>
file in the Sender_comp/src directory defines the asynchronous and
synchronous connections. <FONT COLOR="#000000"><FONT SIZE=3>For synchronous invocations, the Sender component uses the 
MyFoo_obj interface (which the Receiver provides):<BR><br></FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>component 
Sender<br>{<BR>&nbsp;</FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// For synchronous 
invocation</FONT></FONT>&nbsp;<BR>
<FONT COLOR="#000000"><FONT SIZE=2>&nbsp;&nbsp;uses MyFoo run_my_foo;<BR>}; 
</FONT></FONT></P>
<P><FONT COLOR="#000000"><FONT SIZE=3>For asynchronous invocations, the Sender component uses the 
AMI_MyFoo_obj interface of the AMI component and provides the 
AMI_MyFoo_objReplyHandler interface to the AMI component. This is indicated with the following pragma:<br><br>
</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>#pragma ciao ami4ccm receptacle "Hello::Sender_comp::run_my_foo"
.</FONT></FONT></P>
<H2 CLASS="western"><FONT SIZE=4 STYLE="FONT-SIZE: 16pt">Receiver component IDL file</FONT></H2>
<P>The <A href="../Hello_asm/Receiver_comp/src/Hello_Receiver_comp.idl">Hello_Receiver_comp.idl</A>
file in the Receiver_comp/src directory indicates the port the
receiver provide<FONT COLOR="#000000"><FONT SIZE=2>.</FONT></FONT></P>
<P STYLE="MARGIN-BOTTOM: 0cm"><FONT COLOR="#000000"><FONT SIZE=2>component 
Receiver<BR></FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>{<BR></FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>&nbsp;&nbsp;&nbsp;// 
Provides<BR></FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>&nbsp;&nbsp;provides MyFoo_obj 
do_my_foo;<BR></FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>};</FONT></FONT></P>
<P STYLE="MARGIN-BOTTOM: 0cm"><CODE CLASS="western">
<FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=3>The receiver isn't aware of the calls are a- or 
synchronously.</FONT></FONT></FONT></CODE></P>
<P><BR><BR></P>
<TABLE WIDTH="100%" BORDER=0 CELLPADDING=2 CELLSPACING=2>
	<TR>
		<TD>
			<P ALIGN=left><A href="01_general.html">Previous</A></P></TD>
		<TD>
			<P ALIGN=center><IMG border=0 name=graphics2 align=bottom src="images/images.png" width="4%" height="5%" ></P></TD>
		<TD>
			<P ALIGN=right><A href="03_executors.html">Next</A></P></TD></TR></TABLE>
<P><BR><BR></P>
</BODY>
</HTML>
