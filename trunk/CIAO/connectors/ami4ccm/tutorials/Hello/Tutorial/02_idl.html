<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>AMI4CCM Tutorial Hello - IDL</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGED" CONTENT="20100625;14095400">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<STYLE TYPE="text/css">
	<!--
		H2.cjk { font-family: "SimSun" }
		CODE.cjk { font-family: "NSimSun", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="nl-NL" DIR="LTR">
<TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=2 STYLE="page-break-before: always">
	<TR>
		<TD>
			<P ALIGN=LEFT><A HREF="01_general.html">Previous</A></P>
		</TD>
		<TD>
			<P ALIGN=CENTER><IMG SRC="images/images.png" NAME="graphics1" ALIGN=BOTTOM WIDTH=4% HEIGHT=5% BORDER=0></P>
		</TD>
		<TD>
			<P ALIGN=RIGHT><A HREF="03_executors.html">Next</A></P>
		</TD>
	</TR>
</TABLE>
<HR>
<H1>IDL files</H1>
<P>The IDL files are generated by the modelling tools. To understand
this example better, it'll give an overview of which IDL files are
generated. 
</P>
<H2 CLASS="western">Common IDL files</H2>
<P>Below an simplied represenation of the common IDL files. Use the
links to view the file itself. The following IDL files can be found
in Hello_asm/ports: 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="../Hello_asm/ports/Hello_Common_defn.idl">Hello_Common_defn.idl</A>
	:  <BR>for common includes and IDL defenitions. 
	</P>
</UL>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><CODE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>module</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000">
</FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT SIZE=2>Hello</FONT></FONT></CODE><FONT COLOR="#000000"><FONT SIZE=2>{
exception InternalError { </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>long</FONT></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff"><FONT SIZE=2>id</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>;
</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>string</FONT></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000"><FONT SIZE=2>error_string; }; };</FONT></FONT><CODE CLASS="western">
</CODE>
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="../Hello_asm/ports/Hello_MyFoo_obj.idl">Hello_MyFoo_obj.idl</A>
	: <BR>for IDL interfaces. This IDL contains the #pragma's for
	enabling AMI4CCM , needed by the TAO_IDL compiler: 
	</P>
	<UL>
		<UL>
			<UL>
				<LI><P STYLE="margin-bottom: 0cm"><CODE CLASS="western"><FONT COLOR="#0000ff"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>#pragma</FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif">
				</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>ciao
				lem </FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#a31515"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>&quot;Hello_MyFoo_objE.idl&quot;,
				</FONT></FONT></FONT></CODE>
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><CODE CLASS="western"><FONT COLOR="#0000ff"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>#pragma</FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>
				ciao lem </FONT></FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#a31515"><FONT FACE="Times New Roman, serif"><FONT SIZE=2>&quot;Hello_MyFoo_objAE.idl&quot;</FONT></FONT></FONT></CODE></P>
				<LI><P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT SIZE=2>#pragma</FONT></FONT><FONT COLOR="#000000">
				</FONT><FONT COLOR="#000000"><FONT SIZE=2>ciao ami4ccm </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>interface</FONT></FONT><FONT COLOR="#000000">
				</FONT><FONT COLOR="#a31515"><FONT SIZE=2>&quot;Hello::MyFoo_obj&quot;
				/</FONT></FONT><FONT COLOR="#33cc66"><FONT SIZE=2>//</FONT></FONT><FONT COLOR="#00ae00"><FONT SIZE=2>this
				is needed per interface</FONT></FONT></P>
				<LI><P STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT SIZE=2><SPAN LANG="">#pragma</SPAN></FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2><SPAN LANG="">
				ciao ami4ccm idl </SPAN></FONT></FONT><FONT COLOR="#a31515"><FONT SIZE=2><SPAN LANG="">&quot;Hello_MyFoo_objA.idl&quot;
				 </SPAN></FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2><SPAN LANG="">//needed
				for 'uses multiple', not used in this example <BR></SPAN></FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2><SPAN LANG="">
				                                                          </SPAN></FONT></FONT>
				</P>
			</UL>
		</UL>
	</UL>
</UL>
<P STYLE="margin-left: 1.33cm; margin-bottom: 0cm"><FONT COLOR="#000000">
 <FONT SIZE=3>Also this IDL contains the interface between Sender and
Receiver</FONT></FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#0000ff">interface</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">MyFoo_obj</FONT></FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2>{</FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#0000ff">long</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">foo (</FONT><FONT COLOR="#0000ff">in</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff">string</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">in_str, </FONT><FONT COLOR="#0000ff">out</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff">string</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">answer)</FONT></FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm">  <FONT SIZE=2>raises
(InternalError);</FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#0000ff">void</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">hello (</FONT><FONT COLOR="#0000ff">out</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff">long</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">answer)</FONT></FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm">  <FONT SIZE=2>raises
(InternalError);</FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#000000">attribute
</FONT><FONT COLOR="#0000ff">short</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">rw_attrib</FONT></FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm">  <FONT SIZE=2>getraises
(InternalError)</FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm">  <FONT SIZE=2>setraises
(InternalError);</FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#0000ff">readonly</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">attribute </FONT><FONT COLOR="#0000ff">short</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">ro_attrib</FONT></FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2>raises
(InternalError);</FONT></P>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=2>};</FONT></FONT><CODE CLASS="western"><FONT SIZE=2>
</FONT></CODE>
</P>
<H2 CLASS="western">Component IDL files:</H2>
<H2 CLASS="western"><FONT SIZE=4 STYLE="font-size: 16pt">Sender
component IDL file</FONT></H2>
<P>The <A HREF="../Hello_asm/Sender_comp/src/Hello_Sender_comp.idl">Hello_Sender_comp.idl</A>
file in the Sender_comp/src directory defines the asynchronous and
synchronous connections.  <FONT COLOR="#000000"><FONT SIZE=3>For
synchronous invocations, the Sender component uses the MyFoo_obj
interface (which the Receiver provides).   </FONT></FONT><FONT COLOR="#a31515"><FONT SIZE=3>
</FONT></FONT><FONT COLOR="#a31515"><FONT SIZE=2>component Sender</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>
{ </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/// For
synchronous invocation</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>
uses MyFoo run_my_foo; }; </FONT></FONT>
</P>
<P><FONT COLOR="#000000"><FONT SIZE=3>For asynchronous invocations,
the Sender component uses the AMI_MyFoo_obj interface of the AMI
component and provides the AMI_MyFoo_objReplyHandler interface to the
AMI component.  This is indicated with </FONT></FONT> <FONT COLOR="#0000ff"><FONT SIZE=2>#pragma</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>
ciao ami4ccm receptacle </FONT></FONT><FONT COLOR="#a31515"><FONT SIZE=2>&quot;Hello::Sender_comp::run_my_foo&quot;
</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2> .</FONT></FONT></P>
<H2 CLASS="western"><FONT SIZE=4 STYLE="font-size: 16pt">Receiver IDL
file</FONT></H2>
<P>The <A HREF="../Hello_asm/Receiver_comp/src/Hello_Receiver_comp.idl">Hello_Receiver_comp.idl</A>
file in the Receiver_comp/src directory indicates the port the
receiver provide<FONT COLOR="#000000"><FONT SIZE=2>.</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=2>component
Receiver</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=2>{</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT COLOR="#008000">    <FONT SIZE=2>///
Provides</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000">     <FONT SIZE=2>provides
MyFoo_obj do_my_foo;</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=2>};</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P><CODE CLASS="western"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif">The
receiver isn't aware of  the calls are a- or synchronously.</FONT></FONT></CODE></P>
<P><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=2>
	<TR>
		<TD>
			<P ALIGN=LEFT><A HREF="01_general.html">Previous</A></P>
		</TD>
		<TD>
			<P ALIGN=CENTER><IMG SRC="images/images.png" NAME="graphics2" ALIGN=BOTTOM WIDTH=4% HEIGHT=5% BORDER=0></P>
		</TD>
		<TD>
			<P ALIGN=RIGHT><A HREF="03_executors.html">Next</A></P>
		</TD>
	</TR>
</TABLE>
<P><BR><BR>
</P>
</BODY>
</HTML>