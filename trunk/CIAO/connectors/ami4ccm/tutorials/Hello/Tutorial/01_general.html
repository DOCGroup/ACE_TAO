<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>AMI4CCM Hello Tutorial  - General</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGED" CONTENT="20100625;13251200">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<META NAME="CHANGEDBY" CONTENT="Marijke Hengstmengel">
	<STYLE TYPE="text/css">
  	<!--//$Id$  -->
	<!--
		H2.cjk { font-family: "SimSun" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="nl-NL" DIR="LTR">
<TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=2 STYLE="page-break-before: always">
	<TR>
		<TD>
			<P><BR>
			</P>
		</TD>
		<TD>
			<P ALIGN=CENTER><IMG SRC="images/images.png" NAME="graphics1" ALIGN=BOTTOM WIDTH=4% HEIGHT=5% BORDER=0></P>
		</TD>
		<TD>
			<P ALIGN=RIGHT><A HREF="02_idl.html">Next</A></P>
		</TD>
	</TR>
</TABLE>
<HR>
<H1>General</H1>
<P>This tutorial explains how to use Asynchronous Method Invocation
for CCM (AMI4CCM).  The AMI Connector component handles the
asynchronous invocation using CORBA AMI.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<H2 CLASS="western">System</H2>
<P>The system consists of three components: 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">A Sender component 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">A Receiver component 
	</P>
	<LI><P>An AMI4CCM connector 
	</P>
</UL>
<P>In this tutorial a Sender wants to invoke methods on the Receiver
asynchronously and synchronously. Therefor the Sender and the
Receiver are connected via an AMI connector for the asynchronously
invoked methods and via a direct connection for the synchronously
invoked methods. The AMI connector itself will be completely
generated by IDL and will handle details of executing the
asynchronous invocation and callback to the user component. The
Receiver (Server side)  isn't aware of any AMI clients.</P>
<P><IMG SRC="images/system.png" NAME="graphics4" ALIGN=BOTTOM WIDTH=33% HEIGHT=27% BORDER=0></P>
<P>There are different methods used in this example in order to show
different aspects: 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=3>method
	with return value, in- and out argument:</FONT></FONT></P>
</UL>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#0000ff">long</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">foo (</FONT><FONT COLOR="#0000ff">in</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff">string</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">in_str, </FONT><FONT COLOR="#0000ff">out</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff">string</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">answer);</FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=3>void
	method with out argument:</FONT></FONT></P>
</UL>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT SIZE=2><FONT COLOR="#0000ff">void</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">hello (</FONT><FONT COLOR="#0000ff">out</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000ff">long</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">answer);</FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=3>method
	to set and get an attribute:</FONT></FONT></P>
</UL>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT COLOR="#000000">
<FONT SIZE=2>a</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>ttribute
</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>
rw_attrib</FONT></FONT></P>
<P STYLE="margin-left: 2.54cm; margin-bottom: 0cm"><FONT COLOR="#000000">
<FONT SIZE=2>getraises (InternalError)</FONT></FONT></P>
<P STYLE="margin-left: 2.65cm; margin-bottom: 0cm"><FONT COLOR="#000000">
<FONT SIZE=2>setraises (InternalError);</FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><FONT COLOR="#000000"><FONT SIZE=3>method
	to get an readonly attribute:</FONT></FONT></P>
</UL>
<P STYLE="margin-left: 2cm; margin-bottom: 0cm"><FONT COLOR="#0000ff">
<FONT SIZE=2>readonly</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000">attribute
</FONT><FONT COLOR="#0000ff">short</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#000000">ro_attrib  raises (InternalError);</FONT></FONT></P>
<H2 CLASS="western">Directory structure</H2>
<P>The following convention is used: 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">|--<B>*_asm</B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	: Directory contains an assembly. 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp;&nbsp;|--<B>ports</B>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Directory contains common IDL
	code for the assembly. 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp;&nbsp;|--<B>*_comp</B>&nbsp;&nbsp;&nbsp;
	: Directory contains an component. 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--
	<B>ports</B>&nbsp;&nbsp; : Directory contains common IDL code for
	the component. 
	</P>
	<LI><P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&nbsp;<B>src</B>&nbsp;
	&nbsp;&nbsp; : Directory contains the IDL and *_exec-files for the
	component. 
	</P>
</UL>
<H2 CLASS="western">File naming convention</H2>
<P>The following convention is used: 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><B>*_defn.idl</B> - These files
	will contain definitions, like enumerations, constants and so on.
	Typically located in *_asm/ports. 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><B>*_obj.idl</B> - These files
	will contain the interfaces between components. Typically located in
	*_asm/ports. 
	</P>
	<LI><P><B>*_comp.idl</B> - These files will contain the component
	declaration. Typically located in *_asm/*_comp/src. 
	</P>
</UL>
<H2 CLASS="western">Additional conventions</H2>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">MPC files are located in the same
	directory as the IDL for the common mpc files and in the same
	directory as the executor files for the component mpc files. 
	</P>
	<LI><P>Files that were generated by the TAO IDL compiler should all
	be located in one subdirectory. In this tutorial the name of this
	subdirectory is &quot;GeneratedCode&quot;. 
	</P>
	<TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=2>
		<TR>
			<TD></TD>
			<TD>
				<P ALIGN=CENTER><IMG SRC="images/images.png" NAME="graphics3" ALIGN=BOTTOM WIDTH=4% HEIGHT=5% BORDER=0></P>
			</TD>
			<TD>
				<P ALIGN=LEFT><A HREF="02_idl.html">Next</A></P>
			</TD>
		</TR>
	</TABLE>
</UL>
<P><BR><BR>
</P>
</BODY>
</HTML>
