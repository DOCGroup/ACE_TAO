// -*- MPC -*-
// $Id$

//RepositoryManager project: implementation of a repository manager
//compleint with the D&C spec

project (RepositoryManager) : ccm_stub { //ciao_server_dnc, ciao_config_handlers, zlib, ciaoexe {
  requires += dummy_label
  includes += $(CIAO_ROOT)/tools/Config_Handlers $(ACE_ROOT)/contrib/minizip
  //to circumvent an improper include resolution
  //in the Package_Handlers/PC_Intf.h
  exename = RepositoryManagerDaemon
  requires += zlib
  after += minizip
  libs += Package_Config_Handlers minizip

  IDL_Files {
    RepositoryManagerDaemon.idl
  }

  Source_Files {
    RepositoryManagerDaemonC.cpp
    RepositoryManagerDaemonS.cpp
    ZIP_Wrapper.cpp
    RepositoryManager.cpp
    RepositoryManager_Impl.cpp
    RM_Helper.cpp
    URL_Parser.cpp
    PC_Updater_T.cpp
    PC_Updater.cpp
  }

}



// RMadmin project: a sample client for the RM.

project (RMAdmin) : ccm_stub { //ciao_servant_dnc, ciao_config_handlers, ciaoexe {
  requires += dummy_label
  exename = RMadmin
  after  += RepositoryManager

  IDL_Files {
   RepositoryManagerDaemon.idl
  }

  Source_Files {
    RMadmin.cpp
    RepositoryManagerDaemonC.cpp
    Options.cpp
    RM_Helper.cpp
  }
}
