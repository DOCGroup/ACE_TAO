<!-- $Id$ -->

<title> Minimum TAO </title>


<body text = "#000000"
      link="#000fff"
      vlink="#ff0f0f"
      bgcolor="#ffffff">

<hr>
<p>

<b> Minimum TAO </b>
<p>

We have added support for the new <a href =
"http://www.omg.org/cgi-bin/doc?orbos/98-08-04.pdf"> <em> minimumCORBA
</em> </a> specification to <a href =
"http://www.cs.wustl.edu/~schmidt/TAO.html"> TAO</a>.  The <em>
minimumCORBA </em> specification removes the following features from
the CORBA <a href = "http://www.omg.org/library/c2indx.html"> 2.2 </a>
specification.

<ul>

<li> Dynamic Skeleton Interface <br>
<li> Dynamic Invocation Interface <br>
<li> Dynamic Any <br>
<li> Interceptors <br>
<li> Interface Repository <br>
<li> Advanced POA features <br>
<li> CORBA/COM interworking <br>

</ul>
<p>

To minimize the footprint of TAO, we first <a href =
"http://www.cs.wustl.edu/~schmidt/ACE_wrappers/ACE-INSTALL.html">
configure </a> ACE to support only those <a href =
"http://www.cs.wustl.edu/~schmidt/ACE_wrappers/docs/ACE-subsets.html">
components </a> that are required by TAO. Secondly, we <a href =
"http://www.cs.wustl.edu/~schmidt/TAO/TAO-INSTALL.html"> configure
</a> TAO to only support the components specified by the <em>
minimumCORBA </em> specification.  The following two tables show the
footprint reduction achieved.  Note that the IDL Compiler column
refers to the code required to collaborate between the IDL compiler
and the ORB, and not to the code for the IDL compiler itself.

<p>
<hr>
<p>

<I> Note: All measurement are for ACE 4.6.29 and TAO 0.3.13 using
egcs-2.91.60 on SunOS5.7 <br>

Make options used were:

<code> debug=0 optimize=1 static_libs_only=1 DEFFLAGS=-DACE_USE_RCSID=0 </code> <br>

The above make options translate into:

(a) No debugging,
(b) Optimization is set to -O2,
(c) Static ACE and TAO libraries, and
(d) Use of RCS Ids is turned off. <br>

<p> </I>

<p>
<hr>
<p>

<center><table cellpadding=4 border=4>
  <tr>
    <th>Configuration
    <th>Component
    <th>Total
    <th>OS
    <th>Utils
    <th>Logging
    <th>Threads
    <th>Demux
    <th>Connection
    <th>Sockets
    <th>IPC
    <th>Svcconf
    <th>Streams
    <th>Memory
    <th>Token
    <th>Other
  <tr>
    <th rowspan=2>ACE (all components)
    <th>Size, Kbytes
    <td align=center>577.6
    <td align=center>11.5
    <td align=center>116.2
    <td align=center>14.0
    <td align=center>60.0
    <td align=center>40.0
    <td align=center>0.7
    <td align=center>13.7
    <td align=center>40.2
    <td align=center>101.5
    <td align=center>19.4
    <td align=center>20.9
    <td align=center>75.5
    <td align=center>64.5
  <tr>
    <th>Percentage of<br>total size
    <td align=center>100
    <td align=center>2
    <td align=center>20
    <td align=center>2
    <td align=center>10
    <td align=center>7
    <td align=center>0
    <td align=center>2
    <td align=center>7
    <td align=center>18
    <td align=center>3
    <td align=center>4
    <td align=center>13
    <td align=center>11
  <tr>
    <th rowspan=2>ACE (TAO components)
    <th>Size, Kbytes
    <td align=center>437.4
    <td align=center>11.5
    <td align=center>116.2
    <td align=center>14.0
    <td align=center>60.0
    <td align=center>40.0
    <td align=center>0.7
    <td align=center>13.7
    <td align=center>40.2
    <td align=center>101.5
    <td align=center>19.4
    <td align=center>20.9
    <td align=center>0.0
    <td align=center>0.0
  <tr>
    <th>Percentage of<br>total size
    <td align=center>100
    <td align=center>3
    <td align=center>27
    <td align=center>3
    <td align=center>14
    <td align=center>9
    <td align=center>0
    <td align=center>3
    <td align=center>9
    <td align=center>23
    <td align=center>4
    <td align=center>5
    <td align=center>0
    <td align=center>0
  <tr>
    <th>Reduction
    <th>%
    <td align=center>24.3
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>100
    <td align=center>100
</table></center><p>

<hr>

<p>

<center><table cellpadding=4 border=4>
  <tr>
    <th>Configuration
    <th>Component
    <th>Total
    <th>POA
    <th>Pluggable Protocols
    <th>Default Resources
    <th>Interpretive Marshaling
    <th>IDL Compiler
    <th>ORB Core
    <th>Dynamic Any
  <tr>
    <th rowspan=2>Complete TAO
    <th>Size, Kbytes
    <td align=center>862.0
    <td align=center>281.9
    <td align=center>14.6
    <td align=center>7.9
    <td align=center>68.7
    <td align=center>10.5
    <td align=center>347.1
    <td align=center>131.3
  <tr>
    <th>Percentage of<br>total size
    <td align=center>100
    <td align=center>33
    <td align=center>2
    <td align=center>1
    <td align=center>8
    <td align=center>1
    <td align=center>40
    <td align=center>15
  <tr>
    <th rowspan=2>Minimum  TAO
    <th>Size, Kbytes
    <td align=center>639.5
    <td align=center>207.2
    <td align=center>14.6
    <td align=center>7.9
    <td align=center>68.7
    <td align=center>10.5
    <td align=center>330.3
    <td align=center>0.0
  <tr>
    <th>Percentage of<br>total size
    <td align=center>100
    <td align=center>32
    <td align=center>2
    <td align=center>1
    <td align=center>11
    <td align=center>2
    <td align=center>52
    <td align=center>0
  <tr>
    <th>Reduction
    <th>%
    <td align=center>25.8
    <td align=center>26.5
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>0
    <td align=center>48
    <td align=center>100
</table></center><p>

<p>
