Tue Oct  5 18:41:23 1999  Vishal Kachroo  <vishal@cs.wustl.edu>

	* examples/Simple/bank/README: Updated the explanation of options
	  to the server and the client. Removed the description of
	  obsolete options.

Tue Oct  5 15:43:03 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* tests/IDL_Test/params.idl:
	  Changed the name of a struct to avoid a clash with
	  a struct in another IDL file.

Mon Oct  4 20:42:16 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

	* tao/NVList.h:
	* tao/NVList.i:
	* tao/NVList.cpp:
	  Implemented new optimizations in the NVList class:
	  - When demarshaling a request (or reply) the CDR stream is not
	    interpreted until it is required (i.e. one of the standard
	    methods is invoked).
	  - When marshaling an NVList if the CDR stream is available then
	    we use that instead of the individual Anys.
	  they are useful for DSI/DII based gateways.

	* tao/GIOP_Server_Request.cpp:
	* tao/Stub.cpp:
	  Use the new _tao_incoming_cdr() to set the CDR of the NVList,
	  delaying the dermashaling as much as possible.

	* tao/Invocation.h:
	* tao/Invocation.i:
	  Removed obsolete methods, like put_param() and get_value().

	* tests/Makefile:
	* tests/DSI_Gateway/Makefile:
	* tests/DSI_Gateway/README:
	* tests/DSI_Gateway/test.idl:
	* tests/DSI_Gateway/client.cpp:
	* tests/DSI_Gateway/gateway.cpp:
	* tests/DSI_Gateway/run_test.pl:
	* tests/DSI_Gateway/server.cpp:
	* tests/DSI_Gateway/test_dsi.h:
	* tests/DSI_Gateway/test_dsi.i:
	* tests/DSI_Gateway/test_dsi.cpp:
	* tests/DSI_Gateway/test_i.h:
	* tests/DSI_Gateway/test_i.i:
	* tests/DSI_Gateway/test_i.cpp:
	  A new test/example to check that the DSI/DII optimizations
	  actually work.

	* tao/append.cpp:
	* tao/ORB.h:
	* tao/Server_Request.h:
	* tao/Asynch_Invocation.h:
	* tao/Any.cpp:
	* tao/CDR.cpp:
	  Cosmetic fixes

Mon Oct  4 17:08:03 1999  Marina Spivak  <marina@cs.wustl.edu>

	* orbsvcs/orbsvcs/Naming/Naming_Context.{h,cpp}
	* orbsvcs/orbsvcs/Naming/Naming_Context_Interface.{h,cpp}:
	  Changed the name of the files from Naming_Context.* to
	  Naming_Context_Interface.*   This is bugzilla bug #340.

	  We can't have two files with the same name if they involve
	  template instantiations.  orbsvcs/Naming/Naming_Context.cpp
	  conflicts with ace/Naming_Context.cpp.  Thanks to Greg Holtmeyer
	  <Greg.Holtmeyer@MW.Boeing.com> for pointing this out.

	* orbsvcs/orbsvcs/Naming/Hash_Naming_Context.h
	* orbsvcs/orbsvcs/Naming/Naming_Utils.h
	* orbsvcs/orbsvcs/Naming/README
	* orbsvcs/orbsvcs/Makefile
	* orbsvcs/Naming_Service/Makefile
	* orbsvcs/tests/Simple_Naming/Makefile
	* tests/InterOp-Naming/Makefile
	* examples/Callback_Quoter/Makefile
	* examples/Event_Comm/Makefile
	* examples/Simple/bank/Makefile
	* examples/Simple/time/Makefile
	* examples/Simple/time-date/Makefile
	* examples/Simple/echo/Makefile
	* examples/Simple/grid/Makefile
	* examples/Logging/Makefile
	* orbsvcs/Concurrency_Service/Makefile
	* orbsvcs/CosEC/Factory/Makefile
	* orbsvcs/Time_Service/Makefile
	* orbsvcs/tests/Concurrency/Makefile
	* orbsvcs/tests/Property/Makefile
	* orbsvcs/tests/Time/Makefile
	* orbsvcs/tests/Sched_Conf/Makefile
	* orbsvcs/tests/CosEC_Multiple/Makefile
	* orbsvcs/tests/AVStreams/benchmark/Makefile
	* orbsvcs/orbsvcs/orbsvcs.dsp
	* orbsvcs/orbsvcs_static.dsp
	Updated inclusions and makefile dependencies to reflect the
	  change above.

Mon Oct 04 15:20:00 1999  Michael Kircher <Michael.Kircher@mchp.siemens.de>

	* TAO_IDL/be/be_visitor_operation/ami_handler_reply_stub_operation_cs.cpp,
	  TAO_IDL/be/be_visitor_valuetype/field_ch.cpp,
	  tao/MessagingC.h:
	  Fixed the usage of the "_var_type" typedef on
	  anonymous sequences.

Mon Oct  4 14:46:17 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* tests/IDL_test/params.idl:
	* tests/IDL_Test/idl_test/dsp:
	* tests/IDL_Test/Makefile:
	  New IDL file for IDL problem files relating to
	  function return types and args. The example was
	  originally sent in by Torsten Kuepper
	  <kuepper2@uni-wuppertal.de> and modified by me
	  and Michael Kircher <Michael.Kircher@mchp.siemens.de>.

Mon Oct  4 13:23:26 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* TAO_IDL/be/be_visitor_argument/argument.cpp:
	  Eliminated use of ACE_NESTED_CLASS macro when
	  generating function parameters in the header file. As
	  with return types, MSVC does not have namespace
	  problems with function parameters, and certain cases
	  can lead to an insufficiently scoped name as the
	  evaluation of the macro. Thanks to Michael Kircher
	  <Michael.Kircher@mchp.siemens.de> for pointing
	  this out.

Mon Oct 04 12:52:17 1999  Irfan Pyarali  <irfan@cs.wustl.edu>

	* tao/Servant_Base.cpp (TAO_DynamicImplementation::_create_stub):
	  The checking for a valid POA current was not correct.  This
	  should be fixed now.  Thanks to Carlos for pointing this out.

Mon Oct  4 11:08:32 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* TAO_IDL/be/be_visitor_sequence/sequence_ch.cpp:
	* TAO_IDL/be/be_visitor_structure/structure_ch.cpp:
	* TAO_IDL/be/be_visitor_union/union_ch.cpp:
	* TAO_IDL/be/be_visitor_exception/exception_ch.cpp:
	  Added generation of typedef for _ptr_type and
	  _var_type (just _ptr_type for exceptions).

	* TAO_IDL/be/be_visitor_sequence/exception_ctor.cpp:
	  Cosmetic changes to generated code.

Mon Oct 04 08:40:00 1999  Michael Kircher <Michael.Kircher@mchp.siemens.de>

	* TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_ch.cpp,
	  TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_ch.cpp:
	  Removed a superfluous ";" after the method implementation.

1999-10-03  Yamuna Krishnamurthy  <yamuna@danzon.cs.wustl.edu>

	* orbsvcs/tests/AVStreams/Vic/Makefile:
	  Modified the Makefile so that it will include the libAVsvc library

Sun Oct  3 16:16:12 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* TAO_IDL/be/be_visitor_valuetype/field_ch.cpp:
	  Removed an unused variable.

	* TAO_IDL/be/be_visitor_ami_pre_proc.cpp:
	  Removed an extra semicolon.

	* tests/Param_Test/recursive_union.cpp:
	  Removed an unreachable statement.

Sun Oct 03 13:10:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

	* TAO_IDL/be/be_visitor_operation/ami_handler_reply_stub_operation_cs.cpp,
	  TAO_IDL/be/be_visitor_valuetype/field_ch.cpp,
	  tao/MessagingC.h:
	  Fixed the generation and usage of a typedef for anonymous
	  valuetype field types. This also involved generating a typedef
	  for the "var" type.

Sat Oct  2 18:14:36 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* param_test.idl:
	* param_test_i.h:
	* param_test_i.cpp:
	* client.dsp:
	* Makefile:
	* driver.cpp:
	* options.h:
	* options.cpp:
	* tests.h:
	* run_test.pl:
	  Changes for new recursive union test.

	* recursive_union.h:
	* recursive_union.cpp:
	  New files added for recursive union test.

	* recursive_struct.h:
	* recursive_struct.cpp:
	* bd_array_sequence.cpp:
	  Cosmetic changes.

Sat Oct  2 17:56:04 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* TAO_IDL/be/be_visitor_union_branch/public_assign_cs.cpp:
	  Fixed assignment operator if union is recursive. Before,
	  the only way to initialize such a union was from the
	  bottom up. Otherwise we would end up calling the member
	  sequence copy constructor with a dereference null
	  pointer as an rhs. Now recursive unions can be initialized
	  from the top down.

Sat Oct  2 16:36:04 1999  Ossama Othman  <othman@cs.wustl.edu>

	* tao/Makefile:
	  Updated dependencies.

Sat Oct  2 16:19:18 1999  Jeff Parsons  <parsons@cs.wustl.edu>

	* TAO_IDL/be/be_visitor_valuetype/field_ch.cpp:
	  Moved code to generate typedef for anonymous member
	  sequence to its correct place.

Sat Oct 02 14:50:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

	* TAO_IDL/be/be_attribute.cpp,
	  TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
	  TAO_IDL/be/be_visitor_attribute/attribute.cpp,
	  TAO_IDL/be/be_visitor_operation/ami_cs.cpp,
	  TAO_IDL/be/be_visitor_operation/ami_handler_reply_stub_operation_cs.cpp,
	  TAO_IDL/be_include/be_attribute.h,
	  TAO_IDL/be_include/be_visitor_ami_pre_proc.h:
	  Added support for attributes.

	* TAO_IDL/ast/ast_interface.cpp
	  TAO_IDL/include/ast_interface.h: Added be_replace_operation
	  method to be able to replace operations if needed.

	  TAO_IDL/include/utl_scope.h
	  TAO_IDL/util/utl_scope.cpp: Added replace operations for
	  scope and referenced.

	* tests/AMI/ami_test.idl,
	  tests/AMI/simple_client.cpp: Activated the tests for
	  attributes again.

	* docs/releasenotes/index.html: Updated comment on support
	  for AMI attributes.

Fri Oct  1 19:02:37 1999  Ossama Othman  <othman@cs.wustl.edu>

	* tao/ORB_Core.h:
	* tao/ORB_Core.i:
	* tao/ORB_Core.cpp:

	  Made service configurator argument vector in init() a member of
	  the TAO_ORB_Core class so that it is properly deallocated when
	  an error occurs in init().  This makes the allocation of the
	  argument vector exception safe.  [Bug 330]

	  Added a TAO_ORB_Core_Auto_Ptr class that properly calls
	  TAO_ORB_Core::fini() upon destruction.

	  Made allocation of TAO_POA_Manager in create_and_set_root_poa()
	  exception safe by using an auto_ptr.

	  Updated init() method to accept a CORBA::Environment variable,
	  and updated returned error conditions to throw the appropriate
	  exception.  [Bug 14]

	  Removed owns_resources_ member from TAO_ORB_Core_TSS_Resources
	  class since it wasn't used, nor should it be used.  The amount
	  of control it provided over what gets owned by TSS was too
	  coarse grained.

	* tao/ORB.cpp (ORB_init);

	  Made allocation of TAO_ORB_Core exception safe by using the
	  newly added TAO_ORB_Core_Auto_Ptr.

	* tao/IIOP_Acceptor.cpp (open):

	  Fixed endpoint parsing code so that it works as users expect.
	  Specifically, the following -ORBEndpoint use cases will work as
	  expected:

	    -ORBEndpoint iiop://my_host
	    -ORBEndpoint iiop://:my_port   (note colon ':' before
	                                    my_port)
	  [Bug 311]

	* tao/Stub.i (reset):

	  Do not call _decr_refcnt() in TAO_Stub_Auto_Ptr::reset() if the
	  underlying pointer is zero.

	* docs/Options.html:

	  Spelling corrections.

Fri Oct  1 15:00:40 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * orbsvcs/ImplRepo_Service/ImplRepo_i.cpp:
          David Dunn <dunn@tripos.com> reported that the ImplRepo
          server was still outputting an IOR to implrepo.ior, in
          addition to the file specified by the -o flag.  It is
          now fixed so only the -o specified file is used (and the
          correct IOR is put in it).

Fri Oct 01 15:00:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

	* TAO_IDL/be/be_visitor_operation/ami_reply_handler_stub_operation_cs.cpp:
	  Fixed a hardcoded operation name to use the correct one.

Fri Oct  1 13:46:00 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * orbsvcs/orbsvcs/ImplRepo.idl:
          Shouldn't have a type name and a variable name that differs
          only by case.

        * docs/Options.html:
          Added Implementation Repository environment variables to
          the list [bug 215].

Fri Oct  1 13:14:17 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * ChangeLog: Added more Borland support.  Thanks to
          Christopher Kohlhoff <chris@kohlhoff.com> for this.

Fri Oct  1 11:16:19 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_operation/rettype.cpp:
          Return type code generation for functions in the
          header file were calling nested_type_name(), which
          would generate an ACE_NESTED_CLASS macro if necessary.
          This macro is for the benefit of MSVC, which has some
          namespace problems. But for return types, it works
          fine, the macro is not needed, and in some cases it was
          actually leaving out part of the scoped name that
          needed to be there.

Fri Oct  1 10:23:40 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/ast/ast_expression.cpp:
          Fixed bit operators for constant literals. The original
          Sun code had just coerced everything to signed long,
          which breaks if a ulong value goes above LONG_MAX. We'll
          eventually need more work here to handle 64-bit ints, but
          it can't be done until all the arithmetic, logical and
          compare opertors are implemented.

        * tests/IDL_Test/constants.idl:
          Added some test constants to keep a check on this and
          previous fixes to constant literal operators.

Fri Oct 01 07:20:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_interface/ami_handler_fwd_ch.cpp,
          TAO_IDL/be/be_visitor_interface/ami_handler_fwd_ci.cpp,
          TAO_IDL/be/be_visitor_interface/ami_handler_stub_ch.cpp,
          TAO_IDL/be/be_visitor_interface/ami_handler_stub_cs.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ci.cpp,
          TAO_IDL/be/be_visitor_interface/ami_handler_fwd_ch.h,
          TAO_IDL/be/be_visitor_interface/ami_handler_fwd_ci.h,
          TAO_IDL/be/be_visitor_interface/ami_handler_stub_ch.h,
          TAO_IDL/be/be_visitor_interface/ami_handler_stub_cs.h,
          TAO_IDL/be/be_visitor_argument/ami_arglist.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_arglist.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_result_arg.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_compiled_marshal_cs.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_upcall_cs.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_vardecl_cs.cpp,
          TAO_IDL/be/be_visitor_argument/ami_arglist.h,
          TAO_IDL/be/be_visitor_argument/ami_handler_arglist.h,
          TAO_IDL/be/be_visitor_argument/ami_handler_result_arg.h,
          TAO_IDL/be/be_visitor_argument/ami_handler_compiled_marshal_cs.h,
          TAO_IDL/be/be_visitor_argument/ami_handler_upcall_cs.h,
          TAO_IDL/be/be_visitor_argument/ami_handler_vardecl_cs.h,
          TAO_IDL/be/be_visitor_operation/ami_arglist.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_arglist.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ch.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ss.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_argument_marshal.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_sh.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.h,
          TAO_IDL/be/be_visitor_operation/ami_exception_holder_operation_ch.h,
          TAO_IDL/be/be_visitor_operation/ami_arglist.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_arglist.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ch.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ss.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_argument_marshal.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_sh.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.cpp,
          TAO_IDL/be/be_visitor_operation/ami_exception_holder_operation_ch.cpp:
          Removed these files, because they are no longer needed.

        * TAO_IDL/ast/ast_module.cpp:
          The method add_referenced was not properly called.

        * TAO_IDL/be/be_visitor_argument.cpp,
          TAO_IDL/be/be_visitor_interface.cpp,
          TAO_IDL/be/be_visitor_operation.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ci.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ch.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ci.cpp,
          TAO_IDL/be/be_visitor_interface/interface_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface_sh.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ss.cpp:
          Removed AMI dependencies.

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_reply_stub_operation_cs.cpp:
          Minor adjustments.

Fri Oct 01 02:17:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/MessagingS.h: Fixed missing TAO_Export macros.

Thu Sep 30 20:32:57 1999  Marina Spivak  <marina@cs.wustl.edu>

        * docs/minimumTAO.html:
          Fixed a bad link.

Thu Sep 30 20:21:21 1999  Marina Spivak  <marina@cs.wustl.edu>

        * examples/Load_Balancing/run_test.pl:
          Added a perl script to run the demo.

Thu Sep 30 18:21:58 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/include/ast_expression.h:
        * TAO_IDL/ast/ast_expression.cpp:
          Extended the EvalKind enum and added some code to fix
          the behavior of the '~' operator in constant literals.
          Thanks to Irfan for pointing out that this didn't work
          correctly for all relevant arithmetic types.

Thu Sep 30 16:25:15 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/ORB.cpp:
        * tao/ORB.h: Added two more methods within the CORBA::ORB
          class. The methods are create_alias_tc () &
          create_struct_tc(). These were requested by Jarek Tomasewzki
          <jarek-tomasewski@vertel.de>.

Thu Sep 30 14:58:38 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_valuetype/field_ch.cpp:
        * TAO_IDL/be/be_visitor_field/field_ch.cpp:
          Changes to make sure that anonymous sequence typedefs
          get generated for valuetypes.

Thu Sep 30 14:10:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/MessagingC.h,
          tao/MessagingC.cpp,
          tao/MessagingS.h,
          tao/MessagingS.cpp: Generated direct and thru-poa
          collocated classes and put them in place.

Thu Sep 30 13:27:31 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/util/utl_scope.cpp:
          More tweaks to fine-tune the name resolution capability.

Thu Sep 30 12:40:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_interface_strategy.cpp,
          TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be/be_visitor_operation.cpp,
          TAO_IDL/be/be_visitor_attribute/attribute.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/direct_collocated_ss.cpp,
          TAO_IDL/be/be_visitor_interface/interface.cpp,
          TAO_IDL/be/be_visitor_operation/ami_cs.cpp,
          TAO_IDL/be/be_visitor_operation/argument.cpp,
          TAO_IDL/be_include/be_interface_strategy.h,
          TAO_IDL/be_include/be_visitor_operation.h:
          Removed AMI dpendecies.

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be/be_visitor_operation/ami_exception_holder_operation_cs.cpp,
          TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_ch.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp:
          Did some fixes in the area of ACE_TRY_ENV declarations
          and definitions.

        * TAO_IDL/be_include/be_visitor_operation/ami_handler_skeleton_cs.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp:
          Renamed these files to the following

        * TAO_IDL/be_include/be_visitor_operation/ami_handler_reply_stub_operation_cs.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_reply_stub_operation_cs.cpp:
          Got created from the previously mentioned files.

        * TAO_IDL/Makefile: Updated dependencies.

Thu Sep 30 10:09:42 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * orbsvcs/Naming_Service/Naming_Service.h: Made the various
          instance variables protected rather than private so they can be
          accessed by subclasses.  Thanks to Goran Lowkrantz
          <Goran.Lowkrantz@infologigruppen.se> for this suggestion.

Thu Sep 30 05:20:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp:
          Getting exceptions to work correctly.

        * TAO_IDL/be/be_visitor_valuetype/field_ch.cpp:
          Added missing const in readonly accessor of sequence.
          Thanks to Torsten Kuepper <kuepper2@uni-wuppertal.de>
          for sending this fix.

        * TAO_IDL/be/be_visitor_valuetype/field_cs.cpp:
          Changed set accessor of sequence member.
          Thanks to Torsten Kuepper <kuepper2@uni-wuppertal.de>
          for sending this fix.

        * docs/releasenotes/index.html: Documented the current
          status of AMI.

        * examples/Simple/time-date/Time_Date.dsp:
          Added the Time_Date.h file to the project file.

        * tests/AMI/client.cpp,
          tests/AMI/simple_client.cpp:
          Enhanced the test to do proper exception handling
          testing, which works now again!

Thu Sep 30 02:04:37 1999  Marina Spivak  <marina@cs.wustl.edu>

        * tao/Object.cpp:
          Changed CORBA_Object::_validate_connection to be no-op if
          defined TAO_HAS_MINIMUM_CORBA.

Wed Sep 29 15:35:21 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * docs/implrepo/index.html:
        * docs/implrepo/tao_ir.html:
        * docs/implrepo/usersguide.html:
          Replaced -ORBImplRepoServiceIOR with -ORBInitRef. [bug 308]

        * examples/Callback_Quoter/run_test.pl:
        * examples/Quoter/run_test.pl:
          Replaced -ORBNameServiceIOR with -ORBInitRef.

Wed Sep 29 15:32:31 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Any.cpp:
          In >>= (to_object), decode from the stream using
          the contained type rather than CORBA::Object. The
          widening happens upon assignment to the Object_ptr
          in the to_object struct.

        * tao/DynAny_i.cpp:
          In insert_reference, instead of using <<= to insert the
          value, we duplicate the pointer and use replace().

        * tao/GIOP_Server_Request.cpp:
          Added check for non-null Any value before narrowing to
          PortableServer::ForwardRequest and before trying the
          narrow to CORBA_SystemException.

          Thanks to Phillipe Merle <Philippe.Merle@lifl.fr> for
          sending in these patches.

Wed Sep 29 15:33:04 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Exception.cpp (item):

          Return CORBA::TypeCode::_nil() on error, not zero.

Wed Sep 29 15:27:09 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Exception.cpp (make_standard_typecode):

          Moved CORBA::string_free() call prior to a point in the code
          where an exception is thrown on error.  This improves memory
          leak prevention in this method, slightly.

        * tao/Exception.cpp (CORBA_UnknownUserException):

          Base class should be initialized with the derived class
          typecode.

          Removed unnecessary pre-deletion zero pointer check.

Wed Sep 29 13:45:40 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
          Reversed the behavior of left shift and right shift operators
          in constant expressions - it was backwards. Thanks to Irfan
          for asking the question that led to the discovery of this
          bug.

Wed Sep 29 13:01:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp:
          Fixed some things regarding the handling of the sequence of
          octets.

        * tests/AMI/simple_client.cpp,
          tests/AMI/ami_test_i.cpp: Cosmetic changes.

Wed Sep 29 12:10:46 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/tests/EC_Multiple/EC_Multiple.cpp:
          The POA was activated too late, producing the infamous "POA in
          holding state" exceptions. Thanks to Harald Finster
          <finster@ave.ac.agit.de> for reporting the problem.

Wed Sep 29 11:55:38 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp:
          As it turns out, several compilers do object to casting
          something that's already const to const, so I made my
          earlier change to the output CDR operator for array
          sequences specific to MSVC 5.0.

Wed Sep 29 11:01:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_interface_strategy.cpp,
          TAO_IDL/be/be_visitor_operation/ami_exception_holder_operation_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp,
          TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_ch.cpp,
          TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_cs.cpp:
          Further adjustments to produce correct AMI code.

        * TAO_IDL/be/be_visitor_valuetype/obv_module.cpp:
          Put in a hook for addtitional code generation.

        * tao/Messaging.pidl: Updated the valuetypes according to the
          spec.

        * tao/MessagingC.h: Added a "TAO_Export" declaration on
          the OBV_ namespace classes.

Wed Sep 29 10:59:45 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/TAO.h:

          Minor cosmetic changes.

        * tao/TAO.cpp (run):

          Check for exception after to call to CORBA::ORB::run().

Wed Sep 29 10:41:39 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Exception.cpp (CORBA_UnknownUserException):

          Copy constructor should explicitly initialize the
          CORBA_UserException base class.  Thanks to gcc 2.95.2 for
          picking this up.

        * tao/TAO.cpp (init):

          Check for exception after call to resolve_initial_references().

Wed Sep 29 04:01:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_interface/ami_exception_holder_cs.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ch.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ci.cpp,
          TAO_IDL/be_include/be_visitor_interface/ami_exception_holder_cs.h,
          TAO_IDL/be_include/be_visitor_interface/ami_exception_holder_ch.h,
          TAO_IDL/be_include/be_visitor_interface/ami_exception_holder_ci.h:
          Removed these files, part of them got replaced by the
          following four files.

        * TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_cs.cpp,
          TAO_IDL/be/be_visitor_valuetype/ami_exception_holder_ch.cpp,
          TAO_IDL/be_include/be_visitor_valuetype/ami_exception_holder_cs.h,
          TAO_IDL/be_include/be_visitor_valuetype/ami_exception_holder_ch.h:
          Crafted these files after the above mentioned removed files.

        * TAO_IDL/tao_idl.dsp:
          Added the file TAO_IDL/be_include/be_interface_strategy.h

        * TAO_IDL/be/be_interface.cpp
          TAO_IDL/be/be_interface_strategy.cpp
          TAO_IDL/be_include/be_interface.h
          TAO_IDL/be_include/be_interface_strategy.h:
          Introduced new capabilites to the interface strategy to
          allow additional code generation depending on the assigned
          strategy.

        * TAO_IDL/be/be_visitor_operation/ami_ch.cpp,
          TAO_IDL/be/be_visitor_operation/ami_cs.cpp:
          Changed the code generation of the sendc_ method to
          use the marshaling () and arguments () methods
          on the strategy to retrieve the operation specialized
          to generate code for "marshalling" and for the "arguments".

        * TAO_IDL/be/be_visitor_module/module.cpp,
          TAO_IDL/be/be_visitor_root/root.cpp:
          Provided hooks for addtional code generation in the
          method visit_valuetype ().

        * TAO_IDL/be/be_visitor_operation/ami_exception_holder_operation_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp
          Refined the code generation for exception holders.

        * TAO_IDL/be/be_visitor_interface.cpp,
          TAO_IDL/be/be_visitor_argument.cpp,
          TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be/be_visitor_interface/interface.cpp,
          TAO_IDL/be/be_visitor_interface/tie_sh.cpp,
          TAO_IDL/be/be_visitor_operation/argument.cpp,
          TAO_IDL/be/be_visitor_operation/operation_ih.cpp,
          TAO_IDL/be/be_visitor_typecode/typecode_defn.cpp,
          TAO_IDL/be_include/be_codegen.h,
          TAO_IDL/be_include/be_operation.h,
          TAO_IDL/be_include/be_operation_strategy.h,
          TAO_IDL/be_include/be_visitor_interface/tie_sh.h:
          Removed dependencies to AMI specificas.

        * TAO_IDL/be/be_visitor_valuetype.cpp,
          TAO_IDL/be/be_visitor_valuetype/arglist.cpp,
          TAO_IDL/be/be_visitor_valuetype/valuetype_ch.cpp,
          TAO_IDL/be/be_visitor_valuetype/valuetype_cs.cpp,
          TAO_IDL/be/be_visitor_valuetype/valuetype_obv_cs.cpp,
          TAO_IDL/be_include/be_visitor_valuetype.h:
          Did some minor corrections and enhancements to produce
          correct code.


        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be_include/be_visitor_ami_pre_proc.h:
          Made further refinements to the implied IDL node insertion.

        * TAO_IDL/be/be_operation.cpp,
          TAO_IDL/be/be_operation_strategy.cpp: Enhanced the operation
          strategies.

        * tao/Asynch_Invocation.cpp,
          tao/Asynch_Invocation.h: Removed the "exception list"
          arguments to the two invoke () methods, this resulted
          in removing one of them because the difference was just
          in the representation of the exception list. We do not
          need to hand over exceptions because they get caught
          by the reply handler reply stub and not by invoke
          as in the SMI case.

        * tests/AMI/simple_client.cpp:
          Corrected the name of the return value to be conform
          with the Messaging spec, which says it is named "ami_return_val".

Tue Sep 28 19:45:14 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/DynStruct_i.cpp:
          Modified the constructors so the typecode check will
          work for exceptions as well as ordinary structs.
          Patch sent in by Philippe Merle <Philippe.Merle@lifl.fr>.

Tue Sep 28 14:50:52 1999  Irfan Pyarali  <irfan@cs.wustl.edu>

        * examples/POA/DSI/Database.idl (Database): Renamed <flags> to
          <options>. The variable name <flags> only differed from the type
          <Flags> in case which is no longer acceptable.  Thanks to Jeff
          for pointing this out.

Tue Sep 28 13:44:00 1999  Martin Botzler  <martin.botzler@mchp.siemens.de>

        * examples/mfc/*:
          Added a TAO-MFC example.

Tue Sep 28 13:26:51 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp:
          Added a const cast in the generated code for the
          output CDR operator of array sequences. MSVC++ 5.0
          needs the cast to const, even though it's on an arg which is
          declared const in the signature. At least it doesn't
          bother any of the other compilers. Thanks to Carlos
          for pointing out this bug.

Tue Sep 28 12:46:40 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp:
        * TAO_IDL/be/be_visitor_interface/ami_exception_holder_ch.cpp:
        * TAO_IDL/be/be_visitor_interface/ami_exception_holder_ci.cpp:
        * TAO_IDL/be/be_visitor_interface/ami_exception_holder_cs.cpp:
          Replaced several bare casts with ACE_reinterpret_cast
          because HP/UX complained. If possible, it would be better to
          do this with one of the narrow_from_decl macros.

Mon Sep 27 19:29:14 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB.cpp:
          Fixed object_to_string() it was not working when the IOR was
          *really* big. Thanks to Dennis D Noll
          <Dennis.Noll@MW.Boeing.com> for reporting this problem.

Mon Sep 27 15:48:52 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO_IDL/be/be_interface_strategy.cpp:
        * TAO_IDL/be/be_visitor_operation.cpp:
          The HP/aCC compiler frowns at text after a #endif, it actually
          gives an error in that case.

Mon Sep 27 15:43:57 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * ast/ast_enum.cpp:
        * ast/ast_exception.cpp:
        * ast/ast_interface.cpp:
        * ast/ast_module.cpp:
        * ast/ast_operation.cpp:
        * ast/ast_structure.cpp:
        * ast/ast_union.cpp:
        * be/be_operation.cpp:
        * include/utl_scope.h:
        * util/utl_scope.cpp:
          Changes to make the IDL compiler CORBA 2.3 compliant in
          name resolution. The rules are much stricter than before, and
          the add_to_referenced() function did not maintain enough
          information to detect every clash. So, in addition to the list
          of AST_Decls that add_to_referenced maintains, a new list
          of Identifiers was added, maintained by add_to_referenced()
          and add_to_scope(). Since the signature of the function changed,
          the calls to it in other code were modified as well.

        * orbsvcs/orbsvcs/LifeCycleService.idl:
        * examples/Load_Balancer.idl:
        * examples/Quoter/Quoter.idl:
        * examples/Simple/bank/Bank.idl:
          With the new stricter rules, these IDL files were
          found to contain name clashes.

Mon Sep 27 15:19:18 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Any.cpp:
          In replace(), made creation of Any's message block member
          conditional on the void *value arg being non-zero. When
          a thing like this would happen (an OUT arg), a new message
          block gets created for the Any in the stub. Thanks to
          Philippe Merle <Philippe.Merle@lifl.fr> for sending in this
          fix.

        * tao/DynAny_i.cpp:
          Used call to unalias() to check for type correctness in
          insert_string, insert_any and insert_typecode. Thanks to
          Philippe Merle <Philippe.Merle@lifl.fr> for sending in this
          fix.

        * tao/Exception.h:
        * tao/Exception.cpp:
          Added copy constructor that creates a new Any exception_
          member on the heap. This is to avoid creation by some
          compilers of a default copy constructor that does not do
          the right thing. Thanks again to Phillipe Merle
          for sending in thi fix.

        * Stub.cpp:
          In do_dynamic_call(), in the branch of INOUT/OUT arg
          processing where the Any's value is 0, there was a
          missing assignment of the write pointer in the new
          message block created for the Any. Thanks to
          Philippe Merle <Philippe.Merle@lifl.fr> for the example
          that uncovered this bug.

        * Sequence_T.cpp:
          Added missing call to base class operator= in
          TAO_Bounded_Array_Sequence operator=, which was
          causing a param test to return incorrect results.

Mon Sep 27 15:15:34 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/corbafwd.h:
        * tao/ORB.h:
        * tao/ORB_Core.cpp:

          Changed "DEBUG" macro to "TAO_DEBUG" to prevent namespace
          pollution.  Thanks to Kristopher Johnson
          <kjohnson@gardnersys.com> for reporting this.

Mon Sep 27 01:20:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_interface/interface.cpp:
          Fixed some switch statements which were incorrectly causing
          error messages.

Sun Sep 26 22:44:50 1999  Marina Spivak  <marina@cs.wustl.edu>

        * tao/GIOP.cpp (parse_reply):
          LocateReplys do not contain contexts.  We were trying to
          extract a context from LocateReply, and, therefore, incorrectly
          reading the rest of the data.  Now, check to make sure we are
          not dealing with LocateReply before attempting to extract
          context data.
        * tao/IIOP_Transport.cpp (start_locate)
        * tao/UIIOP_Transport.cpp (start_locate):
          When sending LocateRequest, in the header we were incorrectly
          specifying the type of the message as Request (rather than
          LocateRequest), causing misunderstanding of the message on the
          server side.
        * tao/PolicyC.{i,h}:
          Changed the copy constuctor for CORBA_PolicyList_out to take its
          argument as a const.  This eliminates warnings regarding
          modifying a temporary on some compilers.
          Thanks to Carlos for helping with these.

        * tao/Invocation.cpp
        * tao/Stub.cpp
        * tao/Object.cpp:
          Added implementation for CORBA::Object::_validate_connection ().

        * tests/Endpoint_Per_Priority/client.cpp:
          Changed the test to use newly implemented <_validate_connection>.

Sun Sep 26 16:32:26 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * examples/Simple/time/Time_Client.java.  Added a new example
          that illustrates how to use Java to access the simple Time
          service.  Thanks to Martin Krumpolec <krumpo@pobox.sk> for
          contributing this.

Sun Sep 26 16:37:33 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>


        * orbsvcs/tests/AVStreams/Pluggable/server.cpp:
        * orbsvcs/tests/AVStreams/Pluggable/ftp.cpp:
        * orbsvcs/tests/AVStreams/Multicast/server.cpp:
        * orbsvcs/tests/AVStreams/Multicast/ftp.cpp:
        * orbsvcs/tests/AVStreams/Full_Profile/server.cpp:
        * orbsvcs/tests/AVStreams/Full_Profile/ftp.cpp:
        * orbsvcs/tests/AVStreams/Multicast_Full_Profile/ftp.cpp:
        * orbsvcs/tests/AVStreams/Multicast_Full_Profile/server.cpp:
          Removed unused variables and added missing template instantiations

Sun Sep 26 04:20:00 1999  Michael Kircher  <Michael.Kicher@mchp.siemens.de>

        * TAO_IDL/Makefile
          TAO_IDL/tao_idl.dsp
          TAO_IDL/tao_idl_static.dsp:
          Added two files, see below.

        * TAO_IDL/be/be_interface.cpp,
          TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be/be_visitor_operation.cpp,
          TAO_IDL/be/be_visitor_attribute/attribute.cpp,
          TAO_IDL/be/be_visitor_interface/ami_handler_stub_cs.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ci.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ch.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ci.cpp,
          TAO_IDL/be/be_visitor_interface/interface_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface_sh.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ss.cpp,
          TAO_IDL/be/be_visitor_interface/tie_sh.cpp,
          TAO_IDL/be/be_visitor_operation/ami_ch.cpp,
          TAO_IDL/be/be_visitor_operation/ami_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ss.cpp,
          TAO_IDL/be/be_visitor_operation/argument.cpp,
          TAO_IDL/be/be_visitor_typecode/typecode_decl.cpp,
          TAO_IDL/be/be_visitor_typecode/typecode_defn.cpp,
          TAO_IDL/be_include/be_codegen.h,
          TAO_IDL/be_include/be_interface.h,
          TAO_IDL/be_include/be_interface_strategy.h,
          TAO_IDL/be_include/be_visitor_operation.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp,
          TAO_IDL/be_include/be_visitor_operation/ami_handler_skeleton_cs.h:
          Deactivated 90 % of the old AMI code generation because it
          is not needed any more and replaced with the standard code
          generation. I left the code in for reference, but it
          will be removed finally within the next two weeks.

        * TAO_IDL/be/be_interface_strategy.cpp:
          Simplified the interface node strategy to make it
          less powerful, the functionality is now in the
          operation strategy.

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be/be_operation.cpp,
          TAO_IDL/be_include/be_operation.h:
          Fixed the AMI code generation and introduced
          strategies on operations.

        * TAO_IDL/be/be_operation_strategy.cpp,
          TAO_IDL/be_include/be_operation_strategy.h:
          Added these files to support strategized operations.

        * TAO_IDL/be/be_visitor_operation/ami_handler_reply_stub_operation_ch.cpp,
          TAO_IDL/be_include/be_visitor_operation/ami_handler_reply_stub_operation_ch.h:
          These two files replace the "ami_handler_operation_ch*" files,
          we also call it now "reply stub" and not smart stub or skelton any
          more.

        * TAO_IDL/utl/utl_scope.cpp,
          TAO_IDL/ast/ast_module.cpp,
          TAO_IDL/include/utl_scope.h,
          TAO_IDL/include/ast_module.h: Enhanced the functionality
          to allow interfaces be inserted at a certain position in the
          list of interfaces.

Sat Sep 25 17:12:49 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO version 1.0.5 released.

Sat Sep 25 10:25:57 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * orbsvcs/orbsvcs/orbsvcs.dsp: Made sure IDL files use custom
          build commands (otherwise MSVC6 will try to use MIDL).

        * orbsvcs/tests/ImplRepo/run_test.pl: Changed the startup
          commands to include "./" so the test will work when the
          current directory isn't in the path.  Thanks to Sandro
          Doro <doro.s@flashnet.it> for catching this. [bug 331]

        * orbsvcs/tests/ImplRepo/ImplRepo.dsw: Added tao_ir to this
          workspace also.  Thanks to Gregory Yarmit
          <Gregory.Yarmit@hboc.com> for reminding me to do this.

Fri Sep 24 21:18:40 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * performance-tests/Cubit/TAO/MT_Cubit/Task_Client.cpp:
        * performance-tests/Cubit/TAO/MT_Cubit/Cubit_Task.cpp:
          Call the ORB::destroy() method to avoid crashes on shutdown.

Fri Sep 24 16:16:09 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/UIOP_Transport.cpp:
        * tao/IIOP_Transport.cpp:
          The GIOP::write_locate_request_header() method returns 1 to
          indicate success, but the start_locate() method was expecting
          0.  Thanks to Marina for pointing this out.

Fri Sep 24 12:28:26 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * orbsvcs/examples/CosEC/Factory/FactoryDriver.cpp
          Initialize the ORB before parsing the command line arguments.
          Thanks to Knut-Havard Aksnes <knut@orion.no> for reporting this
          bug.

Fri Sep 24 11:57:21 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * Benchmark/Marshal_Test/TAO/Makefile:
        * Benchmark/benchmark/Makefile:
        * examples/Makefile:
        * examples/AMI/Makefile:
        * examples/Advanced/Makefile:
        * examples/OBV/Makefile:
        * examples/POA/Makefile:
        * examples/POA/Adapter_Activator/Makefile:
        * examples/POA/Explicit_Activation/Makefile:
        * examples/POA/Loader/Makefile:
        * examples/POA/On_Demand_Activation/Makefile:
        * examples/POA/On_Demand_Loading/Makefile:
        * examples/POA/Reference_Counted_Servant/Makefile:
        * examples/POA/RootPOA/Makefile:
        * examples/Simple/Makefile:
        * examples/Simulator/Makefile:
        * orbsvcs/Makefile:
        * orbsvcs/Concurrency_Service/Makefile:
        * orbsvcs/CosEvent_Service/Makefile:
        * orbsvcs/Dump_Schedule/Makefile:
        * orbsvcs/Event_Service/Makefile:
        * orbsvcs/Naming_Service/Makefile:
        * orbsvcs/Scheduling_Service/Makefile:
        * orbsvcs/Trading_Service/Makefile:
        * orbsvcs/examples/Makefile:
        * orbsvcs/examples/CosEC/Makefile:
        * orbsvcs/examples/RtEC/Makefile:
        * orbsvcs/examples/RtEC/Schedule/Makefile:
        * orbsvcs/examples/RtEC/Simple/Makefile:
        * orbsvcs/tests/Makefile:
        * orbsvcs/tests/AVStreams/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/Makefile:
        * orbsvcs/tests/CosEC_Basic/Makefile:
        * orbsvcs/tests/EC_Basic/Makefile:
        * orbsvcs/tests/EC_Mcast/Makefile:
        * orbsvcs/tests/EC_Multiple/Makefile:
        * orbsvcs/tests/Event/Makefile:
        * orbsvcs/tests/Event/Basic/Makefile:
        * orbsvcs/tests/Event/Performance/Makefile:
        * orbsvcs/tests/Event_Latency/Makefile:
        * orbsvcs/tests/Property/Makefile:
        * orbsvcs/tests/Sched/Makefile:
        * orbsvcs/tests/Sched_Conf/Makefile:
        * performance-tests/Makefile:
        * performance-tests/Cubit/Makefile:
        * performance-tests/Cubit/TAO/Makefile:
        * performance-tests/POA/Makefile:
        * performance-tests/Thruput/Makefile:
        * tests/Makefile:
        * tests/NestedUpcall/Makefile:
        * tests/POA/Makefile:
        * utils/Makefile:
        * utils/IOR-parser/Makefile: Reordered make rules inclusion
          order.

Fri Sep 24 11:09:20 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Stub.cpp:
          The set_policy_overrides method did not copy the servant orb,
          this is important for collocated objects.
          Thanks to Stefan Ullrich <SUllrich@heimannsystems.com> for
          pointing this out and providing a fix.

Thu Sep 23 15:40:17 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * tao/ORB.h (CORBA_ORB): Added "= TAO_default_environment ()" to
          the various create_dyn_*() methods so that they can be used more
          portably.  Thanks to Philippe Merle <Philippe.Merle@lifl.fr> for
          reporting this.

Thu Sep 23 23:51:23 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/orbsvcs.dsp:
        * orbsvcs/orbsvcs/orbsvcs_static.dsp:
          Add RtecDefaultEventData.idl and its children to the project
          files.

Thu Sep 23 21:53:23 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Makefile:
        * orbsvcs/orbsvcs/RtecEventComm.idl:
        * orbsvcs/orbsvcs/RtecDefaultEventData.idl:
          Separate the user EventData to another file, this will make it
          easier for users to send their own data through the Event
          Service.  Thanks to Tom Ziomek <tomz@cc.comm.mot.com> for
          bringing up the problem again and providing possible solutions.

        * orbsvcs/tests/EC_Basic/EC_Basic.cpp:
        * orbsvcs/tests/EC_Custom_Marshal/ECM_Supplier.cpp:
        * orbsvcs/tests/EC_Mcast/EC_Mcast.cpp:
        * orbsvcs/tests/EC_Multiple/EC_Multiple.cpp:
        * orbsvcs/tests/EC_Throughput/ECT_Supplier.cpp:
        * orbsvcs/tests/Event/lib/Supplier.cpp:
          Removed the x and y fields from the default event data
          structure, they were not used anyway.

        * */Makefile:
          Updated dependencies.
          Removed all references to the obsolete ORB_TSS_FLAG macro.
          Removed duplicate includes of rules.tao.GNU
          Some makefiles used TAO_ROOT but did not define the macro,
          others defined the macro in terms of ACE_ROOT if it was not
          defined already; changed all to use the second approach.


Thu Sep 23 19:26:02 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Makefile:
        * orbsvcs/orbsvcs/Makefile.av:
        * orbsvcs/tests/AVStreams/Full_Profile/Makefile:
        * orbsvcs/tests/AVStreams/Latency/Makefile:
        * orbsvcs/tests/AVStreams/Multicast/Makefile:
        * orbsvcs/tests/AVStreams/Multicast_Full_Profile/Makefile:
        * orbsvcs/tests/AVStreams/Pluggable/Makefile:
        * orbsvcs/tests/AVStreams/benchmark/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/client/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/mpeg_client/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/mpeg_mib/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/mpeg_server/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/mpeg_shared/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/server/Makefile:
        * orbsvcs/tests/AVStreams/server_discovery/Makefile:
          Separate the AV streaming service into a new library, use that
          library to build the examples, tests and applications that
          depend on the service.  This isolates the rest of the system
          from any build problems (such as long compile-times) in the
          AV/Streaming service.

Thu Sep 23 14:26:19 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * examples/POA/RootPOA/Makefile: Moved the TAO_ROOT definition
          check up before it is used.  Thanks to David for pointing this
          out.

        * Benchmark/Marshal_Test/TAO/Makefile:
        * Benchmark/benchmark/Makefile:
        * TAO_IDL/Makefile:
        * examples/Makefile:
        * examples/AMI/Makefile:
        * examples/Advanced/Makefile:
        * examples/OBV/Makefile:
        * examples/POA/Makefile:
        * examples/POA/Adapter_Activator/Makefile:
        * examples/POA/Explicit_Activation/Makefile:
        * examples/POA/Loader/Makefile:
        * examples/POA/On_Demand_Activation/Makefile:
        * examples/POA/On_Demand_Loading/Makefile:
        * examples/POA/Reference_Counted_Servant/Makefile:
        * examples/POA/RootPOA/Makefile:
        * examples/Simple/Makefile:
        * examples/Simulator/Makefile:
        * orbsvcs/Makefile:
        * orbsvcs/Concurrency_Service/Makefile:
        * orbsvcs/CosEvent_Service/Makefile:
        * orbsvcs/Dump_Schedule/Makefile:
        * orbsvcs/Event_Service/Makefile:
        * orbsvcs/Naming_Service/Makefile:
        * orbsvcs/Scheduling_Service/Makefile:
        * orbsvcs/Trading_Service/Makefile:
        * orbsvcs/examples/Makefile:
        * orbsvcs/examples/CosEC/Makefile:
        * orbsvcs/examples/RtEC/Makefile:
        * orbsvcs/examples/RtEC/Schedule/Makefile:
        * orbsvcs/examples/RtEC/Simple/Makefile:
        * orbsvcs/tests/Makefile:
        * orbsvcs/tests/AVStreams/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/Makefile:
        * orbsvcs/tests/AVStreams/mpeg/source/Makefile:
        * orbsvcs/tests/CosEC_Basic/Makefile:
        * orbsvcs/tests/EC_Basic/Makefile:
        * orbsvcs/tests/EC_Mcast/Makefile:
        * orbsvcs/tests/EC_Multiple/Makefile:
        * orbsvcs/tests/Event/Makefile:
        * orbsvcs/tests/Event/Basic/Makefile:
        * orbsvcs/tests/Event/Performance/Makefile:
        * orbsvcs/tests/Event_Latency/Makefile:
        * orbsvcs/tests/Property/Makefile:
        * orbsvcs/tests/Sched/Makefile:
        * orbsvcs/tests/Sched_Conf/Makefile:
        * performance-tests/Makefile:
        * performance-tests/Cubit/Makefile:
        * performance-tests/Cubit/TAO/Makefile:
        * performance-tests/POA/Makefile:
        * performance-tests/Thruput/Makefile:
        * tests/Makefile:
        * tests/NestedUpcall/Makefile:
        * tests/POA/Makefile:
        * utils/Makefile:
        * utils/IOR-parser/Makefile: Added missing rules.tao.GNU.
          [Bug 326].

Thu Sep 23 11:26:20 1999  David L. Levine  <levine@cs.wustl.edu>

        * performance-tests/Cubit/TAO/MT_Cubit/Globals.h,
          Task_Client.h,Timer.{h,cpp},client.{h,cpp}:
          replaced CHORUS with CHORUS_MVME.  I think that
          pccTimer is specific to MVME.  Thanks to Wei Chiang
          <wei.chiang@nokia.com> for reporting this.

Thu Sep 23 11:18:11 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/orbsvcs.dsp: Fixed the custom build setting in
          release configuration for RtecEventChannelAdmin.idl.  Thanks to
          Alok Gupta <alokg@ssind.stpn.soft.net> and Chien Yueh
          <cyueh@viasoft.com> for reporting this.

Thu Sep 23 08:55:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_interface_strategy.h,
          TAO_IDL/be/be_interface_strategy.cpp:
          Introduced these files, holding now the
          strategies, which were formerly in the be_interface.{h,cpp}
          files.

        * TAO_IDL/Makefile
          TAO_IDL/tao_idl.dsp
          TAO_IDL/tao_idl_static.dsp:
          Added two files.

        * TAO_IDL/ast/ast_interface.cpp
          TAO_IDL/include/ast_interface.h
          TAO_IDL/ast/ast_operation.cpp
          TAO_IDL/include/ast_operation.h:
          Renamed operations add_operation_x to
          be_add_operation and add_exceptions_x to
          be_add_exceptions.

        * TAO_IDL/ast/ast_module.cpp
          TAO_IDL/include/ast_module.h:
          Added a method to add interfaces in the
          back-end.

        * TAO_IDL/be/be_interface.cpp,
          TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be/be_visitor_attribute/attribute.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ch.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ci.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_cs.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ci.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ch.cpp,
          TAO_IDL/be/be_visitor_interface/interface_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface_sh.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ss.cpp,
          TAO_IDL/be/be_visitor_valuetype/cdr_op_ci.cpp,
          TAO_IDL/be_include/be.h,
          TAO_IDL/be_include/be_interface.h,
          TAO_IDL/be_include/be_visitor_ami_pre_proc.h:
          Did a big refactoring by commenting out all origninal
          AMI code generation and activating the new AMI
          implied IDL preprocessor.
          Still, AMI code does not compile yet, we need to
          implement some of the visitors.

Thu Sep 23 02:02:30 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO-INSTALL.html: Updated the idl files compilation guidelines.
          We can use a utility project to handle the IDL compilation part
          to avoid setting up the custom rules twice.  Thanks to Dmitri
          Katchalov <Dmitri.Katchalov@computershare.com.au> for suggesting
          the change.

Wed Sep 22 13:13:46 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/DynAnyC.h:

          Removed inclusion of ORB.h.  It wasn't needed.

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:

          Moved inclusion of ORB.h to ORB_Core.h to fix "incomplete type"
          errors when building with Minimum CORBA support.  Thanks to
          David for reporting this.

        * tao/Makefile:

          Updated dependencies.

Wed Sep 22 13:09:06 1999  Jim Rogers <jrogers@viasoft.com>

        * tao/orbconf.h: don't #define TAO_USES_ROBUST_CONNECTION_MGMT
          on MVS.

Wed Sep 22 10:30:27 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/ORB.cpp:
          Replaced CORBA::TypeCode_ptr::_nil() with CORBA::TypeCode::_nil()
          in several places. Amazingly, gcc 2.95 compiled this, but
          MSVC output an internal compiler error.

Tue Sep 22 01:15:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/ast/ast_operation.cpp,
          TAO_IDL/include/ast_operation.h:
          Renamed the add_exceptions method to not clash
          with the UTL_Scope add_exceptions method.

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ch.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ci.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_cs.cpp:
          Added the ACE_RCSID.

Tue Sep 21 23:29:30 1999  Mike Moran  <mm4@cs.wustl.edu>

        * tests/Explicit_Event_Loop:

          Added ACE_TRY macros so the test will run without exceptions=1,
          and enhanced the documentation and ACE-style compliance.

Tue Sep 21 22:06:10 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB.cpp (create_interface_tc,
                       create_enum_tc,
                       create_exception_tc):

          Added missing ACE_CHECK_RETURN macros after calls to
          ACE_NEW_THROW_EX.  Use CORBA::TypeCode_ptr::_nil() instead of
          zero.

        * tao/ORB.cpp (get_service_information):

          CORBA::ORB::get_service_information() is unimplemented.  It
          should throw a NO_IMPLEMENT exception, not simply return 0.

        * tao/ORB.cpp (create_list):

          Use ACE_NEW_THROW_EX instead of raw C++ new().

        * tao/ORB.cpp (create_named_value):

          Changed ACE_NEW to ACE_NEW_THROW_EX since a CORBA::Environment
          variable is passed to this method.

Tue Sep 21 20:23:07 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
          Added the template instantiation for ACE_Hash<MMDevice_Map_Hash_Key>

        * TAO_IDL/Makefile:
          Added the dependencies

Tue Sep 21 19:29:50 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * orbsvcs/tests/Trading/Makefile:
          Workaround for the "unresolved assignment operator" mystery -
          Added a check to not compile the trader tests under older
          versions of g++.

Tue Sep 21 18:05:21 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * orbsvcs/tests/Trading/Simple_Dynamic.h: Fix for the Trader tests
          failing - Reverted the change made to the data member 'T' in the
          TAO_Simple_Dynamic_Property class.Now the Trader tests will work
          on all platforms but will not link on on sunos g++ 2.7.2.3.

Tue Sep 21 16:56:43 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * utils/nslist/Makefile: The Makefile should depend on the Naming
          service, not on the Time service.  Thanks to Paul Calabrese
          <calabrese_p@ociweb.com> for reporting this.

        * utils/nslist/nslist.cpp (show_chunk): Added a patch that fixed a
          problem where names containing a non-blank value for the kind
          field were raising exceptions.  Thanks to Paul Calabrese
          <calabrese_p@ociweb.com> for reporting this and providing a fix.

Tue Sep 21 16:38:02 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Request.cpp:
          Duplicated the 'args' and 'result' parameters to the
          Request constructor before initializing. This allows
          the caller to put these values into _vars. Thanks to
          Philippe Merle <Philippe.Merle@lifl.fr> for pointing
          out this memory management bug and sending in a fix.

Tue Sep 21 16:25:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO/TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO/TAO_IDL/be_include/be_visitor_ami_pre_proc.h:
          Enhanced the AST node generation with support for
          sendc_xx and xx_excep operation nodes.

Tue Sep 21 14:25:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp:
          Fixed problems with unused arguments.

        * examples/OBV/Typed_Events/Event_Types_impl.cpp,
          examples/OBV/Typed_Events/Event_Types_impl.h:
          Fixed problems with the CORBA::Environment.

Tue Sep 21 13:51:08 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/DynAny_i.cpp:
          Added call to unalias() before checking TCKind in
          insert operations for string, object, TypeCode and
          Any.

        * ORB.cpp:
          Replaced no-op in body of create_named_value with
          a simple call to ACE_NEW.

          Thanks to Phillipe Merle <Philippe.Merle@lifl.fr> for
          sending in both these fixes.

Tue Sep 21 12:10:29 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Typecode.cpp:
          Added a check in private_equal_union and private_equal_struct
          for a member that is recursive, but of a different type than
          the enclosing union or struct. Thanks to
          Lothar Werzinger <werzinger.lothar@krones.de> for providing
          the example that pointed out this use case.

Tue Sep 21 12:08:46 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
          Added a missing template instantiation for
          ACE_Equal_To<MMDevice_Map_Hash_Key>.

Tue Sep 21 12:10:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/Makefile,
          TAO_IDL/tao_idl.dsp,
          TAO_IDL/tao_idl_static.dsp:
          Added the files be_visitor_ami_pre_proc.{h,cpp}.

        * TAO_IDL/be/be_visitor_ami_pre_proc.cpp,
          TAO_IDL/be_include/be_visitor_ami_pre_proc.h
          Created these files to hold the pre processor
          for generating implied AMI IDL code.

        * TAO_IDL/be/be_produce.cpp:
          Put a hook in to the AMI preprocessor.

        * TAO_IDL/be_include/be.h:
          Added an include for the AMI preprocessor.

Tue Sep 21 11:53:36 1999  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

        Added the following changes from Christopher Kohlhoff
        <chris@kohlhoff.com>:

        * examples/Borland/Broadcaster.idl: Chat example IDL file must be
          changed to prevent the TAO_IDL compiler error about identifiers
          differing only in case.

        * orbsvcs/orbsvcs/Makefile.bor: AVStreams support has been removed
          from the orbsvcs library.

        * tests/Connection_Purging: Makefile.bor,
          tests/DynAny_Test: Makefile.bor,
          tests/IDL_Test: Makefile.bor:
          New Borland Makefiles for building TAO tests

        * tests/Param_Test/results.cpp: A division-by-zero floating point
          exception sometimes occurred when the tests ran too fast for the
          system time resolution.

Mon Sep 21 09:20:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_factory.cpp:
          Removed some AMI visitors for interpretive marshaling because we
          do not support interpretive marshaling for AMI anyway.

        * TAO_IDL/be/be_visitor_valuetype/valuetype_cs.cpp:
          Fixed some code generation problem with the ACE_NESTED_CLASS
          macro.

        * examples/OBV/Typed_Events/Event_Types_impl.cpp,
          examples/OBV/Typed_Events/Event_Types_impl.h:
          Added the missing CORBA::Environment to the methods
          inheriting from the Skeleton.

Mon Sep 20 19:11:44 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/decode.cpp:
        * tao/deep_free.cpp:
        * tao/encode.cpp:
          The fix in the calculation of align_offset, in
          TAO_Marshal_Struct, sent in for Borland C Builder,
          now that I have copied it right, seems to work for
          MSVC, SunOS/EGCS and SunOS/SunCC. This check-in
          will test if it works for all our other platforms.
          Thanks again to Thanks to Christopher Kohlhoff
          <chris@kohlhoff.com> for sending in this fix.

Mon Sep 20 15:30:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_argument/ami_handler_arglist.cpp:
          Made some cosmetic changes.

        * TAO_IDL/be/be_visitor_valuetype/valuetype_cs.cpp:
          Using now the ACE_NESTED_CLASS macro to take care
          of the Microsoft VC++ nested class bug.

        * tests/AMI/client.cpp,
          tests/AMI/simple_client.cpp: Fixed naming conventions.


Mon Sep 20 14:58:37 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/params.h:
        * tao/params.cpp:
          Removed unused fields, thanks to Doug for noticing this
          problem.

        * tao/Invocation.h:
          Fixed warning under Sun/CC.

Mon Sep 20 14:47:46 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_typedef/typedef_ch.cpp:
          For a typedef'd interface or forward-declared interface, we were
          generating the typedef for the _ptr, the _var and the _out, but
          not for the interface itself. Now we are. Thanks to Probal
          Bhattacharjya <probal@lucent.com> for sending in the example
          that pointed this out.

Mon Sep 20 14:35:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/Makefile: Updated the dependencies.

Mon Sep 20 12:53:08 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Typecode.cpp:
          Added a check for recursiveness to private_equal_struct
          and private_equal_union. These were going into infinite
          recursion when extracting one of these types from an Any.
          Thanks to Lothar Werzinger <werzinger.lothar@krones.de>
          for reporting this problem with recursive unions.

Mon Sep 20 11:53:16 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB.cpp:

          Minor code style updates.

        * tao/ORB_Core.h (TAO_ORB_Core):
        * tao/ORB_Core.i (orb):
        * tao/ORB_Core.cpp (TAO_ORB_Core, init, fini):

          Changed orb_ member from ORB_ptr to ORB_var to provide better
          memory management.

        * orbsvcs/tests/Property/run_test.pl:

          Updated to use -ORBInitRef instead of obsolete
          -ORBNameServiceIOR.

        * docs/compiler.html:

          Minor spelling corrections.

Mon Sep 20 10:55:48 1999  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

        * TAO-INSTALL.html:
        * docs/minimumTAO.html: Clarified that you must build TAO with
          minimum_corba=1 in order to build the liborbsvcs with
          minimum_corba=1.  Thanks to Klaus Banzer
          <klaus.banzer@mchp.siemens.de> for reporting this.

Mon Sep 20 11:00:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_interface/ami_exception_holder_ch.cpp,
          TAO_IDL/be/be_visitor_interface/ami_exception_holder_ci.cpp,
          TAO_IDL/be/be_visitor_operation/ami_exception_holder_operation_ch.cpp,
          TAO_IDL/be_include/be_visitor_interface/ami_exception_holder_ch.h,
          TAO_IDL/be_include/be_visitor_interface/ami_exception_holder_ci.h,
          TAO_IDL/be_include/be_visitor_operation/ami_exception_holder_operation_ch.h:
          Added these files to support the code generation for exception holders.

        * TAO_IDL/include/ast_interface.h,
          TAO_IDL/ast/ast_interface.cpp:
          Added a method to add operations on the fly.

        * TAO_IDL/include/ast_operation.h,
          TAO_IDL/ast/ast_operation.cpp:
          Added a method to add exceptions on the fly.

        * TAO_IDL/be/be_interface.cpp,
          TAO_IDL/be_include/be_interface.h:
          Introduced a new strategy for exception holders and
          factored out the commonalities to ami handlers in
          a prefix-suffix strategy as a base class for both.

        * TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be_include/be_visitor_interface.h,
          TAO_IDL/be_include/be_visitor_operation.h,
          TAO_IDL/be/be_visitor_interface.cpp,
          TAO_IDL/be/be_visitor_operation.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_arglist.cpp
          TAO_IDL/be/be_visitor_attribute/attribute.cpp:
          Added support for the xx_excep method in the AMI
          Reply Handler class.

        * TAO_IDL/be/be_visitor_interface/any_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/any_op_cs.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ch.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_ci.cpp,
          TAO_IDL/be/be_visitor_interface/cdr_op_cs.cpp:
          Added a strategy approach to generate code for
          the exception holders but I am not content with
          the current approach. This will change soon.

        * TAO_IDL/be/be_visitor_interface/interface.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ch.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ci.cpp,
          TAO_IDL/be/be_visitor_interface/interface_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_arglist.cpp,
          TAO_IDL/be/be_visitor_operation/ami_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_arglist.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_operation.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ch.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ss.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp,
          TAO_IDL/be_include/be_codegen.h:
          Made extensions to support AMI exception handling.

        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp,
          TAO_IDL/be/be_visitor_typecode/typecode_decl.cpp,
          TAO_IDL/be/be_visitor_typecode/typecode_defn.cpp:
          Needed to change the suffix "_Handler" to "Handler"
          in order to comply with the Messaging specification.

        * TAO_IDL/be/be_visitor_valuetype/arglist.cpp:
          Added support for the "CORBA::Environment".

        * TAO_IDL/be/be_visitor_valuetype/cdr_op_ch.cpp,
          TAO_IDL/be/be_visitor_valuetype/cdr_op_ci.cpp:
          Changed the usage of the "name" operation on the
          be_valuetype to use "full_name" which has basically
          the same effect but is strategizable.

        * TAO_IDL/be/be_visitor_valuetype/valuetype_ch.cpp,
          TAO_IDL/be/be_visitor_valuetype/valuetype_cs.cpp:
          Did some changes because of the problem of NT
          with nested classes.

        * TAO_IDL/include/utl_identifier.h,
          TAO_IDL/util/utl_identifier.cpp:
          Added support to be able to replace a string.

        * TAO_IDL/util/utl_idlist.cpp:
          Added support for deep-copy on the idlist.

        * tao/MessagingC.cpp
          tao/MessagingC.h
          tao/MessagingC.i: Fixed the generated code for
          the Exceptionholder valuetype, because it was originally
          generated with the Exceptionholder being a struct. There
          is still a lot to do. E.g. valuetype do not support
          _vars for some parts, therefore we have memory leaks!

        * tao/Invocation.h
          tao/Reply_Dispatcher.cpp: Added support for AMI
          exception handling.

        * tests/AMI/ami_test.idl,
          tests/AMI/ami_test_i.cpp,
          tests/AMI/ami_test_i.h,
          tests/AMI/simple_client.cpp: Took out the attributes,
          because we do not support AMI exception handling
          for attributes yet.

Mon Sep 20 08:39:05 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * docs/Options.html: Updated the documentation to describe the
          new -ORBNodelay option that toggles TCP_NODELAY.

        * tao/ORB_Core.cpp (init): Added support for the new -ORBNodelay
          option, which makes it possible to enable/disable TCP_NODELAY
          via the -ORB commandline options.  Thanks to John Masiyowski
          <jmasiyowski@fallschurch.esys.com> for suggesting this.

        * tao/params:
        * tao/IIOP_Connect.cpp: Added support for nodelay() so that we can
          set TCP_NODELAY via the ORB options.  Thanks to John Masiyowski
          <jmasiyowski@fallschurch.esys.com> for suggesting this.

        * tao/params.cpp (TAO_ORB_Parameters): Initialized some fields
          as follows:

          cdr_default_size_ (0),
          cdr_max_exp_size_ (0),
          cdr_linear_chunk_ (0),

Sun Sep 19 17:50:05 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB_Core.cpp (run):

          Removed unused code that was accidentally committed.

Sun Sep 19 17:31:44 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB.cpp (key_to_object):

          Changed CORBA::Object_ptr to CORBA::Object_var.  Another
          potential memory leak fix.

Sun Sep 19 17:22:19 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB_Core.cpp (create_stub_object):

          Fixed non-default TAO minor code argument that wasn't using the
          CORBA::SystemException::_tao_minor_code() helper method.

        * tao/ORB.cpp:

          Somehow the entire contents of ORB.i were copied into ORB.cpp
          during the CORBA 2.3 updates I made back on Sep 14.  None of the
          compilers complained about this either! In any case, no harm was
          done.  I removed the duplicate code.

          Call TAO_ORB_Core::fini() instead of calling delete on the
          TAO_ORB_Core pointer after TAO_ORB_Core::init() returns with an
          error in CORBA::ORB_init().  This fixes another "potential"
          memory leak.

        * tests/ORB_init/ORB_init.cpp (main):

          Enhanced test to check for CORBA::OBJECT_NOT_EXIST() exception
          if an attempt is made to perform an ORB operation using a
          destroyed ORB.

          Improved error checking, and added some additional debugging
          messages.

Sat Sep 18 19:22:49 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_union_branch/public_assign_cs.cpp:
          Added missing code for copy constructor of a union
          containing a typecode. _duplicate was called, but the
          assignment wasn't made.

        * TAO_IDL/be/be_visitor_array/array_ci.cpp:
          Moved an #if defined (ACE_HAS_BROKEN_IMPLICIT_CONST_CAST)
          from TAO_IDL code to generated code, so that IDL
          compiler built on one platform can generate code for
          another platform.

          Thanks to Christopher Kohlhoff <chris@kohlhoff.com> for
          suggesting both these fixes.

Sat Sep 18 18:24:40 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Object.cpp (_get_interface):

          Added a missing return statement.

        * tao/ORB_Core.cpp (set_iiop_endpoint):

          Fixed potential segmentation fault that would have occurred if
          an ACE_ERROR message was printed because there was no matching
          argument for the ACE_Log_Msg "%p" format specifier in an
          ACE_ERROR_RETURN case.

          Moved default IIOP port code to this method since the code is
          appropriate only for IIOP.  Things are cleaner this way, in my
          opinion.

        * tao/ORB_Core.cpp (create_stub_object):

          Added an error check during TAO_MProfile creation.  Protected
          type ID with a String_var.

        * tao/ORB.i:

          Minor style updates.  No code changes.

Sat Sep 18 17:15:26 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * tao/Makefile.bor: Updated this file to include new files.
          Thanks to Mogens Hansen <mogens_h@dk-online.dk> for submitting
          this fix.

Sat Sep 18 18:21:59 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence_T.cpp:
          Changed the remaining ACE_reinterpret_cast instances in
          TAO_*_Array_Sequence to the bare C cast for SunCC version <
          5.0. This worked for other occurrences as documented in a
          previous ChangeLog entry, so now these errors showed up and were
          fixed the same way.

Sat Sep 18 17:57:24 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/decode.cpp:
        * tao/deep_free.cpp:
        * tao/encode.cpp:
          There was a missing set of parentheses for TAO_Marshal_Struct
          that I left out of a fix sent in to the alignment code for
          Borland C Builder. Thanks to Christopher Kohlhoff
          <chris@kohlhoff.com> for pointing this out.

Sat Sep 18 16:25:17 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tests/IORManipulation/IORTest.cpp (main):

          Fixed all mismatches where the return value of a call to
          CORBA::ORB::object_to_string (a CORBA::String) was assigned to
          an ACE_CString.  The correct thing to do is to assign the
          CORBA::String return value to a CORBA::String_var.  This fixes
          several memory leaks.

          Changed the last of the "_ptr" variables to "_var" variables.
          This change fixes the last of the memory leaks in the IORTest.

Sat Sep 18 15:11:30 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/IORManipulation.cpp:

          Changed instances of "CORBA_Object *" to "CORBA::Object_var."
          Previously I introduced an auto_ptr<CORBA_Object> instantiation,
          which was incorrect.

          Removed unnecessary auto_ptr<CORBA_Object> instantiations,
          further reducing TAO's footprint.

          Changed instances of CORBA::String to CORBA::String_var and
          adjusted code that expected a CORBA::String accordingly.  This
          fixes some potential memory leaks.

Sat Sep 18 14:15:24 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/IORManipulation.cpp (merge_iors, remove_profiles):

          Made TAO_Stub allocation exception safe using TAO_Stub_Auto_Ptr
          since it is now functioning properly.

          Updated to use ACE_AUTO_PTR_RESET macro to get around compilers
          that lack a reset() method.  The previous code was functionally
          equivalent but using ACE_AUTO_PTR_RESET is the "ACE Way" of
          doing an auto_ptr<>::reset().

        * tao/ORB.cpp (object_to_string):

          Added some debugging messages.

        * tao/Object.cpp:

          Updated some Interface Repository related code, and enabled it
          if TAO_HAS_INTERFACE_REPOSITORY is defined.

          Replaced instances of raw C++ new() with appropriate ACE macro,
          such as ACE_NEW_THROW_EX() and ACE_NEW_RETURN().

          Removed extraneous zero pointer check.  Made TAO_Stub allocation
          exception safe by using TAO_Stub_Auto_Ptr.

        * tests/IORManipulation/IORTest.cpp (main):

          CORBA::ORB::object_to_string() cannot be called on locality
          constrained objects such as IORManipulation.  Disabled
          object_to_string() call on IORManipulation object.  [Bug 329]

          Test now uses CORBA::Object_var variables instead of
          CORBA::Object_ptr.  This fixes several memory leaks.

Fri Sep 17 22:49:30 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tests/IORManipulation/IORTest.cpp (main):

          ACE_CATCH blocks now print exception information, not just a
          "caught exception" message.  This is useful for debugging.

          Updated to use ACE_DEBUG macros instead of printf().

Fri Sep 17 16:51:06 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:
        * tao/params.h:
        * tao/params.i:
        * tao/params.cpp:

          Changed TAO_IOR_LookupTable pointer member to non-pointer
          member. The add_to_ior_table() method was also moved to the
          TAO_ORB_Params class since it made more sense to put it there.
          These changes fix memory leaks that occurred when
          TAO_ORB_Core::init() returned with an error or when an exception
          was thrown.

        * tao/ORB.cpp (ORB_init):

          Fixed memory leaks that happened when errors occurred or when
          exceptions were thrown during the initialization of a new
          ORB_Core.

        * tao/Makefile:

          Updated dependencies.

Fri Sep 17 16:14:14 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/InterceptorC.cpp: Added #include "tao/varout.h".  Thanks to
          David and Marina for pointing this out.

Fri Sep 17 12:05:09 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence_T.i:
        * tao/Sequence_T.cpp:
          Added use of brute casts in operators [] and = for
          array sequences, contingent on SunCC version earlier
          than 5.0.

        * tests/Param_Test/complex_any.cpp:
        * tests/Param_Test/ubwstring.cpp:
        * tests/Param_Test/bdwstring.cpp:
        * tests/Param_Test/ub_wstr_seq.cpp:
        * tests/Param_Test/bd_wstr_seq.cpp:
          Added missing ACE_RCSID lines to these files.

Thu Sep 16 18:31:45 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/include.idl_narrow.h:
          Added a temporary to the IMPL_NARROW_METHODS macros.
          This should get rid of IDL compiler runtime errors
          on KCC. Thanks to Paul Calabrese <calabrese_p@ociweb.com>
          for sending in the fix.

Thu Sep 16 15:50:24 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/Param_Test/bd_string.cpp:
        * tests/Param_Test/bd_wstring.cpp:
        * tests/Param_Test/ub_wstring.cpp:
          Was looking for something that would cause Linux to
          fail on test_bounded_wstring only. Didn't find
          anything, but made these cosmetic changes to some
          files anyway.

Thu Sep 16 13:56:05 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_codegen.cpp:
          Added inclusion of ace/streams.h to client header
          file, contingent on defintion of
          ACE_HAS_MINIMUM_IOSTREAMH_INCLUSION. This is mainly
          for VxWorks to be happy when generating iostream
          operators for exceptions. Thanks to David for
          pointing out this problem.

Thu Sep 16 12:51:35 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/ORB.h:
        * tao/ORB.cpp:
          Iostream operators for String_var, String_out,
          WString_var and WString_out. Until we get some
          wstring compatibility with the Unix 4-byte
          wchar_t, the wstring versions here just input and
          output CORBA::WChars one at a time, but the string
          versions are functional, and all are required by CORBA 2.3.

        * Sequence_T.cpp:
          Eliminated some temporary variables in an attempt to
          make SunCC happy with array sequence template code.

Thu Sep 16 11:02:21 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Makefile:
        * tests/ORB_init/Makefile:

          Updated dependencies.

Thu Sep 16 10:52:41 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tests/ORB_init/ORB_init.cpp (main):

          Do not print the exception since our automatic test scripts look
          for keywords such as "EXCEPTION" to determine if an error
          occured.  Instead, the exception's repository ID is printed.
          The idea behind this part of the test is to simply verify that
          an exception exists after the last ORB is released, and that
          something can be done with it.

        * tests/ORB_init/run_test.pl:

          Fixed check for successful return status from TimedWait perl
          subroutine.  A successful TimedWait call returns the PID, not
          zero.

Wed Sep 15 21:40:21 1999  Marina Spivak  <marina@cs.wustl.edu>

        * tao/Invocation.cpp:
          Added a missing return statement.

        * tao/TAOC.h:
          Included "varout.h" which wasn't getting included on vxworks
          (because it is included through other includes from a template
          cpp file).

Wed Sep 15 17:26:01 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * orbsvcs/orbsvcs/DsLogAdmin.idl:
        * orbsvcs/orbsvcs/Log/BasicLogFactory_i.{h,cpp}:
        * orbsvcs/orbsvcs/Log/BasicLog_i.{h,cpp}:
        * orbsvcs/orbsvcs/Log/LogMgr_i.{h,cpp}:
        * orbsvcs/orbsvcs/Log/Log_i.{h,cpp}:
        * orbsvcs/orbsvcs/Log/Iterator_i.{h,cpp}:
        * orbsvcs/orbsvcs/Log/LogRecordStore_i.{h,cpp}:
          Created the files listed above for the Telecom Log Service.

Wed Sep 15 15:04:48 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tests/ORB_init/run_test.pl:

          Added a simple perl script to run the ORB_init test.  Thanks to
          Darrell for convincing me to add one.

        * tests/ORB_init/ORB_init.dsp:
        * tests/ORB_init/ORB_init.dsw:

          Added MSVC project files for the ORB_init test.  Thanks to
          Nanbor for creating these files.

Wed Sep 15 15:01:21 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be_include/be_exception.h:
        * TAO_IDL/be/be_exception.cpp:
        * TAO_IDL/be/be_visitor_exception/cdr_op_ch.cpp:
        * TAO_IDL/be/be_visitor_exception/cdr_op_ci.cpp:
          Minimal implementation of C++ ostream operator for
          IDL exceptions. Only the repository ID is output
          at present. This is not part of the spec, so as
          it becomes clearer what folks want from this,
          some or all of the exception members may be
          output as well. The code is generated within the
          CDR operator context, since it didn't seem necessary
          to create two new types of visitor and two new files
          to generate 8 lines of code.

Wed Sep 15 13:51:45 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence_T.i:
          At David's suggestion, removed the temporary variables
          in the array sequence operator[] functions - maybe
          that will make SunCC4 happy.

Wed Sep 15 11:17:54 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Policy_Manager.h:
        * tao/Policy_Manager.cpp:
          The class lacked a destructor and thus was a source of memory
          and resource leaks.  It should be OK now, but needs more
          testing.  Thanks to Marina for pointing this out.
          This partly fixes [BUGID:318]

        * tao/Stub.i:
        * tao/Stub.cpp:
          Moved the destructor to the .cpp file and added code to release
          the Policy_Manager if it is present. Thanks to Marina for
          pointing out this problem.
          This is another step to fix [BUGID:318]

        * tao/Pluggable.h:
        * tao/IIOP_Transport.h:
        * tao/IIOP_Transport.cpp:
        * tao/UIOP_Transport.h:
        * tao/UIOP_Transport.cpp:
          Removed unused methods.

Wed Sep 15 10:30:38 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB_Core.cpp (destroy):

          Fixed "statement is unreachable" warning.

Wed Sep 15 10:07:55 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tests/ORB_init/ORB_init.cpp (main):

          Added missing parentheses to ACE_TRY_THROW parameter.

Wed Sep 15 09:23:57 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/TAO.dsp:
          Added Client_Priority.*, TAOC.* and TAOS.* file to
          project to get rid of linking errors.

Tue Sep 14 18:18:39 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_array/cdr_op_ci.cpp:
        * tests/IDL_Test/typedef.idl:
          The method documented in my last ChangeLog entry
          for generating CDR operators for sequences of
          arrays also works for arrays of arrays. This means
          that a portion of the typedef.idl file that was
          commented out can now be uncommented.

Tue Sep 14 15:15:59 1999  Marina Spivak  <marina@cs.wustl.edu>

        * tests/Endpoint_Per_Priority/client.cpp:
          Modified client to use TAO::ClientPriorityPolicy to make sure
          profiles with correct priorities will be used  for invocations
          to preserve priorities end-to-end.

        * tests/Endpoint_Per_Priority/server.cpp:
          Added comments.

        * tests/Endpoint_Per_Priority/run_test.pl:
          Fixed the script to use the right command-line arguments.

        * tao/Client_Priority_Policy.cpp:
        * tao/Client_Priority_Policy.h:
        * tao/Client_Priority_Policy.i:
        * tao/TAO.pidl:
        * tao/TAOC.cpp:
        * tao/TAOC.h:
        * tao/TAOC.i:
        * tao/TAOS.cpp:
        * tao/TAOS.h:
        * tao/TAOS.i:
        * tao/TAOS_T.cpp:
        * tao/TAOS_T.h:
        * tao/TAOS_T.i:
        * tao/Policy_Manager.cpp:
        * tao/Policy_Manager.h:
        * tao/Policy_Manager.i:
        * tao/Stub.cpp:
        * tao/Stub.h:
        * tao/ORB.cpp:
        * tao/ORB_Core.h;
        * tao/ORB_Core.i:
        * tao/Makefile:
        * tao/orbconf.h :
          Added/modified the files above (and the two below) to provide
          client-side support for connections with priorities (aka Multiple
          Endpoints).

          Added a client side TAO-specific policy for specifying the
          priority of profiles to be used for consequent CORBA calls.
          The policy interface is in TAO.pidl.  New idl interface had to
          be defined for this policy since none of the policies
          from the RT spec provided the right semantics.  For an example
          of how to use the policy and multiple endpoints, see example in
          tests/Endpoint_Per_Priority.

        * tao/Invocation.cpp:
        * tao/Invocation.h:
          Use the value of the TAO::ClientPriorityPolicy to select the
          profile with the right priority for this invocation.
          Right now this feature works correctly for cases where the
          following two assumptions are true: 1) no location forwarding, 2) no
          certain types of errors during the invocation.

        * tao/Profile.h:
          Minor comment fixes.

        * tao/TAO.cpp:
          Changed the use of CORBA::String to CORBA::String_var, which is
          offers better memory management and standard mapping.

        * tao/TAO.h:
          Removed TAO class which provided namespace which contained
          TAO_ORB_Manager and TAO_Object_Key.  Those classes are not
          used through TAO::, but rather directly.

Tue Sep 14 16:47:52 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp:
          Found a way to generate the CDR operators for array
          sequences without using casts. Gives correct results
          in Param Test, Purify shows no memory leaks, and
          it should be more portable to the compilers that
          don't handle casts very well.

Tue Sep 14 14:42:04 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB.h:
        * tao/ORB.cpp:
        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:
        * tao/ORB_Core.i:

          CORBA 2.3 Updates:

          No longer destroy the ORB_Core in the ORB's destructor.  Let the
          ORB_Table handle ORB_Core deallocation.  CORBA::ORB::destroy()
          will also destroy the ORB's underlying ORB_Core.  It is the
          user's responsibility to release an ORB.

          All ORB methods that access the ORB_Core in some way now check
          that the ORB_Core hasn't been shutdown or destroyed before
          continuing.

          Moved exception and type code destruction to the ORB_Table since
          exceptions must be kept around during the lifetime of the
          application.

          Summary of Changes:

          These changes allow code such as the following:

            {
             ORB_var orb = CORBA::ORB_init (argc, argv, "my_orb");
            }
            {
             ORB_var orb = CORBA::ORB_init (argc, argv, "my_orb");
            }

          to work according to the spec, i.e. in both cases the ORBid
          "my_orb" refers to the same ORB.  The ORB must be explicitly
          destroyed by using its destroy() method before the ORBid can be
          reused for another ORB.  Here is an example:

            {
               CORBA::ORB_var orb1 = CORBA::ORB_init (argc, argv, "my_orb");
               orb1->destroy();

               // "my_orb" ORB identifier can now be used to identify
               // another ORB.
               CORBA::ORB_var orb2 = CORBA::ORB_init (argc, argv, "my_orb");
            }

          These changes also allow code such as the following to work:

            try
              {
                 CORBA::ORB_var orb = CORBA::ORB_init ();

                 // yadda, yadda
                 // orb goes out of scope
              }
            catch (CORBA::Exception &e)
              {
                 // Do something with exception `e'
              }

        * tests/Makefile:
        * tests/ORB_init/Makefile:
        * tests/ORB_init/ORB_init.cpp:
        * tests/ORB_init/README:

          Added a simple test that verifies that ORB initialization works
          as expected under the circumstances described above.

Tue Sep 14 11:57:46 1999  Irfan Pyarali  <irfan@cs.wustl.edu>

        * examples/POA/DSI/Database_i.cpp: Changed the use of the name
          MALLOC to DATABASE_MALLOC in order to avoid confusing the Green
          Hills 1.8.9 compiler (PPC target).  Thanks to Bill Tovrea
          <gwtovrea@west.raytheon.com> for reporting this.

          Bug 325 fixed.

Tue Sep 14 11:32:02 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * examples/Event_Comm.idl:
          As the IDL compiler gets ever more strict about
          name resolution, more name clashes turn up. There
          were two in this file.

Tue Sep 14 10:38:45 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
          Now outputs an error if param name is missing
          after param type - used to crash. This fix closes
          out [BUGID:239]

Tue Sep 14 08:35:20 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence_T.i:
          Fixed two calls to allocbuf() - I was using the
          wrong template class. Solaris/SunCC5 and Irix picked
          this up.

Mon Sep 13 18:31:17 1999  Irfan Pyarali  <irfan@cs.wustl.edu>

        * orbsvcs/orbsvcs/TimeService.idl (CosTime): Renamed variable name
          so that it does not conflict with the type name.

        * tao/ORB_Core.cpp (init): Removed extra debugging statement.

        * tao/MessagingS.cpp (_dispatch): No need to replicate code.
          Forward call to base class.

          MessagingS.h and MessagingS.i got facials (cosmetic changes).

        * $ACE_ROOT/bin/run_all_list.pm: The following were removed from
          the run list because they do not compile with minimum CORBA:

          - TAO/examples/POA/FindPOA
          - TAO/examples/POA/NewPOA
          - TAO/performance-tests/Latency

Mon Sep 13 15:31:40 1999  Luther J Baker  <ljb1@cs.wustl.edu>

        * tao/ORB_Core.cpp (init): Update method to use the new
          ACE_Arg_Shifter.get_the_parameter (). This encapsulates
          much of the tedious work of the ORB_init method and allows
          the method to correctly parse the command line arguments.
          ie: -foobar Value == -FooBar value == -foobarValue
          In all of the above examples, 'value' is correctly found.


Mon Sep 13 15:01:23 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/util/utl_scope.cpp:
          Another tweak to the lookup_by_name() function. It
          was failing in a certain case of looking up the
          parent(s) of an interface when they are declared
          after the colon. Thanks to
          Andreas Terstegge <Andreas.Terstegge@nokia.com>
          for sending in the example the showed the problem.

        * TAO_IDL/fe/fe_interface_header.cpp:
          Cosmetic changes.

Mon Sep 13 13:55:22 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Stub.i:

          Make sure underlying TAO_Stub pointer is not equal to zero
          before calling its _decr_refcnt() method.  Previously it was
          possible to release() the underlying pointer and still have
          ~TAO_Stub_Auto_Ptr() call _decr_refcnt().  This fixes the
          TAO_Stub_Auto_Ptr segmentation fault problem. [Bug 307]

          Moved inclusion of tao/debug.h to tao.Stub.cpp.  It wasn't
          needed in this file.

        * tao/ORB.cpp (url_ior_string_to_object):

          Re-enable TAO_Stub_Auto_Ptr code since the TAO_Stub_Auto_Ptr
          segmentation fault problem was fixed.

        * tao/ORB.cpp (ORB_init):

          Made string comparison for "-ORBid" case insensitive.

        * tao/ORB.i (is_nil, release):

          To be technically correct, check for nil ORB_ptr by using
          CORBA::is_nil() in CORBA::ORB::release() and by comparing the
          ORB_ptr to CORBA::ORB::_nil() in CORBA::is_nil(), not by
          comparing to zero.

        * tao/Makefile:

          Updated dependencies.

Mon Sep 13 13:49:08 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_interface/interface_ch.cpp (visit_interface):
        * TAO_IDL/be/be_visitor_interface/interface_cs.cpp
          (visit_interface): The implementation of _duplicate method was
          mistakenly removed from the code for locality constaint
          interfaces.  Thanks to Marina for reporting this.

          The _unchecked_narrow will be part of the future CORBA standard,
          so we should always support it even for locality constraint
          interfaces.  Thanks to Irfan for pointing this out.

Mon Sep 13 10:02:40 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * docs/ORB_Internals.html:
          Added new web page that will describe the ORB internals.

Mon Sep 13 08:34:30 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence_T.h:
        * tao/Sequence_T.i:
        * tao/Seuqence_T.cpp:
          Added two new classes - TAO_Unbounded_Array_Sequence and
          TAO_Bounded_Array_Sequence. These have parameters T and
          T_var. For an array foo, the class foo_var now has a copy() method
          generated that calls foo_copy. Passing in T_var allows us to call
          this method on each sequence element in the copy constructor,
          assignment operator, and (for the unbounded class) _allocate_buffer.
          The existing classes simply asssigned the rhs elements to the lhs
          elements, which doesn't work if they are arrays. This approach is
          similar to that used in TAO_*_Object_Sequence to pass in the
          _duplicate() method.

        * TAO_IDL/be/be_visitor_array/array_ch.cpp:
        * TAO_IDL/be/be_visitor_array/array_cs.cpp:
          Implementation of the copy() method in the _var class as
          mentioned above.

        * TAO_IDL/be/be_visitor_sequence/sequence_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_base.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp:
          Implementation of code generation for sequences of arrays.

        * TAO_IDL/be_include/be_codegen.h:
          Added a context substate to use when generating template parameters
          when listing the base class in the header file using ACE_NESTED_CLASS.
          I'm going to look at this some more - there may be a way to do this
          without adding the extra state.

        * tests/Param_Test/param_test.idl:
        * tests/Param_Test/Makefile:
        * tests/Param_Test/run_test.pl:
        * tests/Param_Test/client.dsp:
        * tests/Param_Test/tmplinst.cpp:
        * tests/Param_Test/options.h:
        * tests/Param_Test/options.cpp:
        * tests/Param_Test/tests.h:
        * tests/Param_Test/driver.cpp:
        * tests/Param_Test/bd_array_seq.h:
        * tests/Param_Test/param_test_i.h:
        * tests/Param_Test/param_test_i.cpp:
          Changes to Param_Test to add the new array sequences tests.

        * tests/Param_Test/bd_array_seq.h:
        * tests/Param_Test/bd_array_seq.cpp:
        * tests/Param_Test/ub_array_seq.h:
        * tests/Param_Test/ub_array_seq.cpp:
          New files for the new array sequences tests.

        * tests/Param_Test/bd_struct_seq.cpp:
        * tests/Param_Test/ub_struct_seq.cpp:
          Cosmetic changes and correction of comments pasted in
          unmodified from another file.

          Thanks to Lars Immisch <lars@ibp.de> for pointing out
          the failure on sequences of arrays.

Sun Sep 12 19:25:58 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO version 1.0.4 released.

Sat Sep 11 17:11:54 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp: Fixed a compile error on aCC

Sat Sep 11 14:28:55 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
          Fixed warnings with Sun C++
        * RTCP.cpp:
        * orbsvcs/orbsvcs/AV/RTCP.h:
          Fixed warnings with egcs


Sat Sep 11 14:13:35 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * tests/NestedUpcall/Simple/run_test.pl:  The wrong argument
          (-t) was being passed to client.  Changed to (-n) instead.

Sat Sep 11 02:04:09 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/MessagingS.h (POA_Messaging): Removed the redundant
          <_dispatch> declaration, the compiler did not like the multiple
          declaration stuff. ;)

Fri Sep 10 19:20:11 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/MessagingS.h:
        * tao/MessagingS.cpp:
          Added the missing _dispatch() methods to the Policies, the
          compiler did not like the multiple inheritance madness.

Fri Sep 10 14:05:12 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * orbsvcs/tests/Simple_Naming/client.cpp,
        * orbsvcs/tests/Sched_Conf/Sched_Conf.cpp,
        * orbsvcs/examples/CosEC/Factory/FactoryDriver.cpp,
        * orbsvcs/tests/Sched_Conf/Sched_Conf_Anomalies.cpp: Updated this
          code to store the result of the new get_context() implementation
          described below into a _var so that it'll be cleaned up
          properly.

        * orbsvcs/orbsvcs/Naming/Naming_Utils: Changed the implementation
          of get_context() so that it _duplicate()s the pointer to enable
          it to be stored into a *_var.  Thanks to Timothy Canham
          <Timothy.Canham@jpl.nasa.gov> for suggesting this.

Fri Sep 10 16:11:40 1999  Irfan Pyarali  <irfan@cs.wustl.edu>

        * tao/POAC.h: Added LocalityConstrainedServantBase to the
          PortableServer namespace.

        * tao/MessagingS (Policies): Since messaging policies are always
          collocated, they now use multiple inheritance from the new
          TAO_Locality_Constrained_ServantBase class to get locality
          constraints and POA registration behavior.

        * tao/POA_CORBA.h (Policy): Changed POA_CORBA::Policy to inherit
          from TAO_Locality_Constrained_ServantBase instead of
          TAO_Local_ServantBase when TAO_HAS_LOCALITY_CONSTRAINT_POLICIES
          is turned on.  This will give us the locality constrained
          policies, while still giving the semantics of registering with
          the POA.

          Note that the collocated stubs of most policies still use direct
          access to the servant.  Therefore, if absolutely normal servant
          behavior is desired, these stubs need to be changed to use the
          through POA policy.

        * tao/Servant_Base.h (TAO_Locality_Constrained_ServantBase): Added
          a new class TAO_Locality_Constrained_ServantBase.

          TAO_Local_ServantBase does not register with the POA and does
          not produce a valid stub, i.e., object references of this
          servant cannot be exported.  The (collocated) stubs of these
          servants will always be direct, i.e., call directly to the
          servant and don't call through the POA since this servant is not
          registered with the POA.

          TAO_Locality_Constrained_ServantBase does register with the POA.
          However, it does not produce a valid stub, i.e., object
          references of this servant cannot be exported.  The (collocated)
          stubs of these servants can either call directly to the servant
          or go through the POA.

          Bug 313 was fixed by the above changes.

Fri Sep 10 16:07:45 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/RTCP.cpp (handle_input): Changed to use our
          own fmod method.

Fri Sep 10 15:48:29 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB_Core.cpp:
          When compiling with RT_CORBA disabled there is no need to
          destroy the priority mapping object.  In fact a syntax error
          occurs if we try to destroy it.

Fri Sep 10 14:36:47 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.h:
        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
          Fixed so it will not trigger some bugs in egcs when exceptions
          are enabled.

Fri Sep 10 12:50:12 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/ORB.h:
        * tao/ORB.cpp: Added a method create_exception_tc  within
          CORBA_ORB interface.

Fri Sep 10 12:18:51 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/examples/CosEC/Factory/FactoryServer.dsp:
        * orbsvcs/examples/CosEC/Factory/FactoryClient.dsp:
          Use the -Ge 1 option to generate the CORBA::Environment
          option. Thanks to Joerg Pommnitz <pommnitz@darmstadt.gmd.de> for
          pointing out this problem.

Thu Sep  9 21:30:45 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/ORB.cpp (string_to_object):

          If a NULL string is passed as an argument, throw an exception.
          [Bug 316]

Thu Sep  9 20:49:17 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/source.cpp:
        * orbsvcs/orbsvcs/AV/source.h:
          Added the compare_func function to remove warnings

Thu Sep  9 18:43:24 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB_Core.cpp:
          Fixed memory leak in the ORB, thanks to Nanbor for pointing this
          out.

Thu Sep 09 14:55:05 1999  David L. Levine  <levine@cs.wustl.edu>

        * TAO-INSTALL.html: we now support QNX Neutrino 2.0.

Thu Sep  9 14:49:17 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/tests/EC_Custom_Marshal/run_test.pl:
        * orbsvcs/tests/EC_Multiple/run_test.pl:
        * orbsvcs/tests/EC_Throughput/run_test.pl:
        * orbsvcs/tests/Event_Latency/run_test.pl:
          Don't use -ORBNameServiceIOR anymore, replace with -ORBInitRef.

Wed Sep  9 10:35:12 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tests/AMI/Makefile,
          tests/AMI/simple_client.cpp,
          tests/AMI/ami_test_i.cpp: Introduced ACE_UNUSED_ARG
          to make compilers happy about unused arguments.

        * tests/AMI/client.muxed.conf
          tests/AMI/simple_client_exclusive.conf
          tests/AMI/simple_client_muxed.conf: Removed these files
          because they got replaced by new ones.

Wed Sep 08 16:40:55 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/Exception.cpp (~CORBA_Exception): Rememberred to release the
          typecode pointer.  Otherwise, it caused MLK when sending system
          exceptions.

        * tests/Param_Test/param_test_i.cpp (test_exception): There's no
          need to dupping the string when throwing the Ooops exception.
          The constructor is responsible for dupping the string.

        * tests/Interceptors/server.cpp: Be sure to destroy POA to avoid
          resource leaks.

Wed Sep  8 14:58:12 1999  Ossama Othman  <othman@cs.wustl.edu>

        * orbsvcs/orbsvcs/Naming/Persistent_Naming_Context.cpp (list):

          Changed format type to long instead of int.  This change should
          fix a warning on Digital Unix.

Wed Sep  8 14:30:00 1999  Vishal Kachroo  <vishal@cs.wustl.edu>

        * orbsvcs/tests/Time/run_test.pl:

          Changed -ORBImplRepoServiceIOR file://foo.bar to
          -ORBInitRef ImplRepoService=file://foo.bar.

Wed Sep  8 14:08:49 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.h:
        Fixed warnings on HP_UX
        * orbsvcs/orbsvcs/AV/RTCP.h:
        Added the declaration for the fmod method.
        * orbsvcs/orbsvcs/AV/RTCP.cpp:
        Replaced all the implicit reinterpret casts with
        ACE_reinterpret_casts. Thanks to Bala to point this out.


Wed Sep  8 14:03:58 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * performance-tests/Latency/TestImpl.java:
          The shutdown() method is not implemented in some Java ORBs, we
          are not using that until we can figure out a more portable way
          to stop the ORB.

        * performance-tests/Latency/scalability.pl:
          Fine tuned the number of clients and the execution time of
          them.

Wed Sep  8 14:00:00 1999  Luther Baker  <ljb1@cs.wustl.edu>

        * tao/ORB_Core.cpp: (init) changed to allow correct parsing.
          Problem: comparing and matching longer arguments with shorter
          flags. I moved the else if { } blocks for (-ORBDebug and
          -ORBCollocation) as both these flags were too early in the
          parsing loop and were eating their longer counterparts (ie:
          -ORBDebugLevel) was never reached.  Thanks to Michael Kircher
          for reporting this problem.

Wed Sep  8 13:54:15 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_union_branch.cpp:
          Fixed label value generation for the case where the the
          label is a declared constant value of a typedef'd integer.
          We must generate the underlying integer value, not the
          constant's name, and make sure that a default case is
          included in the CDR operator generation, since more of
          these typedef'd constants may be declared in another
          IDL file or in non-generated code. Also, if the typedef
          is not in global scope, this will enable us to keep the
          CDR operator code inlined (the TAO_NAMESPACE_* code
          generation takes place in the *C.cpp file). Thanks to
          Lars Immisch <lars@ibp.de> for pointing out this use
          case and sending in an example file.

Wed Sep  8 13:49:41 1999  Ossama Othman  <othman@cs.wustl.edu>

        * orbsvcs/tests/start_services:

          Updated the now deprecated -ORBNameServiceIOR usage to use
          -ORBInitRef instead.

Wed Sep 08 13:15:01 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_argument/ami_handler_upcall_cs.cpp:
          Put ACE_UNUSED_ARG in place to stop the complains of g++.

Wed Sep  8 11:45:04 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/ast/ast_field.cpp (dump):
          Replaced an ACE_ASSERT with ACE_ERROR.

Wed Sep  8 10:37:49 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_argument/ami_handler_upcall_cs.cpp:
          Removed some unused args reported by SunOS EGCS.

Wed Sep 08 01:42:01 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be/be_visitor_argument/ami_handler_upcall_cs.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.cpp,
          TAO_IDL/be/be_visitor_operation/argument.cpp,
          TAO_IDL/be_include/be_codegen.h: The upcall for strings as out
          parameter did not work properly due to an superfluous in (). I
          also fixed other data types having the same problems.  Thanks to
          Martin Botzler <martin.botzler@mchp.siemens.de> for reporting
          this.

Tue Sep 07 22:25:01 1999  David L. Levine  <levine@cs.wustl.edu>

        * examples/Load_Balancing/Makefile: don't build with repo=1,
          because ld on Linux (RedHat 6.0) with egcs 2.91.66 seg faults
          when trying to link load_balancer. [Bug 248]

Tue Sep  7 20:26:16 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/params.h:
        * tao/params.i:
        * tao/params.cpp:
        * tao/ORB.cpp:
        * tao/ORB_Core.cpp:

          Removed references to init_ref(). It only held the argument of
          the last -ORBInitRef option, which is pointless if there are
          multiple -ORBInitRef options on the command line.

        * tao/ORB.h:

          Added a default exception argument to each of the
          run() methods.

        * tao/ORB.cpp (ORB_init):

          Make sure an existing ORB hasn't been shutdown before returning
          it.  [Bug 274]

        * tao/ORB.cpp (url_ior_string_to_object):

          Disabled use of TAO_Stub_Auto_Ptr.  A seg fault occurs whenever
          its destructor tries to get a lock on Linux.  This fixes some URL
          style IOR problems.  It's on my TODO list (see bug 307).

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:

          Initialize orb_ in the member initializer list with
          CORBA::ORB::_nil().

          Corrected ACE_NEW_RETURN in init() that returned zero on error
          instead of the correct -1.

          Implemented a destroy() method which is also the implementation
          for the CORBA::ORB::destroy() method.

          Added some missing ACE_THROW_SPEC specifications.

          Added an exception argument to the run() method.

          Deprecated the -ORBNameServiceIOR, -ORBTradingServiceIOR and
          -ORBImplRepoServiceIOR ORB initialization options.  They still
          exist for backward compatiblity.  Their functionality is fully
          supported by the -ORBInitRef option.  Using -ORBInitRef is also
          the standard way of setting such IORs.  [Bugs 300, 301, 302]

        * tao/Exception.h:

          Updated missing descriptions of some CORBA system exceptions.

        * tao/Makefile:

          Updated dependencies.

        * orbsvcs/orbsvcs/Naming/Persistent_Naming_Context.cpp (list):

          Fixed format specifier mismatch warning.

        * orbsvcs/Naming_Service/README:
        * orbsvcs/tests/ImplRepo/run_test.pl:
        * orbsvcs/tests/Simple_Naming/run_test.pl:
        * orbsvcs/tests/Trading/run_test.pl:

          Updated with information about using -ORBInitRef instead of the
          now deprecated -ORB*ServiceIOR options.

Tue Sep  7 19:15:24 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/RTCP.cpp (fmod):
        * orbsvcs/orbsvcs/AV/RTCP.h:
        Added the fmod(x,y) function to calculate the floating point
        remainder of x/y. Thanks to David Levine for suggesting this.

Tue Sep  7 16:38:59 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/Typecode.cpp: Fixed a bug that was a result of the
          duplication of the returned typecodes in the member_type ()
          method in the TypeCode class. Thanks to Nanbor for reporting
          that there was a bug and helping me to identify the problem with
          the Purify output.

Tue Sep  7 11:25:04 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/ntp-time.h:
        Removed warnings on the Single Threaded build
        * orbsvcs/orbsvcs/AV/UDP.cpp:
        Removed the IP_MULTICAST_LOOP undefined error on VXWorks

Tue Sep  7 11:08:11 1999  Darrell Brunsch  <brunsch@cs.wustl.edu>

        * orbsvcs/orbsvcs/orbsvcs.dsp: For some reason,
          RtecEventChannelAdmin.idl was removed from the project file.
          Now it has been readded.

Tue Sep  7 09:16:31 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/ORB.cpp: Fixed a warning with g++. Thanks to Dr.Schmidt &
          Dr.Levine's build for reporting this.

Mon Sep  6 21:28:11 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp
          (disconnect_leaf,remove_fdev): Fixed throw-spec mismatch
          problems.  Thanks to KCC 3.3e for reporting them.

Mon Sep  6 21:07:34 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * orbsvcs/tests/Trading/Simple_Dynamic.h (class TAO_Simple_Dynamic_Property):
        Changed data member from "T dp_" to "const T& dp_" to fix Sun g++
        linking error.Thanks to Bala for helping out.

Mon Sep  6 20:59:26 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * docs/Options.html: Updated the documentation to point out that
          the various -ORB*ServiceIOR options are deprecated and should be
          replaced by -ORBInitRef.  Thanks to Marina and Ossama for
          pointing this out.

Mon Sep  6 16:41:24 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/Naming/Transient_Naming_Context.cpp: Also
          removed a redundant template instantiation for
          TAO_Bindings_Iterator<BLAH,BLAH,BLAH,<.....>>.

Mon Sep  6 15:06:52 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp: Fixed warnings on HP-UX

Mon Sep  6 13:32:30 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * docs/compiler.html: Added information the macros that TAO_IDL uses
          to determine the default external preprocessor.

Mon Sep  6 08:59:26 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp: Fixed a stray ';' at the end of
          ACE_TRY_EX().

        * tao/ORB_Core.cpp (init): Removed all the unnecessary uses of

          if ((offset = foo ()) != -1)

          because they all seemed unnecessary.  Thanks to David Levine for
          reporting this.

Mon Sep 06 03:40:22 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/Naming/Persistent_Naming_Context.cpp: Removed a
          redundant template instantiation for TAO_Bindings_Iterator<BLAH,
          BLAH,BLAH,<.....>,.<<......................................>>>.

        * tao/ORB_Core.cpp (init): KCC 3.3e was complaining about <offset>
          was set but not being used.  Added ACE_UNUSED_ARG (offset) to
          quiet it down.

Mon Sep 06 03:10:41 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV.dsp:
        * orbsvcs/orbsvcs/orbsvcs.dsp:
        * orbsvcs/orbsvcs/orbsvcs.dsw:
        * orbsvcs/orbsvcs/orbsvcs_static.dsp: AV service does not build on
          VC6.  Separated AV service from orbsvcs projects into its own
          project file so people who are not working on AV stream service
          can move forward.  We can move it back into orbsvcs if needs
          to.  There's only DLL project settings available and the
          generated libraries are called orbsvcsAV[d].dll.

        * orbsvcs/orbsvcs/AV/AV_export.h: AV Stream now has its own export
          macro file.

        * orbsvcs/orbsvcs/AV/AVStreams_i.h:
        * orbsvcs/orbsvcs/AV/AV_Core.h:
        * orbsvcs/orbsvcs/AV/Endpoint_Strategy.h:
        * orbsvcs/orbsvcs/AV/Endpoint_Strategy_T.h:
        * orbsvcs/orbsvcs/AV/FlowSpec_Entry.h:
        * orbsvcs/orbsvcs/AV/Flows_T.h:
        * orbsvcs/orbsvcs/AV/Nil.h:
        * orbsvcs/orbsvcs/AV/Policy.h:
        * orbsvcs/orbsvcs/AV/Protocol_Factory.h:
        * orbsvcs/orbsvcs/AV/RTCP.h:
        * orbsvcs/orbsvcs/AV/RTP.h:
        * orbsvcs/orbsvcs/AV/TCP.h:
        * orbsvcs/orbsvcs/AV/Transport.h:
        * orbsvcs/orbsvcs/AV/UDP.h:
        * orbsvcs/orbsvcs/AV/sfp.h:  Changed to include AV_Export.h and/or
          to use TAO_AV_Export macro.

Sat Sep 05 01:05:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_operation/ami_handler_arglist.cpp:
          Fixed default cases in two switch statements.

        * TAO_IDL/be/be_visitor_root/root.cpp:
          Fixed default case in switch statements.

Sun Sep 05 23:04:21 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/IIOP_Connector.cpp,UIOP_Connector.cpp:
          use the explicit template instantiations even with ACE_HAS_GNU_REPO.
          g++ 2.91.66 misses them with -frepo, when building static
          libs. [Bug 248]

Sun Sep  5 21:28:16 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * TAO_IDL/ast/ast_field.cpp (dump): To shutup various compilers
          I added an ACE_ASSERT() macro if the vis_NA case shows up in the
          dump() method.  However, this isn't a good long-term fix!

Sun Sep  5 17:50:04 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/ORB.h:
        * tao/ORB.cpp: Added two methods by name create_interface_tc () &
          create_enum_tc () under the CORBA_ORB namespace. This was added
          for Philippe Merle <Philippe.Merle@lifl.fr> who is interested in
          running CORBA Script on TAO.

Sun Sep  5 16:03:54 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/media-timer.cpp:
        * orbsvcs/orbsvcs/AV/FlowSpec_Entry.cpp:
        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
        Fixed warnings on VxWorks

Sun Sep 05 08:28:51 1999  David L. Levine  <levine@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_interface/any_op_cs.cpp (visit_interface):
          added " || defined (ACE_HAS_GNU_REPO)" to explicit instantiation
          preprocessor test.  With ACE_HAS_GNU_REPO, g++ 2.91.66 fails to
          instantiate TAO_Object_Field_T on its own. [Bug 248]

Sun Sep 05 08:22:32 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Naming/Persistent_Naming_Context.cpp,
          Transient_Naming_Context.cpp
          use the explicit template instantiations for all instantiations,
          not just TAO_Bindings_Iterator, even with ACE_HAS_GNU_REPO.
          g++ 2.91.66 misses (some of) them with -frepo. [Bug 248]

Sat Sep 05 02:00:00 1999  Luther J. Baker  <ljb1@cs.wustl.edu>

         * ORB_Core.cpp: Part 1 of two part incremental change to allow
           ORB_init to correctly parse 'mangled' orb flags and arguments
           ie -ORBflag 123, -orbflag 123, -oRbfLAg123, "-orbflag123"
           Please note, my day is incorrect. It is Sun... but this is
           the associated ChangeLogTag for the file.

Sat Sep 05 02:05:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/driver/drv_preproc.cpp:
          The exit code argument of Process::wait changed from
          "int" to "ACE_exitcode".

Sat Sep 04 19:10:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tests/AMI/simple_client_muxed.conf,
          tests/AMI/simple_client_exclusive.conf:
          Removed these files and replaced them with more general ones.

        * tests/AMI/muxed.conf,
          tests/AMI/exclusive.conf: Added as replacement for the above
          mentioned files.

        * tests/AMI/ami_test.idl,
          tests/AMI/run_test.pl:
          Made some fine tuning.

Sat Sep  4 19:24:40 1999  Ossama Othman  <othman@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_argument/ami_arglist.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_handler_arglist.cpp:

          Fixed "unhandled enumeration in switch statement" warnings by
          adding a no-op default case to each switch statement.

        * TAO_IDL/Makefile:

          Removed -Wno-switch warning surpression flag from g++ compile
          flags.  It is no longer needed, and we shouldn't have been using
          it.

Sat Sep  4 18:47:58 1999  Ossama Othman  <othman@cs.wustl.edu>

        * TAO_IDL/driver/drv_preproc.cpp (DRV_pre_proc):

          Exit status of preprocessor process was incorrectly checked
          without using WIFEXITED and WEXITSTATUS macros.

          Added check for case where preprocessor child process may have
          been interrupted by a signal, instead of exiting properly.

        * TAO_IDL/Makefile:

          Corrected logic that checks when to define a default value for
          TAO_IDL_PREPROCESSOR.

Sat Sep 03 18:30:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/Asynch_Invocation.i,
          tao/Reply_Dispatcher.cpp,
          tao/Reply_Dispatcher.h:
          Changed the Asynch Reply Dispatcher to own its own
          reply_service_info. This is different from the synchronous
          case, in which the Invocation object holds it and just
          gives the Reply Dispatcher a reference to it.

        * tao/TAO.dsp:
          Added Asynch_Invocation.i and Invocation.i to the inline files.


Sat Sep 03 16:55:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tests/AMI/ami_test.idl,
          tests/AMI/ami_test_i.cpp,
          tests/AMI/ami_test_i.h,
          tests/AMI/client.cpp,
          tests/AMI/simple_client.cpp:
          Enhanced the test to have a string as an in parameter.

Sat Sep 04 09:05:16 1999  David L. Levine  <levine@cs.wustl.edu>

        * TAO_IDL/Makefile: ran make depend so that tao_idl will build
          again.

Sat Sep  4 00:18:49 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/DynUnion_i.cpp :
        * tao/DynAny_i.cpp:
        * tao/DynArray_i.cpp:
        * tao/DynSequence_i.cpp:
        * tao/DynStruct_i.cpp:
        * tao/DynUnion_i.cpp:
        * tao/Typecode.cpp:
        * tao/decode.cpp:
        * tao/deep_free.cpp:
        * tao/skip.cpp: Fixed warnings on SunCC 5.0 & Linux_EGCS

Sat Sep 03 00:13:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/append.cpp,
          tao/decode.cpp,
          tao/encode.cpp,
          tao/deep_free.cpp,
          tao/skip.cpp:
          Fixed a compilation ambiguity by using "in ()" on
          the "vars" assigned to "ptrs".

Fri Sep  3 23:31:11 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/deep_free.cpp:
        * tao/DynStruct_i.cpp:
        * tao/DynUnion_i.cpp:
        * tao/DynArray_i.cpp:
        * tao/DynAny_i.cpp:
        * tao/append.cpp:
        * tao/decode.cpp:
        * tao/deep_free.cpp:
        * tao/encode.cpp:
        * tao/skip.cpp:
        * tao/TypeCode.cpp:
        * orbsvcs/orbsvcs/Trader/Constrain_Nodes.cpp:
        * orbsvcs/orbsvcs/Trader/Trader.cpp:
          CORBA::TypeCode::content_type(),
          CORBA::TypeCode::discriminator_type(),
          CORBA::TypeCode::member_type() were the methods in which the
          returned TypeCode's were not duplicated. Thanks to Phillippe
          Merle <Philippe.Merle@lifl.fr> for reporting this.

          The actual fix involved only duplicating the returned typecodes
          in the implementation of the above three methods in
          Typecode.cpp. Other files where checked to find whether the
          above methods were used. If used then the Typcode variable need
          t release memory that was returned to avoid memory leak. So in
          the places where the calls were made, the return value from
          these methods were held in T_var to avoid leaks. At the point of
          checkin compilation on Sun_EGCS went without any problems.

Fri Sep  3 22:52:25 1999  Ossama Othman  <othman@cs.wustl.edu>

        * TAO_IDL/Makefile:

          Removed extraneous space between macro and macro definition in
          compiler flags make variable.

Fri Sep  3 17:54:57 1999  Mike Moran  <mm4@cs.wustl.edu>

        * examples/Advanced/ch_21
          Added H&V's chapter 21 example to the repo.

        * examples/Advanced/TO-DO
          Added a "to do" list for the Henning/Vinoski examples.

Fri Sep 03 17:48:49 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * docs/releasenotes/index.html:
        * docs/interceptors.html: Added interceptor related information.

Fri Sep  3 14:40:13 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * rules.tao.GNU:
        * TAO_IDL/Makefile:
        * TAO_IDL/Makefile.bor:
        * TAO_IDL/idl_make_vars:
        * TAO_IDL/driver/Makefile.am:
          Changed CPP_LOCATION to TAO_IDL_PREPROCESSOR.  If CPP_LOCATION
          is defined, still use it but display a warning message.

        * TAO_IDL/driver/drv_init.cpp:
        * TAO_IDL/driver/drv_preproc.cpp:
          Cleaned up the way TAO_IDL picks the external preprocessor.
          It now checks for TAO_IDL_PREPROCESSOR and TAO_IDL_PREPROCESSOR_ARGS
          environment variables at run time (it will still use CPP_LOCATION and
          TAO_IDL_DEFAULT_CPP_FLAGS, but displays a warning message).

          Otherwise, it will use its default, which is set to one of
          the following:
          1. TAO_IDL_PREPROCESSOR/_ARGS macros, if defined
          2. else ACE_CC_PREPROCESSOR/_ARGS macros, if defined
          3. else "cc" and "-E"

        * docs/compiler.html:
        * TAO-INSTALL.html:
          Cleaned up documentation and added information about the
          TAO_IDL_PREPROCESSOR* environment variables.

          Thanks to Christopher Kohlhoff <chris@kohlhoff.com> and
          Adrian Mercieca <adrian@anvil.co.uk> for first reporting this.

Fri Sep  3 13:34:17 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/DynArray_i.cpp:
        * tao/DynSequence_i.cpp:
        * tao/DynStruct_i.cpp:
        * tao/DynUnion_i.cpp:
          In each current_component() method, added a
          CORBA_DynAny::_duplicate before returning the
          member, so it can be used in a _var. Thanks to
          Phillippe Merle <Philippe.Merle@lifl.fr> for pointing
          this out.

Fri Sep  3 12:13:19 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * docs/releasenotes/index.html:
          Added status information for the upcomming CORBA Telecom Log
          Service.

Fri Sep  3 09:36:17 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * tests/Interceptors/interceptors.cpp (postinvoke):
        * tests/Interceptors/interceptors.cpp (preinvoke):

          Replaced static casts to reinterpret cast to ward off warnings.

Thu Sep 03 05:00:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/Reply_Dispatcher.cpp:
          Changed the method TAO_Synch_Reply_Dispatcher::dispatch_reply
          to not release the old service context buffer.
          This needs to be verified by Carlos to see if it is the right
          thing to do. Releasing it caused an access violation.
          This passage of the source code needs to be documented.

        * tests/AMI/run_test.pl,
          tests/AMI/simple_client.cpp:
          Enhanced the example to fully support attributes.

        * TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be/be_visitor_operation.cpp,
          TAO_IDL/be_include/be_visitor_operation.h,
          TAO_IDL/be_include/be_visitor_operation\ami_handler_operation_ss.h
          TAO_IDL/be_include/be_visitor_operation\ami_handler_operation_ss.cpp:
          Cleaned up the naming conventions to make AMI code
          generation more readable. The ami_handler_operation_ss files
          were introduced to support this.

        * TAO_IDL/be_include/be_visitor_operation\ami_handler_servant_operation_ss.h
          TAO_IDL/be_include/be_visitor_operation\ami_handler_servant_operation_ss.cpp:
          These files got replaced by ones with different names. See comment above.

        * TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_sh.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.cpp:
          Fixed a the generation of the names for attributes.
          AMI works now fine with attributes!


Thu Sep 03 01:30:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tests/NestedUpcall/Triangle_Test/Object_A_i.cpp,
          tests/NestedUpcall/Triangle_Test/Object_A_i.h,
          tests/NestedUpcall/Triangle_Test/Object_B_i.cpp,
          tests/NestedUpcall/Triangle_Test/Object_B_i.h,
          tests/NestedUpcall/Triangle_Test/Triangle_Test.idl:
          According to the changes in the IDL compiler, which
          made it conforming to the CORBA spec, some minor
          bugs were fixed. These were that identifier
          spellings only differed in case.

Thu Sep  2 22:14:59 1999  Pradeep Gore  <pradeep@danzon.cs.wustl.edu>

        * example/simple/chat/Broadcaster.idl:
          modified parameter names to avoid idl compiler errors.

Thu Sep 02 20:23:44 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/source.cpp:
        * orbsvcs/orbsvcs/AV/MCast.cpp:
        * orbsvcs/orbsvcs/AV/Policy.cpp: The inline files were not
          included in the cpp files when inlining was disable.

        * orbsvcs/orbsvcs/orbsvcs.dsp:
        * orbsvcs/orbsvcs/orbsvcs_static.dsp: Tons of AV related files
          were missing.  Also added TAO_ORBSVCS_HAS_Trader to avoid
          defining TAO_String_Hash_Key twice.

Thu Sep  2 17:56:29 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/util/utl_scope.cpp:
        * TAO_IDL/include/utl_error.h:
        * TAO_IDL/util/utl_error.cpp:
          Added a check for name clash between an identifier
          being declared and any others referenced in that
          scope. Also added a method to output a redefinition
          error messsage that takes string args. The existing
          one that takes AST_Decl args would print the entire
          scoped name of the referenced identifier, and that
          would be confusing (only the top level component is
          'in' the scope and can cause a collision). Thanks to
          Kristopher Johnson <kjohnson@gardnersys.com> for
          reporting the bug and to Jonathan Biggar <jon@floorboard.com>
          for his clarification of the 2.3 spec changes.

Thu Sep  2 17:30:48 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/corbafwd.h:
          Added long-missing forward declarations of Dyn*_var and all typedefs
          of Dyn* in the CORBA namespace. Thanks to
          Phillippe Merle <Philippe.Merle@lifl.fr> for pointing this
          out.

Thu Sep 02 15:15:48 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_operation/ami_cs.cpp (gen_marshal_and_invoke):
        * TAO_IDL/be/be_visitor_operation/operation_ami_cs.cpp
          (gen_marshal_and_invoke):  Added prepare_header calls after
          invocation.start().  Thanks to Michael for reporting this.

Thu Sep 02 14:04:23 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Naming/Persistent_Context_Index.cpp:
          use the explicit template instantiations even with ACE_HAS_GNU_REPO.
          g++ 2.91.66 misses them with -frepo. [Bug 248]

Thu Sep  2 11:45:29 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/ntp-time.h:
        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
        * orbsvcs/orbsvcs/AV/AV_Core.h :
        * orbsvcs/orbsvcs/AV/MCast.cpp:
        * orbsvcs/orbsvcs/AV/Policy.cpp:
        * orbsvcs/orbsvcs/AV/source.cpp:
        * orbsvcs/orbsvcs/AV/RTCP.cpp:
        * orbsvcs/orbsvcs/AV/TCP.cpp:
        * orbsvcs/orbsvcs/AV/Transport.cpp:
        * orbsvcs/orbsvcs/AV/UDP.cpp :
        * orbsvcs/orbsvcs/AV/media-timer.cpp:
        * orbsvcs/orbsvcs/AV/ntp-time.h:
        * orbsvcs/orbsvcs/AV/sfp.cpp: Fixed warnings & errors on
          NT. Thanks to Michael Kircher & Andy for reporting these.

Thu Sep 02 10:47:23 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/be/be_codegen.cpp (start_client_header): Changed to
          include <tao/corbafwd.h> intead of <tao/corba.h> in client
          header when generating locality constraint objects.  Thanks to
          Carlos for suggesting that.

Thu Sep  2 07:54:17 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/decode.cpp:
        * tao/deep_free.cpp:
        * tao/encode.cpp:
          Fix to pointer alignment adjustment calculation in
          TAO_Marshal_Struct::*. The old one was failing with
          Borland Builder. Thanks to
          Christopher Kohlhoff <chris_kohlhoff@yahoo.com> for
          sending in the Borland fix and his efforts to find a
          single portable one.

Wed Sep  1 20:27:47 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/ntp-time.h:
        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
        * orbsvcs/orbsvcs/AV/AVStreams_i.h:
        * orbsvcs/orbsvcs/AV/FlowSpec_Entry.cpp:
        * orbsvcs/orbsvcs/AV/Policy.cpp:
        * orbsvcs/orbsvcs/AV/Protocol_Factory.cpp:
        * orbsvcs/orbsvcs/AV/RTCP.cpp :
        * orbsvcs/orbsvcs/AV/RTP.cpp:
        * orbsvcs/orbsvcs/AV/TCP.cpp:
        * orbsvcs/orbsvcs/AV/Transport.cpp:
        * orbsvcs/orbsvcs/AV/UDP.cpp:
        * orbsvcs/orbsvcs/AV/media-timer.cpp:
        * orbsvcs/orbsvcs/AV/media-timer.h:
        * orbsvcs/orbsvcs/AV/source.cpp: Fixed warnings/errors in SunOS5.0
          with exceptions turned on. Also tested on Linux EGCS

Wed Sep  1 21:17:17 1999  Nagarajan Surendran  <naga@cs.wustl.edu>

        * tao/default_resource.{h,cpp}: Added support for ORBReactorType
          option for TkReactor.  Thanks to Philipp Slusallek
          <slusallek@graphics.stanford.edu> for reporting this.

Wed Sep  1 20:27:47 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
        * orbsvcs/orbsvcs/AV/sfp.cpp : Fixed warnings on SunOS EGCS. This
          is with native exceptions disabled.

Wed Sep  1 19:18:53 1999  Nagarajan Surendran  <naga@cs.wustl.edu>

        * orbsvcs/orbsvcs/Makefile :  Added the missing AV files to the AV
          sources.

Wed Sep  1 17:08:12 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO/tao/IIOP_Connect.i:
        * TAO/tao/IIOP_Connect.cpp:
        * TAO/tao/UIOP_Connect.i:
        * TAO/tao/UIOP_Connect.cpp:
          Moved virtual methods the the .cpp file, there is no sense in
          inlining them.

        * TAO/tao/corbafwd.h:
          Defined protocol TAG for the Boeing custom protocol.

        * TAO/tao/Profile.h:
          Minor cosmetic fixes

Wed Sep 01 16:32:53 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/IORS.h:
          The copy constructor is private and unimplemented to avoid any
          copying.

        * tao/TAO.dsp:
        * tao/TAO_Static.dsp:
          Added new files Profile.{h,i,cpp}

Wed Sep 01 16:04:31 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Naming/Persistent_Naming_Context.cpp,
          Transient_Naming_Context.cpp
          use the explicit TAO_Bindings_Iterator template instantiation
          even with ACE_HAS_GNU_REPO.  g++ 2.91.66 misses it with -frepo.
          [Bug 248]

Wed Sep  1 14:36:09 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/IORS.h: Added TAO_Export to all classes.  Thanks to Dmitry
          Goldshtain <Goldshtain@bank.gov.ua> for reporting this.

Wed Sep  1 13:14:09 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_argument/pre_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_pre_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_vardecl_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_post_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/compiled_marshal.cpp:
          Changed generated operation code so that ACE_NEW_RETURN returns
          _tao_retval instead of 0, which does not work for enum return
          types. Had to change some other names around to avoid
          clashes. Thanks to Sharo Randall <rasb@eci.esys.com> for
          pointing this out.

Wed Sep  1 12:37:25 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Makefile:
        * tao/Pluggable.h:
        * tao/Pluggable.i:
        * tao/Pluggable.cpp:
        * tao/Profile.h:
        * tao/Profile.i:
        * tao/Profile.cpp:
          Move the TAO_Profile class to its own file.
          The base class now implements the methods to access and
          manipulate the tagged components of the profile.

        * tao/MProfile.h:
        * tao/Acceptor_Registry.cpp:
          Needs to include the new Profile file.

        * tao/Invocation.cpp:
          If the TAO_USE_PRIORITY_POLICY macro is defined the ORB will use
          the profile that matches the current thread priority.

        * tao/Tagged_Components.cpp:
          Fixed several bugs in the demarshaling code.

        * tao/UIOP_Profile.h:
        * tao/UIOP_Profile.i:
        * tao/UIOP_Profile.cpp:
        * tao/IIOP_Profile.h:
        * tao/IIOP_Profile.i:
        * tao/IIOP_Profile.cpp:
          The tagged component access and manipulation code is in the base
          class now.

        * tao/Pool_Per_Endpoint.cpp:
        * tao/Reactor_Per_Priority.cpp:
          Only print debugging messages if the debug level is high
          enough.

        * tests/Endpoint_Per_Priority/Makefile:
        * tests/Endpoint_Per_Priority/client.conf:
        * tests/Endpoint_Per_Priority/client.cpp:
        * tests/Endpoint_Per_Priority/server.conf:
        * tests/Endpoint_Per_Priority/test.idl:
        * tests/Endpoint_Per_Priority/test_i.h:
        * tests/Endpoint_Per_Priority/test_i.cpp:
          Modified the test to pass an application level id of the client
          thread to the server. This is used to verify that the request
          actually executes at the right level on the server-side.
          The client receives the number and priorities of the threads on
          the command line.

Wed Sep  1 12:30:23 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/MessagingS.cpp:
          Forgot to remove the 'return new...' line when replacing
          with 'ACE_NEW_RETURN...'. DU caught it.

Wed Sep  1 10:56:57 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * tao/IORManipulation.h: Added a TAO Export macro to
          TAO_IOR_Manipulation_impl.  Thanks to Goldshtain Dmitry
          <goldshtain.dmitry@usa.net> for reporting this.

Wed Sep  1 10:48:28 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/IDL_Test/sequence.idl:
          Added nested sequence examples to this file.

Wed Sep  1 09:52:18 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_sequence.cpp:
        * TAO_IDL/be/be_visitor_sequence/cdr_op_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_co.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_ch.cpp:
          Changes to enable code generation for nested IDL sequences. Any
          number of levels of nesting will work. Thanks to Lars Immisch
          <lars@ibp.de> for sending in the example that got the ball
          rolling.

Wed Sep  1 07:09:06 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/AMI/simple_client.cpp:
          Removed an extra "*/".

Wed Sep 01 04:53:39 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/IIOP_Transport.cpp (start_request):
        * tao/UIOP_Transport.cpp (start_request): Fixed unused variable
          warnings.

Wed Sep 01 04:04:49 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/Invocation.h:
        * tao/Invocation.cpp (prepare_header): Extracted the code that
          builds the request header out from transport->start_request.
          The problem with putting the requst header builder in
          transport->start_request was that it built the request header
          pre-maturely.  And when interceptors have a change to modify the
          service context list, the change wouldn't get to put into the
          header.  We can build the request header directly from
          GIOP_Invocation directly because all the pieces of information
          required to build the header are carried by the Invocation
          class. The disadvantage of this change is that, we'll need to
          call the <prepare_header> method explicitly in stubs which
          somehow increase the footprint a bit.  We may need to improve
          this so for people don't need interceptors, TAO can still be
          mean and lean.

        * tao/Asynch_Invocation.cpp:
        * tao/Invocation.cpp (start): The signature of
          transport_->start_request has been changed.

        * tao/Pluggable.h:
        * tao/Pluggable.cpp:
        * tao/IIOP_Transport.h:
        * tao/IIOP_Transport.cpp:
        * tao/UIOP_Transport.h:
        * tao/UIOP_Transport.cpp: (start_request): Since the header
          builder has been moved to GIOP_Invocation, this method no longer
          needs that many arguments.

        * tao/Object.cpp: Fixed remote method invocation code (to call
          prepare_header explicitly.)

        * tao/Stub.cpp (do_static_call,do_dynamic_call): Fixed remote
          method invocation code.

        * tao/DomainC.cpp:
        * tao/InterfaceC.cpp
        * tao/POAC.cpp:
        * tao/PolicyC.cpp:
        * tao/PollableC.cpp: Fixed remote method invocation code.

        * TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp:  Generated
          stubs also need call <prepare_header> explicitly.

        * tests/Interceptors/interceptors.cpp: Turned on the service
          context list testing code.  Fixed incorrect message id check.

Tue Aug 31 21:04:58 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp
          (get_control_callback,get_callback,set_protocol_object):  Fixed
          "*/ found outside of comment" warnings.

Tue Aug 31 20:35:56 1999  Nagarajan Surendran  <naga@cs.wustl.edu>

        * orbsvcs/tests/AVStreams/sfp:
          Removed the files in this drectory as this test is superseded by
          the new set of tests under the Pluggable directory.

        * orbsvcs/tests/AVStreams/Makefile:
          Updated the Makefile to include the new AV tests.

Tue Aug 31 18:07:35 1999  Nagarajan Surendran  <naga@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/:
          The modififed implementation of the A/V Streaming Service now
          fully supports the Full Profile interfaces like FDev,
          FlowConnection, FlowEndPoint. It also support the
          Point-to-MultiPoint binding and MultiPoint-to-MultiPoint
          binding. The implementation provides a pluggable protocols
          framework for flow protocols like SFP, RTP and also for
          transport protocols like TCP, UDP and ATM. It provides an
          extensible Policy framework to add new policies for flow
          protocols. There's also an implementation of
          MultiPoint-to-MultiPoint binding.

          For more documentation, please check
          http://www.cs.wustl.edu/~naga/pluggable_av.ps.gz

          The following files have been newly added.

        * orbsvcs/orbsvcs/AV/Transport.{h,cpp}:
          Provides generic transport related interaces.

        * orbsvcs/orbsvcs/AV/TCP.{h,cpp}:
          These files contain the TCP Null flow protocol layer and the TCP
          transport interfaces.

        * orbsvcs/orbsvcs/AV/UDP.{h,cpp}:
          These files contain the UDP Null flow protocol layer and the UDP
          transport interfaces.

        * orbsvcs/orbsvcs/AV/MCast.{h,cpp}:
          These files contain the UDP Multicast related transport interfaces.

        * orbsvcs/orbsvcs/AV/RTP.{h,cpp}:
        * orbsvcs/orbsvcs/AV/RTCP.{h,cpp}:
        * orbsvcs/orbsvcs/AV/source.{h,cpp}:
          Provides a RTP/RTCP implementation based on Vic (a Videoconferencing
          tool developed at U Cal Berkeley).

        * orbsvcs/orbsvcs/AV/Policy.{h,cpp}:
          Provides the Policy related classes for the pluggable protocols framework.

        * orbsvcs/orbsvcs/AV/Protocol_Factory.{h,cpp}:
          Provides the generice interfaces for flow protocol factories and
          transport factories.

        * orbsvcs/orbsvcs/AV/Flows_T.{h,cpp}:
          FDev implementation classes.

        * orbsvcs/orbsvcs/AV/FlowSpec_Entry.{h,cpp,i}:
          Moved the Flow Spec Entry classes from AVStreams_i.* files to
          these.

        For additional modification that was done during the branch please
        check $TAO_ROOT/orbsvcs/orbsvcs/AV/pluggable_av_log.

        * orbsvcs/tests/AVStreams/Pluggable:
          This directory provides a simple file transfer test using the
          pluggable protocols framework and runs over TCP  Null layer, UDP
          Null layer, SFP and RTP using the light profile interfaces.

        * orbsvcs/tests/AVStreams/Full_Profile:
          This directory provides the same file transfer test as in
          Pluggable directory using the Full Profile interfaces.

        * orbsvcs/tests/AVStreams/Multicast:
          This directory provides a file transfer test using the
          point-to-multipoint binding in AV using light profile interfaces.

        * orbsvcs/tests/AVStreams/Multicast_Full_Profile:
          Multicast file transfer test using the point-to-multipoint binding
          for full profile interfaces.

Tue Aug 31 17:59:14 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
          Minor change to idl.yy to allow output of error message
          when error is of the form:
                struct foo {
                                char bar;
                                sequence<bar> boink;
                           };
          Previously, IDL compiler would generate no code for the
          sequence and output no error message. This would happen
          also in unions and with bounded member sequences.

Tue Aug 31 14:23:55 1999  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

        * tao/UIOP_Connector.cpp:  Also rearranged the code so that it'll
          compile properly.

Tue Aug 31 14:17:44 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * tao/IIOP_Connector.cpp: Rearranged the code so that it'll
          compile properly.  Thanks to Bala for reporting this.

Tue Aug 31 13:33:48 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * examples/Quoter/Makefile:
          The dependencies where broken so the test wouldn't compile.

Tue Aug 31 00:16:34 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * Added a series of fixes that allow TAO to build and
          run cleanly with SunC++ 5.0 and Solaris 7 even when debugging is
          NOT enabled.  These changes require moving the explicit template
          instantiations from the BOTTOM of the *.cpp files to near the
          top.  Thanks to Robert Shewan <rshew@peri.com> for reporting
          this.

Tue Aug 31 9:25:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/TAO.dsp:
          Added the files Linear_Priority_Mapping.{h,i,cpp}
          and Direct_Priority_Mapping.{h,i,cpp}

Tue Aug 31 8:15:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_attribute/attribute.cpp
          TAO_IDL/be/be_visitor_interface/interface.cpp
          TAO_IDL/be/be_visitor_operation/ami_ch.cpp
          TAO_IDL/be/be_visitor_operation/ami_cs.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ch.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_servant_operation_ss.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.cpp:
          Fixed bugs in the code generation for attributes when
          compiling in AMI mode.

        * tests/AMI/simple-client.cpp,
          tests/AMI/simple_client.dsp,
          tests/AMI/client.dsp,
          tests/AMI/server.dsp,
          tests/AMI/test.idl
          tests/AMI/test_i.cpp,
          tests/AMI/client.conf,
          tests/AMI/simple-client-exclusive.conf,
          tests/AMI/simple-client-muxed.conf,
          tests/AMI/client-global.conf,
          tests/AMI/test_i.i:
          Removed these files because they got replaced by new ones.

        * tests/AMI/ami_test.idl,
          tests/AMI/ami_test_i.cpp,
          tests/AMI/ami_test_i.h,
          tests/AMI/simple_client_exclusive.conf,
          tests/AMI/simple_client_muxed.conf,
          tests/AMI/AMI_Test_Client.dsp,
          tests/AMI/AMI_Test_Simple_Client.dsp,
          tests/AMI/AMI_Test_Server.dsp:
          Added these files for the new generation of AMI tests.

        * tests/AMI/Makefile,
          tests/AMI/run_test.pl,
          tests/AMI/ami_test.dsw,
          tests/AMI/simple_client.cpp,
          tests/AMI/client.cpp,
          tests/AMI/server.cpp:
          Modified these files to make the test more readable
          and less MT_Client cut&paste like.


Mon Aug 30 23:24:35 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Makefile:
        * tao/Priority_Mapping.h:
        * tao/Priority_Mapping.cpp:
        * tao/Direct_Priority_Mapping.cpp:
        * tao/Direct_Priority_Mapping.h:
        * tao/Direct_Priority_Mapping.i:
        * tao/Linear_Priority_Mapping.cpp:
        * tao/Linear_Priority_Mapping.h:
        * tao/Linear_Priority_Mapping.i:
        * tao/default_resource.h:
        * tao/default_resource.cpp:
          The TAO_Priority_Mapping class is trivial now, two derived
          classes implement simple priority mapping strategies.
          Linear_Priority_Mapping uses a linear map between the full range
          of priorities in a scheduling class to the full range of
          CORBA priorities.
          Direct_Priority_Mapping uses a simpler mapping where a suitable
          offset is used to map the minimum CORBA priority to the minimum
          native priority.

        * tao/Messaging_Policy_i.h:
        * tao/Messaging_Policy_i.cpp:
          Use ServantBase_var for exception safety.

        * tao/RT_Current.h:
          Need "tao/Exception.h" for platforms that implement throw specs.

        * tao/ORB_Core.cpp:
        * tao/Single_Reactor.cpp:
          Minor cosmetic fixes.

        * tao/Pool_Per_Endpoint.h:
        * tao/Pool_Per_Endpoint.i:
        * tao/Pool_Per_Endpoint.cpp:
          Added option to control the thread creation flags.

        * tests/Endpoint_Per_Priority/Makefile:
          Updated dependencies.

        * tests/Endpoint_Per_Priority/server.cpp:
          Use the new <flags> option in the Pool_Per_Endpoint strategy.

Mon Aug 30 17:10:30 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * TAO-INSTALL.html: Added a note on Connection Caching feature
          which contains the "-fsquangle" option info too.

Mon Aug 30 17:16:27 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_scope.cpp:
          Removed unused arg in function
          last_inout_or_out_node ().

Mon Aug 30 17:10:24 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tests/Interceptors/interceptors.cpp: Fixed erronous format
          specifiers.

Mon Aug 30 10:43:21 1999  Ossama Othman  <othman@cs.wustl.edu>

        * PROBLEM-REPORT-FORM:

          Updated to point to refer reports tao-bugs mailing list.

        * tao/Exception.h:
        * tao/orbconf.h:

          Comment updates.

Mon Aug 30 15:58:44 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/TAO.dsp:
        * tao/TAO_Static.dsp:
          Added the new files to the MSVC projects.

Mon Aug 30 15:56:09 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tests/Interceptors/Makefile: Updated dependencies.

Mon Aug 30 15:15:39 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Makefile:
        * tao/orbconf.h:
        * rules.tao.GNU:
          Added a number of new classes to implement the
          endpoint-per-priority concurrency strategy.  In this strategy
          each priority level is assigned a different reactor, threads use
          the reactor for their priority level; acceptors are also bound
          to the reactor of their priority level, as specificied in the
          command-line.
          Since the priority is embedded in the IOR using a tagged
          component the client can use that to select which endpoint it
          will use, preserving priority end-to-end (the client-side is not
          implemented yet).
          This achieves total isolation of threads running at different
          priorities.

        * tao/Pool_Per_Endpoint.h:
        * tao/Pool_Per_Endpoint.i:
        * tao/Pool_Per_Endpoint.cpp:
          Helper class that creates the threads to run the ORB based on
          the endpoints (and their priorities) as specified in the
          command-line.
          The user is not required to create the threads using this class,
          but it is much simpler to do so.

        * tao/Reactor_Registry.h:
        * tao/Reactor_Registry.i:
        * tao/Reactor_Registry.cpp:
          A new abstraction to control the number of reactors created by
          the ORB. This class also decides which reactor handles which
          endpoint and which reactor is used by each thread.

        * tao/Single_Reactor.h:
        * tao/Single_Reactor.i:
        * tao/Single_Reactor.cpp:
        * tao/Reactor_Per_Priority.h:
        * tao/Reactor_Per_Priority.i:
        * tao/Reactor_Per_Priority.cpp:
          Two simple implementations of the Reactor_Registry strategy. The
          first one creates a single reactor for the ORB. The second one
          creates a new reactor for each priority level.

        * tao/rtcorbafwd.h:
        * tao/rtcorbafwd.i:
        * tao/rtcorbafwd.cpp:
          Some of the new features use types and interfaces defined in the
          RTCORBA spec, we added a

        * tao/Priority_Mapping.h:
        * tao/Priority_Mapping.i:
        * tao/Priority_Mapping.cpp:
          Base class and default implementation for the
          RTCORBA::PriorityMapping native type.

        * tao/Resource_Factory.h:
        * tao/Resource_Factory.cpp:
        * tao/default_resource.h:
        * tao/default_resource.cpp:
          Added new methods to create the Reactor_Registry and the
          Priority_Mapping strategies.

        * tao/ORB_Core.h:
        * tao/ORB_Core.i:
        * tao/ORB_Core.cpp:
          Modified to deal with the new Reactor_Registry class and the
          Priority_Mapping functions.
          Also changed shutdown() to shutdown all the reactors in the
          ORB.

        * tao/RTCORBA.pidl:
          File used to generate some of the RTCORBA types.

        * tao/RT_Current.h:
        * tao/RT_Current.i:
        * tao/RT_Current.cpp:
          Implement the RTCORBA::Current interface, at this point the
          interface is not used (i.e. resolve_initial_references() does
          not work), but should be fully functional soon.

        * tao/Leader_Follower.h:
        * tao/Leader_Follower.i:
        * tao/Leader_Follower.cpp:
          Separate the Leader_Follower information to its own file (it
          used to be in ORB_Core), this class is used by the
          Reactor_Per_Endpoint registry to keep a separate LF group for
          each priority level.

        * tao/Wait_Strategy.cpp:
        * tao/Reply_Dispatcher.cpp:
          They must include "tao/Leader_Follower.h" now.

        * tao/IIOP_Acceptor.cpp:
        * tao/UIOP_Acceptor.cpp:
          Get the right reactor from the ORB_Core.

        * tests/MT_Client/Makefile:
          Updated dependencies

        * tests/Endpoint_Per_Priority/Makefile:
        * tests/Endpoint_Per_Priority/README:
        * tests/Endpoint_Per_Priority/client.conf:
        * tests/Endpoint_Per_Priority/client.cpp:
        * tests/Endpoint_Per_Priority/run_test.pl:
        * tests/Endpoint_Per_Priority/server.conf:
        * tests/Endpoint_Per_Priority/server.cpp:
        * tests/Endpoint_Per_Priority/test.idl:
        * tests/Endpoint_Per_Priority/test_i.cpp:
        * tests/Endpoint_Per_Priority/test_i.h:
        * tests/Endpoint_Per_Priority/test_i.i:
          A new test for the endpoint-per-priority concurrency strategy,
          still work in progress.

        * */Makefile:
          Updated dependencies

Mon Aug 30 14:19:11 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/Reply_Dispatcher.h:
        * tao/Reply_Dispatcher.cpp:
        * tao/Asynch_Invocation.i:
        * tao/Asynch_Invocation.cpp: I changed the service context
          handling interfaces but did not update these file to reflect the
          change.  Thanks to Jeff and Michael for noticing this.

Mon Aug 30 13:01:04 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/BoundsC.cpp:
        * tao/CONV_FRAMEC.i:
        * tao/CurrentC.cpp:
        * tao/CurrentS.cpp:
        * tao/DomainC.cppi:
        * tao/DomainC.i:
        * tao/DomainS.cpp:
        * tao/DynAnyC.cpp:
        * tao/DynAnyC.i:
        * tao/DynAnyS.cpp:
        * tao/InconsistentTypeCodeC.cpp:
        * tao/InterceptorC.cpp:
        * tao/InterceptorC.i:
        * tao/InterceptorS.cpp:
        * tao/InterfaceC.cpp:
        * tao/InterfaceC.i:
        * tao/IORC.cpp:
        * tao/IORC.i:
        * tao/IOPC.i:
        * tao/IORS.cppi:
        * tao/MessagingC.cpp:
        * tao/MessagingC.i:
        * tao/MessagingS.cpp:
        * tao/Object_KeyC.i:
        * tao/POAC.cpp:
        * tao/POAC.i:
        * tao/POAS.cpp:
        * tao/PolicyC.cpp:
        * tao/PolicyC.i:
        * tao/PolicyS.cpp:
        * tao/PollableC.cpp:
        * tao/PollablS.cpp:
        * tao/WrongTransactionC.cpp:
          Replaced all occurrences of 'new' with 'ACE_NEW*'.

Mon Aug 30 12:25:48 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * examples/Advanced: Converted several of the examples to use
          ACE+TAO programming style.

Mon Aug 30 12:05:48 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/ORB.i: Fixed old g++ errors/warings.  Thanks to David for
          reporting this.

Mon Aug 30 11:20:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_operation.cpp
          TAO_IDL/be/be_visitor_factory.cpp
          TAO_IDL/be/be_visitor_scope.cpp
          TAO_IDL/be/be_visitor_attribute/attribute.cpp
          TAO_IDL/be/be_visitor_interface/interface.cpp
          TAO_IDL/be/be_visitor_interface/interface_ch.cpp
          TAO_IDL/be/be_visitor_interface/interface_ci.cpp
          TAO_IDL/be/be_visitor_interface/interface_cs.cpp
          TAO_IDL/be/be_visitor_interface/interface_sh.cpp
          TAO_IDL/be/be_visitor_interface/interface_ss.cpp
          TAO_IDL/be/be_visitor_interface/tie_sh.cpp
          TAO_IDL/be/be_visitor_operation/ami_arglist.cpp
          TAO_IDL/be/be_visitor_operation/ami_ch.cpp
          TAO_IDL/be/be_visitor_operation/ami_cs.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_arglist.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_arglist_ch.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_operation.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_ch.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_servant_operation_ss.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.cpp
          TAO_IDL/be/be_visitor_operation/argument.cpp
          TAO_IDL/be/be_visitor_operation/compiled_marshal.cpp
          TAO_IDL/be/be_visitor_operation/thru_poa_collocated_ss.cpp
          TAO_IDL/be_include/be_codegen.h
          TAO_IDL/be_include/be_operation.h
          TAO_IDL/be_include/be_visitor_scope.h
          TAO_IDL/be_include/be_visitor_interface/tie_sh.h
          TAO_IDL/be_include/be_visitor_operation/ami_handler_thru_poa_collocated_ss.h:
          Renamed the Code Generation enums to make it more clear what
          is actually meant. I also added support for attributes, though still work needs
          to be done in that area. Besides that I fixed bugs in the code generation.

        * tao/Transport_Mux_Strategy.cpp:
          Fixed a bug concerning an uninitialized message state.

Mon Aug 30 10:21:16 1999  Ossama Othman  <othman@cs.wustl.edu>

        * PROBLEM-REPORT-FORM:

          Fixed typo.

Mon Aug 30 02:39:14 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_interface/interface_ss.cpp
          (visit_interface): Added a missing "}" and fixed indentation
          problem in generated code.  This was causing compilation errors
          in tests/Collocation project.

Mon Aug 30 02:11:17 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        Merging the PI-current (Interceptors) branch to the main trunk.

        * tests/Interceptors/Interceptors.dsw:
        * tests/Interceptors/Makefile:
        * tests/Interceptors/README:
        * tests/Interceptors/client.cpp:
        * tests/Interceptors/client.dsp:
        * tests/Interceptors/interceptors.cpp:
        * tests/Interceptors/interceptors.h:
        * tests/Interceptors/run_test.pl:
        * tests/Interceptors/server.cpp:
        * tests/Interceptors/server.dsp:
        * tests/Interceptors/test.idl:
        * tests/Interceptors/test_i.cpp:
        * tests/Interceptors/test_i.h: A "Silly" interceptor testing
          program.

        * tao/Makefile:
        * tao/TAO.dsp:
        * tao/TAO_Static.dsp: Added new interceptor files.

        * tao/Interceptor.pidl: TAO's tentative "portable" interceptor
          definitions.  Run this file thru TAO_IDL as:

          tao_idl -Gl -Ge 1 -Wb,export_macro=TAO_Export Interceptor.pidl

          gets us the following stub/skeleton files.  the InterceptorS_T.*
          and InterceptorS.i are removed (because they are useless empty
          files.)  The following describes what else needs to be changed
          for each file.

        * tao/InterceptorC.cpp: Prefixed all include files with tao/.

        * tao/InterceptorC.i: No change necessary.

        * tao/InterceptorC.h: Removed incliding corba.h, CORBAC.h.  Added
          include files Any.h and Interceptor.h.  Prefixed all include
          files with tao/.

        * tao/InterceptorS.cpp: Removed including inline file
          InterceptorS.i and prefixing tao/ to all include files.

        * tao/InterceptorS.h: Removed include file CORBAC.h and IOPC.h.
          Prefixed all include files with tao/.  Added an include file
          Servant_Base.h.  Removed including the template file and the
          inline file.

        * tao/Interceptor.h:
        * tao/Interceptor.i: The interceptor wholesale file.  Including
          the (.h) file and you get everything you need to use the
          interceptor feature.  These two files probide inlined
          interceptor adapters that simplify tao_idl complexity.

        * tao/Interceptor.cpp: This file provides the default no-op
          interceptor method.  The interceptors classes remain abstract
          but users are not required to overwrite the interception methods
          that are not of their interests.

        * tao/ORB.h:
        * tao/ORB.i:
        * tao/ORB.cpp: Added naive interceptor registration methods.  They
          are naive because they only allow one interceptor for
          client/server side interceptors.  We definitely need a more
          rebust interceptor registration mechanism.  However, it is not
          clear how the semantics of the future portable interceptor spec
          will be.

        * tao/orbconf.h: If we are not building MinimumCORBA, we have
          interceptors.

        * tao/corba.h: This file must include Interceptor.h for others to
          use the interceptors.

        * tao/Reply_Dispatcher.h:
        * tao/Reply_Dispatcher.i:
        * tao/Reply_Dispatcher.cpp: There's no need for reply dispatcher
          to own it's own ServiceContextList object.  Instead, it holds a
          reference to the owning Invocation object and initialize the
          reference in its constructor.

        * tao/POA.h: Removed a duplicated include file.

        * tao/Invocation.h:
        * tao/Invocation.i:
        * tao/Invocation.cpp:
        * tao/Server_Request.h:
        * tao/GIOP_Server_Request.h:
        * tao/GIOP_Server_Request.i:
        * tao/GIOP_Server_Request.cpp: There's really no need to
          differentiate the request service_info from the reply
          service_info.  Their lifetimes are not overlapped.

          (request_id):  Added the new method to fish out request_id
          information of a request.

        * tao/CORBA.pidl: Added several definitions to make the file
          syntatically correct.  Also added stuff needed by the
          interceptors.

        * TAO_IDL/be_include/be_visitor_operation/operation_ss.cpp:
        * TAO_IDL/be_include/be_visitor_operation/operation_ss.cpp: Added
          a new method to compute and cache the operation name.
          Interceptors need to refer to the name frequently.

        * TAO_IDL/be/be_visitor_operation/operation_ss.cpp: Added server
          side interception points.

        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp: Added client
          side interception points.

Sun Aug 29 23:16:08 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

          The following are changes for supporting locality constraint
          objects

        * TAO_IDL/be/be_visitor_sequence/cdr_op_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/cdr_op_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp: Disallowed
          generating of CDR inserting/extrating operations for sequences
          when generating LC objects.

        * TAO_IDL/be/be_visitor_operation/operation.cpp (gen_throw_spec):
          Do not generate throw spec for locality constraint objects for
          now.  This may be overkilled, but as far as interceptors care,
          adding throw spec to interceptor methods doesn't make sense at
          all.  Who knows what kind of exceptions are going to be thrown
          from an interceptor?

        * TAO_IDL/be/be_visitor_interface/interface_cs.cpp
          (visit_interface): Servant names should always have "POA_"
          prefix.

        * TAO_IDL/be/be_helper.cpp: Insert the $_I_d_$ field in all
          generate files so we can add them into cvs repository easily.

        * TAO_IDL/be/be_codegen.cpp (start_client_stubs): When generating
          code for locality constraint objects, always include generated
          *S.h in the stub definition because these objects are always
          directly collocated and we don't depends on factory methods to
          create collocated stubs (i.e., we need to generate collocated
          stubs directly in _narrow.)

Sun Aug 29 23:30:00 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * tao/orbconf.h:
          Added TAO_USES_ROBUST_CONNECTION_MGMT macro which sets the
          connection purging and recycling feature "on" by default.
          Just commenting it out from orbconf.h and building libTAO.so
          again will shut"off" the feature.

        * tao/IIOP_Connector.{h,cpp}:
        * tao/UIOP_Connector.{h,cpp}:
          Using the TAO_USES_ROBUST_CONNECTION_MGMT macro made both the
          pre-connect-strategy tagged changes and the connection purging
          feature co-exist.

        * tao/Acceptor_Impl.{h,cpp}:
          The <accept> and <open> methods behave differently when the
          connection purging is "on" and "off". The
          <out_of_sockets_handler> method is not used when the feature is
          not set.

        * tao/Connector_Registry.{h,cpp}:
          The <purge_connections> method is eliminated when the feature is
          not used.

        * tao/Pluggable.h:
          The pure virtual <purge_connections> method was appropriately
          not included in the class when the connection purging feature
          was not requested.

Sun Aug 29 21:53:57 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/Operation_Table.cpp: with ACE_HAS_GNU_REPO, added
          an odd ACE_Hash_Map_Entry explicit instantiation.  I don't
          know why g++ 2.91.66 (on Linux) needs it, but it does. [Bug 248]

Sat Aug 28 21:53:30 1999  Ossama Othman  <othman@cs.wustl.edu>

        * orbsvcs/orbsvcs/Trader/Constraint_Interpreter.h (TAO_Interpreter):
        * orbsvcs/orbsvcs/Trader/Constraint_Interpreter.cpp (TAO_Interpreter):

          Fixed single-threaded build problem.  Code was using
          ACE_Thread_Mutex instead of ACE_SYNCH_MUTEX, and ACE_Guard
          instead of ACE_GUARD_RETURN.

Sat Aug 28 16:40:29 1999  Pradeep Gore  <pradeep@flamenco.cs.wustl.edu>

        * orbsvcs/orbsvcs/Trader/Constraint_Interpreter.h (TAO_Interpreter):
        * orbsvcs/orbsvcs/Trader/Constraint_Interpreter.cpp (TAO_Interpreter):
          Fix for Bug#:236 - Added a Guard in the <build_tree> method to
          protect it from reentrance.  Thanks to <ujaehrig@desys.com> for
          reporting this bug and providing a fix.

Sat Aug 28 16:26:00 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/AMI/ami_test.dsw:
          MSVC workspace file to contain the already existing
          project files.

Sat Aug 28 16:04:10 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Acceptor_Registry.cpp (open):

          Added exceptions for all errors conditions.

        * tao/ORB.cpp (url_ior_string_to_object):

          Made memory allocation of stub object exception safe by using
          TAO_Stub_Auto_Ptr class.

        * tao/ORB.cpp (ORB_init):

          Changed error checks that return zero to return
          CORBA::ORB::_nil() instead.  Both are equivalent in TAO but it
          appears to be more technically correct to use the _nil() method.

        * tao/ORB_Core.h (TAO_ORB_Core):

          Added missing ACE_THROW_SPEC to declaration of open() method.

        * tao/ORB_Core.cpp (TAO_ORB_Core):

          Change initialization of has_shutdown_ variable from 0 to 1,
          indicating that the ORB is instantiated in a shutdown state.
          The only way to (re)start the ORB is to call CORBA::ORB_init(),
          which calls TAO_ORB_Core::init().  For that reason, only
          TAO_ORB_Core::init() should change the ORB shutdown state to
          has_shutdown_ = 0, i.e. not shutdown.

        * tao/ORB_Core.cpp (init):

          Memory allocation failure of ORB pseudo-object was returning
          zero, which indicated a successful return.  The memory
          allocation now returns -1 upon failure.

Sat Aug 28 15:15:12 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_structure.cpp:
        * TAO_IDL/be/be_union.cpp:
        * TAO_IDL/be/be_visitor_array/array_cs.cpp:
        * TAO_IDL/be/be_visitor_exception/any_op_cs.cpp:
        * TAO_IDL/be/be_visitor_exception/exception_cs.cpp:
        * TAO_IDL/be/be_visitor_interface/ami_handler_stub_cs.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_cs.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_ss.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_access_cs.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_assign_cs.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_ci.cpp:
        * TAO_IDL/be/be_visitor_valuetype/field_cs.cpp:
          Replaced all code generation using 'new' with 'ACE_NEW'
          or 'ACE_NEW_RETURN'.

        * TAO_IDL/be_include/be_codegen.h:
        * TAO_IDL/be/be_visitor_union/union_cs.cpp:
          Code generation for union copy constructor and
          assignment operator was using the same code block.
          Since, upon my replacement, one needs 'ACE_NEW'
          and the other needs 'ACE_NEW_RETURN', a new
          context sub-state enum value was created so we can
          branch at this point.

        * TAO_IDL/be_include/ami_handler_ch.h:
        * TAO_IDL/be_include/ami_handler_cs.h:
        * TAO_IDL/be/be_visitor_interface/ami_handler_ch.cpp:
        * TAO_IDL/be/be_visitor_interface/ami_handler_cs.cpp:
          Files no longer used that have been removed from CVS.

Sat Aug 28 12:32:40 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/ORB_Core.cpp:
          Added a missing 2nd set of parens to the ACE_THROW_SPEC
          in the open() method.

Fri Aug 27 17:24:43 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Tagged_Components.cpp (set_tao_priority):

          Removed inadvertent stream insertion of orb_type variable.
          Thanks to Carlos for pointing this out.

        * tao/IIOP_Acceptor.cpp (parse_options):
        * tao/UIOP_Acceptor.cpp (parse_options):

          Fixed valid endpoint priority range.

        * tao/UIOP_Acceptor.h:
        * tao/UIOP_Acceptor.cpp:

          Forgot to remove inclusion of non-existent UIOP_Acceptor.i
          file.  UIOP_Acceptor.i was created temporarily but wasn't
          needed.

Fri Aug 27 17:06:54 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/Protocol_Factory.h:
        * tao/Protocol_Factory.cpp:
        * tao/IIOP_Factory.h:
        * tao/IIOP_Factory.cpp:
        * tao/UIOP_Factory.h:
        * tao/UIOP_Factory.cpp:

          Added an options_delimiter() method.  It returns the character
          used to mark where an endpoint begins and where its options begin.

        * tao/Acceptor_Registy.h:
        * tao/Acceptor_Registry.cpp (open):

          Added support for passing endpoint options to corresponding
          Acceptor.

          Added CORBA::Environment argument to allow CORBA exceptions to
          be propagated up through the ORB when creating Acceptors.

        * tao/Pluggable.h:
        * tao/IIOP_Acceptor.h:
        * tao/IIOP_Acceptor.cpp:
        * tao/UIOP_Acceptor.h:
        * tao/UIOP_Acceptor.cpp:

          Added support for protocol specific option parsing.  This was
          originally designed to only accept an integer argument to set
          endpoint priorities, but it was simple enough to extend the
          functionality to the general case.

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:

          ORB::destroy() method has been added but it currently throws a
          CORBA::NO_IMPLEMENT exception.  This method will be used by the
          ORB::destroy() wrapper once it is implemented.

          init() method now resets flag that denotes that the ORB has
          shutdown to zero, indicating that the newly created ORB has not
          shutdown.  Previously, if an ORB was shutdown and then
          reinitialized with CORBA::ORB_init() then the shutdown flag would
          still indicate that it is shutdown.

          Added CORBA::Environment argument to open() method to allow
          CORBA exceptions to be propagated up through the ORB when
          opening Acceptors.

        * tao/ORB.h:
        * tao/ORB.cpp:

          CORBA 2.3 updates:

          work_pending() and perform_work() now throw a
          CORBA::BAD_INV_ORDER exception if the ORB has been shutdown.

          ORB::destroy() method has been added but it currently throws a
          CORBA::NO_IMPLEMENT exception.  More to come!

        * tao/ORB.cpp (object_to_string):

          Fixed a segmentation fault that occurred when a bogus endpoint
          was specified on the command line in conjunction with the
          "-ORBObJRefStyle URL" option.

        * orbsvcs/orbsvcs/Runtime_Scheduler.cpp (set):

          Removed a cast that I inadvertently added.

Fri Aug 27 15:05:09 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_sequence/elemtype.cpp:
          Had to unconcatenate some code generating stream
          output statements to get the buffer to flush.
          Thanks to Michael Kircher and Darrell Brunsch for
          pointing out the problem.

Fri Aug 27 09:04:55 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Sched/Config_Scheduler.cpp (compute_scheduling):
          replaced RtecScheduler::ANOMALY_NONE case in switch with
          default, so that it will catch generated enum values as well.

Fri Aug 27 08:40:14 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_type.cpp:
          Patch to nested_type_name().

        * TAO_IDL/be/be_visitor_exception/exception_ctor.cpp:
        * TAO_IDL/be/be_visitor_field/field_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/elemtype.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_ci.cpp:
        * TAO_IDL/be/be_visitor_valuetype/field_ch.cpp:
          Mods to generated code in order to utilize the
          changes made to nested_type_name() above. Most of
          this was sent in by dbinder@globalmt.com (real name
          not included in the bugzilla entry) as bugzilla
          #268, intended to fix a crash by Dec Unix on an
          included IDL example. I've tested with MSVC 6.0 and
          SunCC 5.0 - we'll wait for the next Dec Unix build
          and see what happens.

Fri Aug 27 10:55:15 1999  David L. Levine  <levine@cs.wustl.edu>

        * TAO version 1.0.3 released.

Thu Aug 26 21:12:54 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/util/utl_string.cpp:
          Made sure all paths initialize the return value in
          compare_quiet(). Pointed out by a Linux warning.

Thu Aug 26 20:34:54 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Pluggable.h:
        * tao/Pluggable.i:
        * tao/Pluggable.cpp:
          Added new <priority> field to the Acceptors, this is used to
          setup a TAO-specific tagged component that informs the client
          about the priority of the threads handling events on that
          endpoint.
          Also moved lightweight methods to the .i file, they were not
          virtual and used in a couple of places in the critical path.

        * tao/corbafwd.h:
        * tao/Tagged_Components.h:
        * tao/Tagged_Components.i:
        * tao/Tagged_Components.cpp:
          Changed the TAO_TAG_PRIORITY component to have simply a
          priority, not a range.

        * tao/IIOP_Acceptor.h:
        * tao/IIOP_Acceptor.cpp:
        * tao/UIOP_Acceptor.h:
        * tao/UIOP_Acceptor.cpp:
          Implemented the priority stuff for the concrete protocols.

Thu Aug 26 17:37:01 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/include/ast_interface.h:
        * TAO_IDL/ast/ast_interface.cpp:
          New method inherited_name_clash() checks for
          redefinitions (and case-only differences in spelling)
          between members of the interface and its parent(s),
          and between members of its parents, if there are
          more than one.

        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
          Added call to the above function when the parser
          sees closing parenthesis of an interface, a concrete
          valuetype or an abstract valuetype.

        * TAO_IDL/include/utl_identifier.h:
        * TAO_IDL/include/utl_string.h:
        * TAO_IDL/util/utl_identifier.cpp:
        * TAO_IDL/util/utl_string.cpp:
          Added case-compare methods that do not output
          any error or warning, so that a more informative
          messsage (more suited to this particular case)
          can be output.

        * TAO_IDL/include/utl_error.h:
        * TAO_IDL/util/utl_error.cpp:
          Added warning0, warning1, warning2, and warning3
          utility functions, similar to error0, etc. I only needed
          two of them, but the others may come in handy later.

Thu Aug 26 14:30:38 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * tao/IIOP_Connector.{h,cpp}:
        * tao/UIOP_Connector.{h,cpp}:

          Added TAO_ to all the typedefed symbols to avoid conflicts.
          Thanks to JM Strauss <jms97@club-internet.fr> for reporting
          such a conflict for ADDR.

Thu Aug 26 12:18:38 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/tests/Property/client.cpp:
          Removed call to ORB::open() this was a private interface and no
          application should be calling it!

Thu Aug 26 11:10:30 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_union_branch/cdr_op_ci.cpp:
          Input CDR operator for union case was using return
          value of union's accessor for rhs of stream operator,
          leading to marshaling failure. Thanks one more time to
          Lothar Werzinger <werzinger.lothar@krones.de> for
          digging up another one.

Thu Aug 26 10:29:42 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * docs/Options.html:
        * tao/default_server.cpp (TAO_Default_Server_Strategy_Factory):
          Added THR_DETACHED into the default thread creation flag for ORB
          spawned threads so the resources used by ORB spawned threads can
          be released after the threads have exited.  Thanks to
          dharani@sutmyn.com (Sreedharani) and Carlos for pointing out the
          problem.

Thu Aug 26 09:49:40 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_valuetype/field_cs.cpp:
          Fixed typo. Thanks to Robert Todd Pack <todd@rwii.com>
          for pointing it out.

Thu Aug 26 08:43:11 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/Acceptor_Impl.cpp: added #include "ace/Object_Manager.h",
          because the file now uses the ACE_Static_Object_Lock.  Thanks
          to Andy for reporting this.

Wed Aug 25 23:13:02 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/POA.cpp:
          Use the correct (CORBA 2.3 compliant) minor code for the
          BAD_INV_ORDER exception. Thanks to Ossama for pointing this out.

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:
          Remove unused method to set the orb of an ORB core, really evil
          stuff.

Wed Aug 25 22:31:34 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB.h:
        * tao/ORB.i:
        * tao/ORB.cpp:
          Eliminated cached references to the Naming, Trading and ImplRepo
          because otherwise doing resolve_initial_references() after the
          server restarts does not return the new IOR.
          Also removed the place holders for the scheduling and event
          services that were not used at all and now can be replaced by
          the -ORBInitRef option.

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:
          Moved the open() and create_stub_object() methods from the ORB
          class to the ORB_Core class, this is their natural location and
          eliminate cross calls between them.

Wed Aug 25 18:18:04 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/Endpoint_Strategy.cpp:
          Added missing parenthesis.

Wed Aug 25 16:47:22 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_interface/interface_ih.cpp:
          Removed an unused arg and some commented-out code.

        * TAO_IDL/be/be_visitor_operation/operation_is.cpp:
          Fixed a const char*/char* compile error on MSVC.

Wed Aug 25 16:20:26 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence.cpp:
        * tao/Sequence_T.cpp:

        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_obj_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_obj_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_str_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_wstr_sequence_ci.cpp:
          Sequence copy constructors now check for a null rhs buffer. If a
          sequence was instantiated, and (perhaps implicitly) passed to a
          copy constructor without its length being set (deprecated but
          possible) or its length set to 0 (definitely possible), setting
          the length of the new sequence would result in a crash. Thanks to
          Lothar Werzinger <werzinger.lothar@krones.de> for sending in
          the example that led to this discovery.

Wed Aug 25 16:17:24 1999  Ossama Othman  <othman@cs.wustl.edu>

        * examples/POA/Default_Servant/File_i.cpp (open):
        * orbsvcs/orbsvcs/AV/Endpoint_Strategy.cpp (activate):
        * performance-tests/Thruput/TAO/utils.cpp (PrintStats):
        * tests/NestedUpcall/MT_Client_Test/client.cpp (init):

          Fixed format specifier mismatch warnings from gcc 2.95.1.

        * performance-tests/Makefile:

          Do not build Latency test if Minimum CORBA support is enabled
          since _non_existent() is not defined in that case.

        * orbsvcs/orbsvcs/Runtime_Scheduler.cpp (set):

          Fixed "comparison between signed and unsigned" warnings.

        * tao/Stub.i (make_profiles):
        * tao/IIOP_Profile.i (_key):
        * tao/UIOP_Profile.i (_key):
        * tao/default_resource.cpp:

          Changed use of 'return new()' to ACE_NEW_RETURN() macro.  ACE_NEW
          macros should be used instead of the plain C++ new in TAO code.

Wed Aug 25 15:58:44 1999  Yamuna Krishnamurthy  <yamuna@cs.wustl.edu>

        * TAO_IDL/be_include/be_visitor_interface/interface_ih.h:
        * TAO_IDL/be/be_visitor_interface/interface_ih.cpp:
        * TAO_IDL/be_include/be_visitor_interface/interface_is.h:
        * TAO_IDL/be/be_visitor_interface/interface_is.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_is.cpp:
        Made changes in order to remove the generation of the constructors
        for the base classes, generate code for the operations of all the
        base interfaces correctly.
        Thanks to Timothy Canham <Timothy.Canham@jpl.nasa.gov>, Byron
        Harris <harris_b@ociweb.com> and Jeff Parsons
        <parsons@cs.wustl.edu> for pointing out the bugs

Wed Aug 25 12:15:57 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB.pidl:
          Helper file used to generate the proper signature for several
          methods in the CORBA::ORB class

        * tao/Object.pidl:
          Helper file used to generate the proper signature for several
          methods in the CORBA::Object class

Wed Aug 25 12:09:42 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao_targets.GNU:
          Added new targets used in the top-level ACE makefile to compile
          just what TAO needs.

Wed Aug 25 11:11:29 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_enum/enum_ch.cpp:
          Removed an unused arg from post_process().

Wed Aug 25 10:16:11 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/EC_Gateway_UDP.cpp (handle_input):
          changed local variable "index" to "map_index".
          egcs 1.1.2 for Neutrino tripped over index.  Thanks
          to Carlos for quickly spotting the cause.

Tue Aug 24 22:40:39 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * performance-tests/Latency/Makefile:
          Fixed the rules to compile the java version

        * performance-tests/Latency/scalability.pl:
          Added a new driver program to run a scalability test

        * performance-tests/Latency/client.cpp:
        * performance-tests/Latency/st_client.cpp:
          Added options to disable the shutdown message when the client
          dies.

        * performance-tests/Latency/java_server.java:
          Visibroker3.4 does not have the ORB.run() method (added in CORBA
          2.3)

        * performance-tests/Latency/run_test.pl:
          Minor cosmetic fixes.

Tue Aug 24 21:08:45 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_enum/enum_ch.cpp:
          Had to change the 32-bit enforcing value below to
          0x7FFFFFF. Evidently there is at least one version
          of HPUX that doesn't like the 0xFFFFFFFF value. Thanks
          to Carlos for pointing this out.

Tue Aug 24 19:09:20 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * performance-tests/Latency/client.cpp:
          The user can specify a period for all the threads, in
          milliseconds, the option is now consistent with the st_client
          test

        * performance-tests/Latency/Makefile:
        * performance-tests/Latency/TestImpl.java:
        * performance-tests/Latency/java_client.java:
        * performance-tests/Latency/java_server.java:
          Added a Java version of the latency test, we should move it to
          some other place (like a separate VisiJava directory), but not
          right now.

Tue Aug 24 18:14:01 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_enum/enum_ch.cpp:
          Code generation for enums in .h file now
          appends an enum value called
          <enum name>_TAO_ENUM_32BIT_ENFORCER and sets its
          value to 0xFFFFFFFF. All enums in CORBA must be
          32 bits in size, and some compilers will try to
          use a smaller space if the enum values are
          small enough. Note that this extra member is not
          part of the IDL compiler's internal representation
          of the enum, so unions that use the enum as a
          discriminator won't have incorrect _default()
          code generated.

Tue Aug 24 16:38:16 1999  Mike Moran  <mm4@cs.wustl.edu>

        * examples/Advanced/
        * examples/Advanced/ch_3
        * examples/Advanced/ch_8_and_10
        * examples/Advanced/ch_12
        * examples/Advanced/ch_18

          Added code from first four examples from Henning &
          Vinoski's book plus Makefiles, test scripts and readmes.

        * examples/README (examples):
          Added description of examples in directory Advanced/.

Tue Aug 24 15:32:43 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/Load_Balancing/Load_Balancer_i.cpp:
          Added some template instantiations that the Irix linker
          had trouble finding.

Tue Aug 24 14:44:12 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/MessagingC.i:
          Fixed typo

Tue Aug 24 12:06:31 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/IDL_Test/included.idl:
        * tests/IDL_Test/including.idl:
          Added example similar to that sent in by
          Nick Sawadsky <Nick_Sawadsky@BrooksSoftware.com>
          to the above two file.

Tue Aug 24 12:00:03 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * rules.tao.GNU: Disabled the option that was compiling the
          Interface repository files by default. With this change the user
          is expected to issue the command gmake interface_repo=1 to
          compile the files for the interface repository.

Tue Aug 24 11:47:47 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_enum.cpp:
          Modified compute_member_count() to work if the enum is
          included from another .idl file. This problem was
          causing a union with an enum discriminator, where the
          enum is declared in an included file, to have a
          _default() function that won't compile. Thanks to
          Nick Sawadsky <Nick_Sawadsky@BrooksSoftware.com>
          for pointing out the problem and sending in an
          example pair if .idl files.

Tue Aug 24 13:20:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * tao/MessagingC.cpp,
          tao/MessagingC.i:
          Put the #if defined TAO_HAS_AMI_CALLBACK .. statements
          in the right places.

        * docs/releasenotes/index.html:
          Added a statement saying that one has to use
          TAO_HAS_CORBA_MESSAGING and TAO_HAS_AMI_CALLBACK
          to compile TAO and the IDL compiler AMI enabled.

Tue Aug 24 11:03:56 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO_IDL/Makefile:
          The IDL compiler did not compile due to outdated dependencies.

Tue Aug 24 09:49:06 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO/examples/Load_Balancing/client.dsp:
        * TAO/examples/Load_Balancing/server.dsp:
        * TAO/examples/Load_Balancing/service.dsp:
          Corrected the project paths.

Tue Aug 24 5:30:00 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_sh.cpp,
          TAO_IDL/be_include/be_visitor_operation/ami_handler_thru_poa_collocated_sh.h
          TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ss.cpp,
          TAO_IDL/be_include/be_visitor_operation/ami_handler_thru_poa_collocated_ss.h,
          TAO_IDL/be/be_visitor_operation/ami_handler_servant_operation_ss.cpp,
          TAO_IDL/be_include/be_visitor_operation/ami_handler_servant_operation_ss.h:
          Introduced these files and removed the corresponding *_{cs,ch}.{h,cpp}
          files because the code is generated in the server header and
          server implementation files.

        * TAO_IDL/be/be_codegen.cpp,
          TAO_IDL/be/be_interface.cpp,
          TAO_IDL/be/be_visitor_factory.cpp,
          TAO_IDL/be/be_visitor_interface.cpp,
          TAO_IDL/be/be_visitor_operation.cpp,
          TAO_IDL/be/be_visitor_interface/interface.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ch.cpp,
          TAO_IDL/be/be_visitor_interface/interface_cs.cpp,
          TAO_IDL/be/be_visitor_interface/interface_sh.cpp,
          TAO_IDL/be/be_visitor_interface/interface_ss.cpp,
          TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp
          TAO_IDL/be_include/be_codegen.h,
          TAO_IDL/be_include/be_interface.h,
          TAO_IDL/be_include/be_visitor_interface.h,
          TAO_IDL/be_include/be_visitor_operation.h:
          Made minor adjustments to have AMI callbacks properly working.

        * tao/Asynch_Invocation.cpp
          tao/Asynch_Invocation.h
          tao/Asynch_Invocation.i
          tao/MessagingC.cpp
          tao/MessagingC.h
          tao/MessagingS.cpp
          tao/MessagingS.h
          tao/MessagingS_T.cpp
          tao/POA_CORBA.h
          tao/PollableC.cpp
          tao/PollableC.h
          tao/PollableS.cpp
          tao/PollableS.h
          tao/Reply_Dispatcher.cpp
          tao/Reply_Dispatcher.h
          tao/Typecode_Constants.cpp: Introduced the TAO_HAS_AMI_CALLBACK and
          TAO_HAS_AMI_POLLER define. Removed the TAO_POLLER define.

        * tests/AMI/client.cpp,
          tests/AMI/client.dsp,
          tests/AMI/run_test.pl,
          tests/AMI/server.cpp,
          tests/AMI/server.dsp,
          tests/AMI/test.idl,
          tests/AMI/test_i.cpp,
          tests/AMI/test_i.h: Revived this test again.


Tue Aug 24 00:47:47 1999  Marina Spivak  <marina@cs.wustl.edu>

        * examples/Load_Balancing/Makefile:
          Removed foreign characters that were introduced during previous
          commit by mistake.


        * examples/Load_Balancing/Identity_Client.cpp
        * examples/Load_Balancing/Identity_Server.cpp
        * examples/Load_Balancing/Load_Balancing_Service.cpp:
          Fixed some compilation warnings.

        * examples/Load_Balancing/Identity_i.cpp:
          Fixed warning regarding unused arg.

        * examples/Load_Balancing/Load_Balancer_i.cpp:
          Took out duplicate explicit template instantiation.

Mon Aug 23 21:33:04 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * UIOP_Connector.cpp:
        * IIOP_Connector.cpp:
          Use ACE_Auto_Basic_Array_Ptr<> for the arrays and fixed template
          instantiations too.

Mon Aug 23 18:57:41 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/IDL_Test/reopened_modules.idl:
          Took long .idl file sent in by
          Duane Binder <dbinder@globalmt.com>, cut it down to
          one of 10 lines or so that reproduced the problem,
          and added it to our IDL_Test Rogues Gallery.

Mon Aug 23 18:25:30 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * examples/Load_Balancing/Load_Balancing.dsw:
        * examples/Load_Balancing/client.dsp:
        * examples/Load_Balancing/server.dsp:
        * examples/Load_Balancing/service.dsp:
          New files for MSVC++.

        * examples/Load_Balancing/Identity_Client.cpp:
        * examples/Load_Balancing/Identity_Server.cpp:
          Some _var instantiations needed to be scoped with
          their module name to avoid compile errors.

        * examples/Load_Balancing/Load_Balancer_i.cpp:
          In places where an exception is raised, the exception arg
          needed '()' added to make it a function call. This was
          causing compile errors on some platforms and warnings
          on others.

        * examples/Load_Balancing/Makefile:
          Cosmetic changes.

Mon Aug 23 16:43:37 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Asynch_Invocation.i:
        * tao/Asynch_Invocation.cpp:
          Fixed compilation problems for AMI code.

        * TAO_IDL/be/be_visitor_interface/interface_ss.cpp:
          Fixed problem in generated code for AMI.

Mon Aug 23 15:30:28 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/IIOP_Connector.cpp (preconnect): Chagned to use
          ACE_Auto_Array_Ptr to hold the INET_Addr array and
          ACE_Auto_Basic_Array_Ptr to hold the array of connection handler
          pointers.

Mon Aug 23 14:12:32 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/include.utl_scope.h:
        * TAO_IDL/util/utl_scope.cpp:
          Changes to lookup_by_name() and
          iter_lookup_by_name_local() which cause the lookup
          process to exit immediately once the scoped name
          argument is completely matched. This removes the problem
          of an infinite loop in certain cases where the argument
          is a fully scoped name, and has the side effect of making
          the lookup process more efficient. Thanks to
          Duane Binder <dbinder@globalmt.com> for reporting the
          problem and for sending in an .idl file that was
          eventally cut down to debuggable size.

Mon Aug 23 11:59:33 1999  Marina Spivak  <marina@cs.wustl.edu>

        * examples/Load_Balancing/Load_Balancer_i.cpp
        * examples/Load_Balancing/Identity_Server.cpp
        * examples/Load_Balancing/Identity_Client.cpp:
          Added explicit template instantiations and fixed a few other
          compilation warnings.

Mon Aug 23 08:43:01 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/Makefile: for QNX Neutrino only, always compile
          CDR_Interpreter.cpp without -g.  With -g, the compiler chokes:
          ../../egcs-1.1.2/gcc/dwarfout.c:5253: Internal compiler error \
          in function dwarfout_file_scope_decl

Sun Aug 22 09:48:40 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/IIOP_Acceptor.cpp (create_mprofile):
        * tao/UIOP_Acceptor.cpp (create_mprofile):

          Fixed memory leak that would occur if transfer of profile
          ownership failed.

        * tao/IIOP_Connector.cpp:
        * tao/UIOP_Connector.cpp:

          Removed auto_ptr for "this->cached_connect_strategy_" since it
          isn't necessary to have one due to the fact that it gets
          deallocated when the Connector is destroyed.

          Made memory allocations in preconnect() method exception safe.

        * tao/IIOP_Connector.cpp:
        * tao/Resource_Factory.cpp:

          Moved template instantiation of TAO_Cached_Connector_Lock to
          Resource_Factory.cpp since that it where the template is
          located.

        * tao/Pluggable.cpp:

          TAO_Unknown_Profile::addr_to_string() should return -1, not 0.

        * tao/Stub.h:
        * tao/Stub.i:
        * tao/Stub.cpp:

          Changed names of {get,set}_base_profiles() and get_profiles()
          methods to be consistent with ACE/TAO coding styles.  They are
          now called base_profiles() (with appropriate args) and
          make_profiles() (since it is a factory method), respectively.

        * tao/Invocation.cpp:
        * tao/IORManipulation.cpp:
        * tao/Object.cpp:
        * tao/ORB.cpp:

          Updated to use renamed Stub object methods.

        * tao/IORManipulation.cpp:

          Made a memory allocation exception safe.

        * tao/Makefile:

          Updated dependencies.

Sat Aug 21 18:46:14 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * TAO_IDL/driver/drv_fork.cpp (DRV_fork): Removed the use of
          ACE_Process_Manager and replaced it with ACE_Process.  This
          prevents the IDL compiler from hanging when it's given multiple
          files.  Thanks to Dave Binder <dbinder@globalmt.com> for
          motivating this fix.  This fix closes out [BUGID:240].

        * TAO_IDL/be/be_interface.cpp (gen_gperf_lookup_methods,
          TAO_IDL/driver/drv_args.cpp (DRV_check_gperf),
          TAO_IDL/driver/drv_preproc.cpp (DRV_pre_proc): Changed the
          name of the ACE_Process *manager* object to *process* so that it
          wouldn't be confused with the ACE_Process_Manager, which we use
          elsewhere in the IDL compiler.

Sat Aug 21 17:18:07 1999  Marina Spivak  <marina@cs.wustl.edu>

        * tao/ORB.{h,i}: Added a CORBA_String_out constructor which takes
          const char* (we were missing this one from the spec).

        * examples/Load_Balancing/Load_Balancer.idl
        * examples/Load_Balancing/Load_Balancer_i.cpp
        * examples/Load_Balancing/Load_Balancer_i.h
        * examples/Load_Balancing/Makefile
        * examples/Load_Balancing/README
        * examples/Load_Balancing/Identity_i.h
        * examples/Load_Balancing/Identity_i.cpp
        * examples/Load_Balancing/Load_Balancing_Service.h
        * examples/Load_Balancing/Identity.idl
        * examples/Load_Balancing/Identity_Server.cpp
        * examples/Load_Balancing/Identity_Server.h
        * examples/Load_Balancing/Identity_Client.h
        * examples/Load_Balancing/Identity_Client.cpp
        * examples/Load_Balancing/Load_Balancing_Service.cpp
        * examples/Makefile:
          Added a new example to TAO: Load Balancing Service.

        * examples/Makefile:
          Generated the dependencies.

Sat Aug 21 14:16:11 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO version 1.0.2 released.

Sat Aug 21 03:32:52 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * examples/Simple/time-date/Time_Date.dsp:
        * examples/Simple/time-date/client.dsp:
        * examples/Simple/time-date/server.dsp: Added definition of
          Alt_Resource_Factory_HAS_DLL=1 to all projects.

        * examples/Simple/time-date/Time_Date.cpp
          (Alt_Resource_Factory_BUILD_DLL): Define this macro.

        * tao/default_resource.h (TAO_Default_Resource_Factory): Added
          TAO_Export specifier to the class.

        * tao/ORB.cpp (open): Moved the setting of <open_called_> *after*
          the ORB has actually opened.  Otherwise, the double-checked
          locking here would be useless and race condition might occurred
          (it did, in time-date example.)

Fri Aug 20 15:51:29 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/ORB.cpp (resolve_initial_references): Changed to search for
          the ORB's lookup table if the search in initial reference table
          kept in ORB param fails.  This change allows up to find the
          collocated service available in the local ORB.  Thanks to Sharo
          Randall <RASB@eci-esyst.com> for suggesting the change.

Fri Aug 20 13:48:45 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_operation/rettype_vardecl_cs.cpp:
          Modified my earlier change to the way a return
          valuetype is declared in the stub. This clears up
          compile errors in esamples/OBV/Typed_Events.

Thu Aug 19 20:05:06 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_argument/pre_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_vardecl_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_pre_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/compiled_marshal_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_post_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/ami_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_ami_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/thru_poa_collocated_ss.cpp:
          Return types which are allocated on the heap in the stub (all
          variable-size data types plus arrays) would leak memory if
          there were an exception during invocation or demarshaling. Now
          all these types are eclosed in a _var between
          'ACE_NEW_RETURN (...);' and 'return ...;'. Thanks to
          Eugene Surovegin <ebs@glasnet.ru>, whose example showed
          the tip of the iceberg.

Thu Aug 19 18:45:00 1999  Chris Gill  <cdgill@cs.wustl.edu>

        * orbsvcs\orbsvcs\Sched\Reconfig_Scheduler_T.cpp: modified uses of
          ACE_AUTO_PTR_RESET macro to pass type with which auto_ptr is
          instantiated.

Thu Aug 19 18:34:19 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Reply_Dispatcher.cpp:
          Fixed problems with forwarded requests and requests re-issued
          due to problems in profile.  The message state was not beign
          reset after receiving the first reply (i.e. a LOCATION_FORWARD)
          yielding invalid results when reading the next reply.

Thu Aug 19 17:25:00 1999  Chris Gill  <cdgill@cs.wustl.edu>

        * orbsvcs\orbsvcs\Sched\Reconfig_Scheduler_T.cpp: changed default
          value to which RT_Info period is initialized to 1 instead of 0,
          to avoid divide-by-zero errors when creates are used to lay out
          all operations and utilization is assessed by an adaptive
          algorithm before all operations are valued via the set method.

Thu Aug 19 16:34:04 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/BoundsC.i:
        * tao/BoundsC.cpp:
        * tao/BoundsC.h:
        * tao/Makefile:
        * tao/corbafwd.h:
        * tao/corba.h:
        * tao/Typecode_Constants.cpp: Added support for CORBA::Bounds
          which is a part of CORBA2.3 spec.

Thu Aug 19 12:57:12 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Sequence_T.i:
        * tao/Sequence_T.cpp:
          Moved some methods of TAO_Object_Manager<> to the .cpp file,
          they were causing problems with forward declared
          interfaces. Thanks to David for pointing this out.

Thu Aug 19 11:24:35 1999  David L. Levine  <levine@cs.wustl.edu>

        * rules.tao.GNU,tao/Makefile: don't include the Interface
          repository by default on pre-2.8 g++ platforms, and on
          cross-compile platforms.  g++ 2.7.2.3 on Solaris can't
          compile tao/InterfaceC.cpp.  By removing it, by default,
          on cross-compile platforms, we reduce the size of libTAO.a
          by 420 Kb.

Thu Aug 19 08:30:49 1999  Michael Kircher  <Michael.Kircher@mchp.siemens.de>

        * docs/releasenotes/index.html: Added information
          about Asynchronous Method Invocation.

Thu Aug 19 01:47:49 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * docs/compiler.html: Added documentation for the new -Gl flag
          which generate locality constraint stubs/skeletons.

        * TAO_IDL/be/be_visitor_interface/any_op_ch.cpp:
        * TAO_IDL/be/be_visitor_interface/any_op_cs.cpp:
        * TAO_IDL/be/be_visitor_interface/cdr_op_ch.cpp:
        * TAO_IDL/be/be_visitor_interface/cdr_op_ci.cpp:
        * TAO_IDL/be/be_visitor_interface/cdr_op_cs.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_ch.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_cs.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_sh.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_si.cpp:
        * TAO_IDL/be/be_visitor_interface/interface_ss.cpp:
        * TAO_IDL/be/be_visitor_operation/arglist.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_sh.cpp:
        * TAO_IDL/be/be_visitor_operation/operation_ss.cpp:
        * TAO_IDL/driver/drv_args.cpp: Trimmed down a lot of code
          generation if we are generating the locality constraint
          implementation templates.

Wed Aug 18 21:32:25 1999  Ossama Othman  <othman@cs.wustl.edu>

        * PROBLEM-REPORT-FORM:
        * TAO-INSTALL.html:

          Updated with information about the bugzilla usage
          documentation.

Wed Aug 18 18:00:29 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Gateway_UDP.cpp:
          Use the new ACE_HAS_BROKEN_DGRAM_SENDV macro to workaround IRIX
          (and possibly other platform) problems.

Wed Aug 18 17:04:41 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_union/cdr_op_ci.cpp:
          There is a generated boolean variable called
          'result' that holds the status of the CDR op for
          the union's case, whichever it may be. This variable
          was initialized to 0. But if the discriminator is set
          to an implicit default value, the operator will just
          exit with a value of 0 and the (de)marshal will fail.
          Thanks to Anthony Shipman <als@aaii.oz.au> for
          pointing this out and suggesting a fix (initialize
          the result variable to 1).

Wed Aug 18 16:22:25 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_union.cpp:
          Code generation for implementation of union_var's
          ptr() method was not happening in some cases. Thanks to
          Lothar Werzinger <werzinger.lothar@krones.de> for
          pointing this out.

        * TAO_IDL/be/be_visitor_union_branch/public_ch.cpp:
        * TAO_IDL/be/be_visitor_field/field_ch.cpp:
          CORBA 2.3 requires C++ mapping to have a typedef of
          '_foo_seq' for anonymous sequence members of unions
          or structs. This provides a consistent type name for
          the user so that the implementation-specific
          name of the anonymous sequence need not be known.
          Since this typedef occurs inside the union class or
          struct, the usual guard against compilers with broken
          typedef scoping is included in the generated code.
          Thanks again to Lothar Werzinger <werzinger.lothar@krones.de>
          for bringing this to our attention.

Wed Aug 18 12:53:46 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tests/Param_Test/run_test.pl:
          Fixed typo.

Wed Aug 18 10:49:58 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * default_resource.cpp:
          Removed an extra 'break' statement.

Wed Aug 18 03:12:23 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/include/idl_global.h:
        * TAO_IDL/driver/drv_args.cpp:
        * TAO_IDL/util/utl_global.cpp: Added a new flag to direct TAO_IDL
          to generate locality constraint stubs/skeletons to simplify
          generating TAO internal pidl implementations.

Tue Aug 17 22:18:20 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Dispatching_Task.cpp:
          Added instantiation of ACE_Locked_Data_Block<> it used to be
          instantiated in TAO, but it isn't used there anymore.

Tue Aug 17 20:51:13 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/default_resource.cpp:
          Also use the new signal masking features with the TP reactor.

        * performance-tests/Latency/client.conf:
        * performance-tests/Latency/server.conf:
        * performance-tests/Latency/st_server.conf:
          Use the -ORBReactorMaskSignals 0 option to disable signal
          masking.

Tue Aug 17 19:17:20 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/Param_Test/driver.cpp:
        * tests/Param_Test/helper.h:
        * tests/Param_Test/helper.cpp:
        * tests/Param_Test/options.h:
        * tests/Param_Test/options.cpp:
        * tests/Param_Test/tests.h:
        * tests/Param_Test/param_test_i.h:
        * tests/Param_Test/param_test_i.cpp
        * tests/Param_Test/client.dsp:
        * tests/Param_Test/param_test.idl:
        * tests/Param_Test/Makefile:
        * tests/Param_Test/README:
        * tests/Param_Test/run_test.pl:
          Updated to accomodate the new files listed below.

        * tests/Param_Test/bd_wstring.h:
        * tests/Param_Test/bd_wstring.cpp:
        * tests/Param_Test/ub_wstring.h:
        * tests/Param_Test/ub_wstring.cpp:
        * tests/Param_Test/ub_wstrseq.h:
        * tests/Param_Test/ub_wstrseq.cpp:
        * tests/Param_Test/bd_wstrseq.h:
        * tests/Param_Test/bd_wstrseq.cpp:
          New files testing the (de)marshaling of wide
          strings. CORBA::WStrings have their
          counterparts to the regular string manipulation
          functions defined in ACE_OS. They are (so far)
          wslen, wscpy, wscmp, and wsncmp. ACE_OS
          also has overloaded versions of strlen, strcmp, etc.
          that work with wstrings on NT, but they are not portable.

        * tests/Param_Test/bd_string.h:
        * tests/Param_Test/bd_string.cpp:
          Fixed some comments pasted in unmodified from other
          tests, and the SII test call, which was to
          test_unbounded_string().

Tue Aug 17 15:28:43 1999  Douglas C. Schmidt  <schmidt@mambo.cs.wustl.edu>

        * TAO-INSTALL.html: Added a reference to the
          http://www.tenermerx.com/tao_bcb/index.html link provided by
          Christopher Kohlhoff <chris@kohlhoff.com> to explain how to
          build TAO using Borland C++ Builder.

Tue Aug 17 16:45:35 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * TAO-INSTALL.html: Changed Windows NT directions to adhere
          to the new strategy for TAO_IDL's preprocessor default.

Tue Aug 17 15:40:22 1999  Darrell Brunsch <brunsch@cs.wustl.edu>

        * TAO_IDL/tao_idl.dsp:
        * TAO_IDL/tao_idl_static.dsp:
          Removed the definition of CPP_LOCATION from the projects.

        * TAO_IDL/driver/drv_init.cpp:
          For Win32, use the ACE_CC_COMPILER macro instead of
          CPP_LOCATION for the name of the compiler.

Tue Aug 17 15:20:37 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/POAS.cpp: Fixed unused argument warnings.

Tue Aug 17 13:05:40 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
          Added wstring_type_spec to the production rule for
          param_type_spec.

Tue Aug 17 12:10:29 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * docs/Options.html:
        * tao/default_resource.h:
        * tao/default_resource.cpp:
          Added option to control the new signal masking features in the
          ACE_Select_Reactor

        * performance-tests/Latency/st_server.conf:
          Eliminate the signal masking overhead in the Reactor.

        * tao/ORB_Core.cpp:
          Removed template instantiations that were not needed anymore.

        * performance-tests/Latency/client.cpp:
        * performance-tests/Latency/st_client.cpp:
          Use _non_existent() to force a connection before running the
          test, in the future we should use validate_connection() and in
          the real world we should use -ORBpreconnect but this keeps the
          test simple.

Tue Aug 17 11:28:28 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Servant_Base.i:
          Removed pesky warning

        * tao/ORB_Core.h:
          Re-arrange some declarations to avoid crashes on shutdown. The
          lock used for the Data_Block was getting destroyed before the
          Data_Blocks were.

Tue Aug 17 10:53:22 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Sequence_T.cpp:
          Fixed a couple of my typos that compiled under TAO
          but got caught when called from generated code.

        * tao/Managed_Types.cpp:
          Added some comments.

        * tao/Managed_Types.h:
        * tao/Managed_Types.i:
          The copy constructor of  TAO_SeqElem_(W)String_Manager
          is called implicitly in the generated code for the [] operator
          for sequences of (w)string. This copy constructor is public
          for strings, and was private and unimplemented for wstrings.
          The TAO_SeqElem_WString_Manager copy constructor
          now matches its string counterpart.

Tue Aug 17 01:20:37 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/CurrentC.cpp:
        * tao/DomainC.cpp:
        * tao/DomainC.h:
        * tao/DynAnyC.cpp:
        * tao/IORC.cpp:
        * tao/IORC.h:
        * tao/POAC.cpp:
        * tao/POAS.cpp:
        * tao/POA_CORBA.h:
        * tao/PolicyC.cpp:
        * tao/PolicyC.h:
        * tao/PolicyS.cpp: Made sure we enfore the locality constraint
          rules by removing remote method invocation code, unnecessary
          skeletons, and the use of null stubs for locality constraint
          object reference.  Otherwise, proper exceptions will be thrown.

        * tao/ORB.cpp (object_to_string): We should throw an
          CORBA::MARSHAL exception if a user tries to externalize a
          locality constraint object.  Notice that I don't know how to
          pass an exception out of the overloaded << operator.

        * tao/Object.cpp (_is_a,_non_existent): Made sure the function
          doesn't try to access stub data if the object is locality
          constraint.

          (_get_policy_overrides,_set_policy_overrides,_validate_connection):
          (_get_client_policy,_get_policy): We don't support per-object
          policies for locality contraint objects.

          (_create_request,_request): Locality constraint objects don't
          support DII.

          (_is_equivalent): Compare the servant pointer directly to
          determine equivalency for locality constraint object reference.

          (_hash): Throw an NO_IMPLEMENT exception if the objref is locality
          constraint.  Quite frankly, I don't really know how to implement
          this function for locality constraint objects.

        * tao/Servant_Base.{i,cpp} (_create_stub): The implementation for
          Local_ServantBase should always returns 0 because a null stub is
          now used to identify locality constraint object reference.  This
          method can potentially be removed and we can always create
          locality constraint object with a null stub.  However, I decided
          to keep this method around so we can simplify Policy objects
          which can be either be locality constraint or regular in TAO.

Mon Aug 16 21:50:23 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be_include/be_sequence.h:
        * TAO_IDL/util/utl_scope.cpp:
        * TAO_IDL/ast/ast_redef.cpp:
        * TAO_IDL/be/be_sequence.cpp:
        * TAO_IDL/be/be_visitor_rettype.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_arglist.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_handle_arglist.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_handler_compiled_marshal_cs.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_handler_result_arg.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_handler_upcall_cs.cpp:
        * TAO_IDL/be/be_visitor_argument/arglist.cpp:
        * TAO_IDL/be/be_visitor_argument/ami_handler_vardecl.cpp:
        * TAO_IDL/be/be_visitor_argument/compiled_marshal_cs.cpp:
        * TAO_IDL/be/be_visitor_argument/compiled_marshal_ss.cpp:
        * TAO_IDL/be/be_visitor_argument/docall_cs.cpp:
        * TAO_IDL/be/be_visitor_argument/marshal_ss.cpp:
        * TAO_IDL/be/be_visitor_argument/post_docall_compiled_cs.cpp:
        * TAO_IDL/be/be_visitor_argument/post_docall_cs.cpp:
        * TAO_IDL/be/be_visitor_argument/vardecl_ss.cpp:
        * TAO_IDL/be/be_visitor_array/array.cpp:
        * TAO_IDL/be/be_visitor_array/cdr_op_ci.cpp:
        * TAO_IDL/be/be_visitor_exception/ctor_assign.cpp:
        * TAO_IDL/be/be_visitor_exception/exception_ctor.cpp:
        * TAO_IDL/be/be_visitor_field/cdr_op_cicpp:
        * TAO_IDL/be/be_visitor_exception/field_ch.cpp:
        * TAO_IDL/be/be_visitor_operation/ami_handler_result_arg.cpp:
        * TAO_IDL/be/be_visitor_operation/compiled_marshal.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_assign_ss.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_is.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_marshal_ss.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_post_upcall_ss.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_return_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_vardecl_cs.cpp:
        * TAO_IDL/be/be_visitor_operation/rettype_vardecl_ss.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/sequence_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/cdr_op_cs.cpp:
        * TAO_IDL/be/be_visitor_sequence/buffer_type.cpp:
        * TAO_IDL/be/be_visitor_sequence/elemtype.cpp:
        * TAO_IDL/be/be_visitor_typecode/typecode_defn.cpp:
        * TAO_IDL/be/be_visitor_typedef/typedef_ch.cpp:
        * TAO_IDL/be/be_visitor_union_branch/cdr_op_ci.cpp:
        * TAO_IDL/be/be_visitor_union_branch/private_ch.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_assign_cs.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_ch.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_ci.cpp:
        * TAO_IDL/be/be_visitor_union_branch/public_reset_cs.cpp:
        * TAO_IDL/be/be_visitor_valuetype/field_ch.cpp:
        * TAO_IDL/be/be_visitor_valuetype/field_cs.cpp:
          The new node type NT_wstring is used in code generation for wstring
          sequences, where it has some switch cases all its own. Otherwise, now
          that the be_string and AST_String constructors set the pd_width
          member to sizeof (ACE_CDR::WChar) for wstrings, all that's
          necessary in most cases is to check the node's width() function and
          branch accordingly.

          Several of these files also have had #if 0 blocks and commented-out code
          removed for this checkin.

Mon Aug 16 20:16:35 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB_Core.h:
        * tao/ORB_Core.cpp:
          Use a pre-allocated mutex to synchronize access into the input
          data block reference count. This reduces the number of memory
          allocations in the critical path (by one), and consequently the
          number of locks.

        * tao/Reply_Dispatcher.h:
        * tao/Reply_Dispatcher.cpp:
        * tao/Invocation.i:
        * tao/Transport_Mux_Strategy.cpp:
          For the Exclusive transport strategy we can use the
          pre-allocated CDR stream in the reply dispatcher end-to-end,
          without requiring any transfers to the message state object for
          the transport.  This reduces the locking overhead.

        * tao/CDR.h:
        * tao/CDR.i:
          As in the ACE_InputCDR class we implement a new method to
          transfer the contents of one CDR stream into another.

        * tao/IIOP_Connect.cpp:
        * tao/UIOP_Connect.cpp:
          Use the new method to transfer the contents of one CDR stream
          into another, two locks were eliminated thanks to that.

Mon Aug 16 17:08:45 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_sequence/gen_bounded_str_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_str_sequence_cs.cpp:
          Removed code commented out with #if 0.

        * TAO_IDL/be_include/be_visitor_sequence/sequence_ch.h:
        * TAO_IDL/be_include/be_visitor_sequence/sequence_ci.h:
        * TAO_IDL/be_include/be_visitor_sequence/sequence_cs.h:
          Added declarations for methods in new files listed below.

        * TAO_IDL/be/be_visitor_sequence.cpp:
          Added #includes for new files listed below.

        * TAO_IDL/be/be_visitor_sequence/gen_bounded_wstr_sequence_ch.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_wstr_sequence_ci.cpp:
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_wstr_sequence_cs.cpp:
          New files containing methods corresponding to those in
          gen_bounded_str_sequence_c*.cpp.

Mon Aug 16 16:20:30 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/ast/ast_string.cpp:
        * TAO_IDL/be/be_string.cpp:
          Mods to constructors to use new enum val NT_wstring where
          appropriate.

        * TAO_IDL/be/be_generator.cpp:
          Changed use of ACE_OS::WChar to ACE_CDR::WChar.

Mon Aug 16 14:53:11 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/sequence.h:
        * tao/sequence.i:
        * tao/sequence.cpp:
        * tao/Sequence_T.h:
        * tao/Sequence_T.i:
        * tao/Sequence_T.cpp:
          Added classes TAO_Bounded_WString_Sequence and
          TAO_Unbounded_WString_Sequence.

Mon Aug 16 13:04:16 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/fe.idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
        * TAO_IDL/include/ast_decl.h
          One last bit of wstring business in idl.yy, and a
          new node type NT_wstring.

Sat Aug 14 17:39:04 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Pluggable.h:
        * tao/Pluggable.i:
        * tao/Pluggable.cpp:
        * tao/Asynch_Invocation.cpp:
        * tao/Invocation.cpp:
          Small optimization on the critical path: reduce number of
          virtual calls and use inline methods in a couple of places.

        * TAO_IDL/Makefile:
          Removed repeated -lACE option on the link line.

Fri Aug 13 16:39:42 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/corbafwd.h:
          Added typedef for CORBA::WString.

        * TAO_IDL/fe/idl.ll:
        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
        * TAO_IDL/fe/lex.yy.cpp:
        * TAO_IDL/fe/lex.yy.cpp.diff:
          Production rule and lex rule for wstring
          literals. Functions that checks validity of
          wstring literal (including containment of 0
          value Unicode escape sequence) is still a
          stub at this point, pending clarification of the
          spec.

        * TAO_IDL/include/ast_expression.h:
        * TAO_IDL/include/ast_generator.h:
        * TAO_IDL/be_include/be_expression.h:
        * TAO_IDL/be_include/be_generator.h:
        * TAO_IDL/ast/ast_expression.cpp:
        * TAO_IDL/ast/ast_generator.cpp:
        * TAO_IDL/be/be_expression.cpp:
        * TAO_IDL/be/be_generator.cpp:
          Expression constructors and generators for
          wstring values.

        * TAO_IDL/be/be_sunsoft.cpp:
          Filled in case for wstring literal print. Doesn't
          handle Unicode escape sequences yet.

Fri Aug 13 12:53:51 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/varout.i:
        * tao/varout.cpp:
          Outline several functions because they were causing problems
          with forward declared interfaces.  In particular
          $TAO_ROOT/tao/InterfaceC.cpp would not compile under certain
          platforms.

        * tao/Makefile:
          Updated dependencies

Fri Aug 13 12:44:08 1999  David L. Levine  <levine@cs.wustl.edu>

        * Makefile: added support for creating kits with or without a new
          tag.

Fri Aug 13 12:13:44 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/tests/Simple_Naming/run_test.pl:
          Reduce the number of threads, it was starting 25 threads and
          that creates problems with the backlog queue in the
          acceptors. We know we could do better things about that (like
          using asynchronous connections), track [BUGID:132] and
          [BUGID:189] for more details.

Fri Aug 13 12:09:17 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be_include/be_expression.h:
        * TAO_IDL/be_include/be_generator.h:
        * TAO_IDL/be/be_expression.cpp:
        * TAO_IDL/be/be_generator.cpp:
          Had to put back the removed function and contructor
          below (with the correct from_wchar signature). A good
          lesson that all overloaded virtual functions must
          be overridden, else they are hidden and the compiler
          warns.

Thu Aug 12 22:07:25 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be_include/be_expression.h:
        * TAO_IDL/be_include/be_generator.h:
        * TAO_IDL/be/be_expression.cpp:
        * TAO_IDL/be/be_generator.cpp:
          Removed create_expression() and be_expression constructor for wchars.
          Not needed. Thanks to a SunCC warning reported by David for
          making me take a second look at the code.

Thu Aug 12 20:55:44 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/orbconf.h: added TAO_NAMESPACE_CLOSE.  It must now
          be used with TAO_NAMESPACE.  Removed trailing ; from
          TAO_NAMESPACE_END with ACE_HAS_USING_KEYWORD. [Bug 218]

        * TAO_IDL/be/be_visitor_module/module_ch.cpp,
          TAO_IDL/be/be_visitor_module/module_sh.cpp,
          TAO_IDL/be/be_visitor_valuetype/obv_module.cpp,
          tao/CONV_FRAME[CS].h,tao/IO[PR][CS].h,
          tao/Messaging[CS].h,tao/POA[CS].h,tao/PollableS.h,
          tao/TimeBaseC.h,tao/corbafwd.h: added TAO_NAMESPACE_CLOSE
          corresponding to each TAO_NAMESPACE.

Thu Aug 12 20:50:37 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * Makefile:
          Added missing '\'

Thu Aug 12 19:54:19 1999  David L. Levine  <levine@cs.wustl.edu>

        * Makefile: set CONTROLLED_FILES to be the entire TAO
          directory.  There were some files and directories that
          weren't be labelled for releases/betas because they
          weren't specifically listed.  I don't think that any
          of them need to be excluded from kits.

Thu Aug 12 17:12:43 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_rettype.cpp:
        * TAO_IDL/be/be_visitor_typecode/typecode_defn.cpp:
        * TAO_IDL/include/ast_predefined_type.h:
          Fixed some incorrect comments found as a by-product of
          making the changes below.

        * TAO_IDL/fe/idl.ll:
        * TAO_IDL/fe/idl.yy:
        * TAO_IDL/fe/y.tab.h:
        * TAO_IDL/fe/y.tab.cpp:
        * TAO_IDL/fe/lex.yy.cpp:
        * TAO_IDL/fe/lex.yy.cpp.diff:
        * TAO_IDL/include/ast_expression.h:
        * TAO_IDL/include/ast_generator.h:
        * TAO_IDL/be_include/be_expression.h:
        * TAO_IDL/be_include/be_generator.h:
        * TAO_IDL/ast/ast_constant.cpp:
        * TAO_IDL/ast/ast_expression.cpp:
        * TAO_IDL/ast/ast_generator.cpp:
        * TAO_IDL/be/be_constant.cpp:
        * TAO_IDL/be/be_expression.cpp:
        * TAO_IDL/be/be_generator.cpp:
        * TAO_IDL/be/be_sunsoft.cpp:
        * TAO_IDL/util/utl_error.cpp:
          Implementation of wide characters in IDL. Includes two new lex
          rules, one to recognize the L' ' form and one to recognize the
          L'\uxxxx' form. Also two new yacc tokens for wchar literal
          and wstring literal, a new production rule for wchar constants,
          a function to parse the escape form of wchar literals, AST_Expression
          and be_expression constructor overloads for wchars, changes in
          coercion of constant values (ACE_OS::WChar has been resized to
          2 bytes to optimize for the Unicode common case), and several
          fill-ins of empty wchar case statements. Modified I/O format for
          wchars, but there's more to be done on that score yet.

Thu Aug 12 16:22:08 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/tests/EC_Custom_Marshal/ECM_Consumer.cpp:
        * orbsvcs/tests/EC_Custom_Marshal/ECM_Supplier.cpp:
        * orbsvcs/tests/EC_Multiple/EC_Multiple.cpp:
        * orbsvcs/tests/EC_Throughput/ECT_Consumer_Driver.cpp:
        * orbsvcs/tests/EC_Throughput/ECT_Supplier_Driver.cpp:
        * orbsvcs/tests/EC_Throughput/ECT_Throughput.cpp:
        * orbsvcs/tests/Event/Basic/Schedule.cpp:
        * orbsvcs/tests/Event/lib/Driver.cpp:
        * utils/nslist/nslist.cpp:
          Removed more gcc-2.95 warnings.

Thu Aug 12 16:06:16 1999  David L. Levine  <levine@cs.wustl.edu>

        * TAO version 1.0.1 released.

Thu Aug 12 15:49:00 1999  David L. Levine  <levine@cs.wustl.edu>

        * Makefile,bin/make_release: build kits in /tmp staging
          area, and copy to ace's ftp pub/ACE directory.

Thu Aug 12 11:45:21 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tests/IDL_Test/Makefile:
          Sometimes the canonical rule for reopened_modules.idl was
          invoked, and not our special one, this resulted in some annoying
          warnings that we want to silence.

Wed Aug 11 13:35:11 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/Typecode_Constants.cpp (init): I didn't remove all
          ServiceContextList related code completely.  Thanks to Carlos
          for pointing this out.

        * tao/UIOP_Transport.cpp (handle_client_input): Changed
          TAO_GIOP_ServiceContextList to IOP::ServiceContextList.  Thanks
          to David for reporting this.

Wed Aug 11 13:06:22 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * rules.tao.GNU:
          Put some sanity back into the definition of the interface_repo
          macro. If set to 1 then we enable the interface repository
          features in TAO, otherwise it is disabled.  The default is to
          have them enabled.

Wed Aug 11 12:13:35 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/AV/AVStreams_i.cpp:
          Fixed memory managment problems in the connected_fep()
          implemenation.
          Fixed connection when using multiple flows.

        * orbsvcs/tests/AVStreams/Makefile:
        * orbsvcs/tests/AVStreams/Latency/Makefile:
        * orbsvcs/tests/AVStreams/Latency/README:
        * orbsvcs/tests/AVStreams/Latency/control.cpp:
        * orbsvcs/tests/AVStreams/Latency/ping.cpp:
        * orbsvcs/tests/AVStreams/Latency/ping.h:
        * orbsvcs/tests/AVStreams/Latency/pong.cpp:
        * orbsvcs/tests/AVStreams/Latency/pong.h:
        * orbsvcs/tests/AVStreams/Latency/svc.conf:
          A simple latency test for the AV streams pluggable protocol
          framework.

Wed Aug 11 11:18:01 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Sched_Filter_Builder.cpp (recursive_build,
          recursive_name): Removed trailing "l" from timeout name.

Wed Aug 11 11:00:37 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tests/Faults/pong.cpp:
          Left hooks to print the exceptions when received. This is useful
          when debugging the program.

        * tests/Faults/Faults.dsw:
        * tests/Faults/pong.dsp:
        * tests/Faults/ping.dsp:
          Added new project files

Wed Aug 11 11:03:29 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Sched_Filter_Builder.cpp (recursive_build,
          recursive_name): changed ACE_CU64_TO_CU32 to a static cast,
          because the division converts to 32 bits with ACE_LACKS_LONGLONG_T.

Wed Aug 11 10:40:54 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Any.cpp:
          Added an ACE_DEBUG message to an ACE_CATCHANY block that I
          missed yesterday.

Wed Aug 11 10:21:05 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tests/NestedUpcall/Simple/client.cpp:
          Removed unused variable

        * tao/Tagged_Components.cpp:
          Use CORBA::Boolean with to_boolean() helper classes, not
          CORBA::Octet.  Unfortunately only a few platform catches those,
          thanks to David for pointing it out.

Wed Aug 11 10:04:57 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * examples/Event_Comm/Consumer_Handler.cpp:
        * examples/OBV/Typed_Events/Event_Types_impl.cpp:
        * examples/POA/Default_Servant/File_i.cpp:
        * examples/Quoter/server.cpp:
        * examples/Simple/bank/AccountManager_i.cpp:
        * examples/Simple/bank/Account_i.cpp:
        * orbsvcs/orbsvcs/Event/EC_Sched_Filter_Builder.cpp:
        * orbsvcs/orbsvcs/Event/RT_Task.cpp:
        * orbsvcs/orbsvcs/Naming/Persistent_Naming_Context.cpp:
        * orbsvcs/orbsvcs/Naming/Transient_Naming_Context.cpp:
        * orbsvcs/orbsvcs/Property/CosPropertyService_i.cpp:
        * orbsvcs/orbsvcs/Trader/Offer_Database.cpp:
        * orbsvcs/orbsvcs/Trader/Service_Type_Repository.cpp:
        * orbsvcs/orbsvcs/Trader/Trader_Utils.cpp:
        * orbsvcs/tests/Event/Basic/BCast.cpp:
        * orbsvcs/tests/Event/Basic/BCast.h:
        * performance-tests/Thruput/TAO/utils.cpp:
        * utils/nslist/nslist.cpp:
          Fixed several warnings under gcc-2.95

Wed Aug 11 09:18:53 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

          The following changes are used to surface the ServiceContextList
          so interceptors can access them at inteception points.

        * tao/ORB_Core.h:
        * tao/ORB_Core.i: The ORB_Core no longer owns the
          ServiceContextList object.  ServiceContextList objects are now
          associated with Invocation or ServerRequest objects.

        * tao/GIOP.cpp:
        * tao/GIOP.h: Disabled the definition/implementation of
          TAO_GIOP_ServiceContextList and changed to use
          IOP::ServiceContextList.  The TAO_GIOP_ServiceContextList was
          apparently redundant.
          (write_request_header): The request ServiceContextList is now
          passed down thru this method and its friends instead of getting
          the default one from the ORB_Core.

        * tao/Server_Request.h:
        * tao/GIOP_Server_Request.cpp:
        * tao/GIOP_Server_Request.h:
        * tao/GIOP_Server_Request.i: ServerRequest and friends now owns
          the request ServiceContextList object passed from the client.
          It also maintains a separate ServiceContextList object for two
          way calls.

        * tao/Pluggable.cpp:
        * tao/Pluggable.h:
        * tao/IIOP_Transport.cpp:
        * tao/IIOP_Transport.h:
        * tao/UIOP_Transport.cpp:
        * tao/UIOP_Transport.h: The <start_request> method now takes an
          extra ServiceContextList argument to build a request headers.

        * tao/Asynch_Invocation.cpp:
        * tao/Asynch_Invocation.h:
        * tao/Asynch_Invocation.i:
        * tao/Invocation.cpp:
        * tao/Invocation.h:
        * tao/Invocation.i: The invocation class now owns the request
          ServiceContextList.  Accessors for both request and reply
          ServiceContextList are added.

        * tao/Transport_Mux_Strategy.cpp:
        * tao/Transport_Mux_Strategy.h: Changed the use of
          TAO_GIOP_ServiceContextList to IOP::ServiceContextList.

        * tao/Reply_Dispatcher.cpp:
        * tao/Reply_Dispatcher.h:
        * tao/Reply_Dispatcher.i: Added accesor to the reply
          ServiceContextList object so we can get a hold on the object
          from the invocation object.

        * tao/Typecode_Constants.cpp: Removed the typecode constant for
          TAO_GIOP_ServiceContext and TAO_GIOP_ServiceContextList.  We now
          use the ones defined in IOPC.cpp.

Wed Aug 11 09:45:23 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/IDL_Test/main.cpp:
          Removed an unneeded '#pragma once' and fixed
          some ACE_CHECK_RETURNs used inside a try block.
          Thanks to David for pointing out the boo-boos.

Tue Aug 10 21:55:52 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/fe/lex.yy.cpp:
        * fe/lex.yy.cpp.diff:
          Substituted a hard 'break;' for TAO_YY_BREAK in
          two places. TAO_YY_BREAK is defined as
          ACE_NOTREACHED (break;), which, for some compilers,
          is defined in OS.h as a null statement. TAO_YY_BREAK
          is used in many places after a 'return xxx' statement,
          but in the aforementioned two places, there was no
          'return', so for those compilers, control was falling
          through to the next case. Thanks to
          Christopher Kohlhoff <chris@kohlhoff.com> for tracking
          this down on Borland C++ Builder.

Tue Aug 10 20:40:32 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Priority_Dispatching.cpp:
          It was ACE_CU64_TO_CU32 instead of ACE_U64_TO_U32

Tue Aug 10 19:59:10 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/Any.h:
        * tao/Any.i:
        * tao/Any.cpp:
        * tao/CDR.h:
        * tao/CDR.i:
          Added the wstring versions of the <<=, >>=, << and >>
          operators. Also moved the <<= operators in Any.i to
          Any.cpp (they are much too long to inline), and
          added an ACE_DEBUG message to the previously empty
          ACE_CATCHANY block in the Any operators.

Tue Aug 10 12:11:44 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/TAO_Test.dsw:
        * tests/README:
          Added IDL_Test project to workspace and added a
          paragraph about IDL_Test to README.

Tue Aug 10 11:52:50 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/ORB_Core.cpp:
          The timeout values were not normalized, leading to strange
          errors in the calls to select()

Tue Aug 10 11:48:46 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tests/IDL_Test/pragma.idl:
        * tests/IDL_Test/run_test.pl:
        * tests/IDL_Test/main.cpp:
        * tests/IDL_Test/Makefile:
        * tests/IDL_Test/README:
          Added new .idl file to generate pragma prefixes,
          including various declarations that have caused
          the prefixes to be dropped in the past. Added code
          to main.cpp to check the correctness of the prefixes,
          and a perl script to run the test. Finally, changes
          to Makefile and README reflecting the above additions.

Tue Aug 10 08:51:12 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Priority_Dispatching.cpp
          (activate): fixed typo, ACE_U64_TO_U32 instead of
          ACE_CU64_TO_U32.

Mon Aug  9 22:26:34 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * TAO_IDL/driver/drv_args.cpp:
          Found a mistake is DRV_usage. When we were toggling the
          default behavior for case-only spelling differences
          between identifiers in the same scope back and forth
          between warning and error, this one got left on the
          wrong toggle.

Mon Aug  9 20:13:04 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tests/IDL_Test/Makefile:
          Now it doesn't re-compile every time, the phony rule to force
          the generation of the reopened_modules.idl was adjusted to
          create a stamp file.

        * orbsvcs/orbsvcs/Event/EC_Priority_Dispatching.cpp:
          Fixed warning under NT.

Mon Aug 09 19:11:12 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tests/InterOp-Naming/{server,client}.dsp: Changed the executable
          names from server/client to INS_test_server/INS_test_client
          respectively.  Thanks to Mitsuhiko Hara
          <Mitsuhiko.Hara@gemsa.med.ge.com> for reporting this.

Mon Aug 09 17:52:42 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/be/be_visitor_root/root_ih.cpp (init):
        * TAO_IDL/be/be_visitor_root/root_sh.cpp (init):
        * TAO_IDL/be/be_interface.cpp (gen_perfect_hash_instance):
        (gen_gperf_lookup_methods): Fixed incorrect usages of %p flag.

Mon Aug  9 17:25:14 1999  Jeff Parsons  <parsons@cs.wustl.edu>

        * tao/DynArray_i.cpp:
          Change to get_arr_length(), which was broken. Maybe
          some code got cut out by mistake with some previous
          change. Thanks to Mitsuhiko Hara
          <Mitsuhiko.Hara@gemsa.med.ge.com> for pointing out
          the problem.

Mon Aug  9 12:00:12 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/IOR_LookupTable.cpp:
          Added missing #include required for platforms without native
          exceptions.

Mon Aug 09 09:38:00 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/Exception.cpp (_tao_errno): only provide the
          ENOTSUP case if ENOTSUP != ENOSYS.  Thanks to Andy
          for reporting this, on NT.

Sun Aug 08 21:09:30 1999  David L. Levine  <levine@cs.wustl.edu>

        * tao/corbafwd.h,Exception.cpp: added minor code support
          for ECOMM, ECONNRESET, and ENOTSUP errnos. [Bug 216]

Sun Aug  8 15:44:15 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tao/Transport_Mux_Strategy.cpp:
          Removed unreachable statement.

        * tao/IORC.cpp:
        * tao/IORManipulation.cpp:
        * tao/IOR_LookupTable.cpp:
        * tao/ObjectIDList.h:
        * tao/ObjectIDList.cpp:
          Removed cyclic dependencies on corba.h, this may fix the
          problems with g++ 2.7.2.X

        * TAO_IDL/Makefile:
        * examples/POA/Loader/Makefile:
        * examples/POA/On_Demand_Activation/Makefile:
        * examples/POA/On_Demand_Loading/Makefile:
        * orbsvcs/tests/ImplRepo/Makefile:
        * performance-tests/Cubit/COOL/IDL_Cubit/Makefile:
        * performance-tests/Cubit/COOL/MT_Cubit/Makefile:
        * performance-tests/Cubit/Orbix/base_server/Makefile:
        * performance-tests/Cubit/Orbix/client/Makefile:
        * performance-tests/Cubit/Orbix/factory_client/Makefile:
        * performance-tests/Cubit/Orbix/tpool/Makefile:
        * performance-tests/Cubit/Orbix/tpr/Makefile:
        * performance-tests/Cubit/Orbix/tps/Makefile:
        * performance-tests/Thruput/COOL/Makefile:
        * performance-tests/Thruput/CORBAplus/Makefile:
        * performance-tests/Thruput/TAO/Makefile:
        * tests/Makefile:
        * utils/catior/Makefile:
        * utils/nslist/Makefile:
          Removed rules.lib.GNU because it wasn't used.

Fri Aug 06 21:45:14 1999  David L. Levine  <levine@cs.wustl.edu>

        * performance-tests/Cubit/TAO/IDL_Cubit/README: fixed
          simplest collocation test example (it doesn't use -c).

Fri Aug  6 21:29:14 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * tests/Makefile:
          The Faults test does not compile under minimum corba

        * orbsvcs/orbsvcs/Event/Event_Channel.cpp:
          Fixed warnings on single threaded environments.

Fri Aug  6 20:51:07 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/examples/RtEC/Schedule/Schedule.h:
        * orbsvcs/examples/RtEC/Schedule/Service.cpp:
        * orbsvcs/examples/RtEC/Schedule/svc.conf:
        * orbsvcs/orbsvcs/Event/EC_Event_Channel.cpp:
        * orbsvcs/orbsvcs/Event/EC_Priority_Dispatching.cpp:
        * orbsvcs/orbsvcs/Event/EC_Priority_Scheduling.cpp:
        * orbsvcs/orbsvcs/Event/EC_ProxySupplier.cpp:
        * orbsvcs/orbsvcs/Event/EC_Sched_Filter.h:
        * orbsvcs/orbsvcs/Event/EC_Sched_Filter.cpp:
        * orbsvcs/orbsvcs/Event/EC_Sched_Filter_Builder.h:
        * orbsvcs/orbsvcs/Event/EC_Sched_Filter_Builder.cpp:
          Fixed numerous problems with the propagation of scheduling
          information, this was the first breakthrough in the solution of
          [BUGID:30]

        * tao/GIOP.cpp:
          For some reason now read() was returning with 0 and errno ==
          EWOULDBLOCK when the connection was closed, this fixes the
          recent time outs on the server shutdown for both the Latency and
          the MT_Server test.

Fri Aug  6 19:30:00 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * docs/releasenotes/trader.html: changed code snippets in
          documentation to have ACE exception macros instead of TAO
          exception macros.

Fri Aug  6 18:31:31 1999  Mike Moran  <mm4@cs.wustl.edu>

        * tests/Explicit_Event_Loop/
        * tests/Explicit_Event_Loop/Makefile:
        * tests/Explicit_Event_Loop/CHANGES:
        * tests/Explicit_Event_Loop/README:
        * tests/Explicit_Event_Loop/client.cpp:
        * tests/Explicit_Event_Loop/run_test.pl:
        * tests/Explicit_Event_Loop/server.cpp:
        * tests/Explicit_Event_Loop/server.h:
        * tests/Explicit_Event_Loop/time.idl:
        Added a simple test to use work_pending() and perform_work()
        at the request of [BUGID:202].

Fri Aug  6 17:10:33 1999  Pradeep Gore  <pradeep@ace.cs.wustl.edu>

        * examples/Event_Comm/Consumer_Handler.cpp:
        * examples/Event_Comm/Notifier_Handler.cpp:
        * examples/Event_Comm/Notifier_Server.cpp:
        Added missing code to activate the POA Manager.
        Thanks to Hoang Duong <hduong@lycosmail.com> for reporting this.

Fri Aug  6 16:30:30 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * examples/Borland/ChatClientWnd.cpp: Improved the printouts
          that are called to display which exceptions are thrown.  Thanks
          to Christopher Kohlhoff <chris@kohlhoff.com> for contributing
          this.

Fri Aug 06 14:24:49 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tao/orbconf.h (TAO_DEFAULT_RESOURCE_FACTORY_ARGS): Replaced
          the obsolete option -ORBReactorLock with -ORBReactorType.

Thu Aug 05 15:48:44 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * orbsvcs/Naming_Service/Naming_Service.dsp:
        * orbsvcs/orbsvcs/orbsvcs.dsp:
        * tao/TAO.dsp: Changed the default configuration to Win32 Debug so
          if anyone doesn't know what he is doing, he'll most likely to
          success.

Fri Aug 06 13:20:23 1999  Carlos O'Ryan  <coryan@JIG>

        * tao/ORB_Core.cpp:
        * tao/default_server.cpp:
          The thread per connection timeouts where not properly
          initialized by default. Thanks to Alexander Villatora
          <alex@cfx.com> for reporting this problem.

        * tao/IIOP_Connect.cpp:
          Added some debugging messages.

        * performance-tests/Latency/Latency.dsw:
        * performance-tests/Latency/st_client.dsp:
        * performance-tests/Latency/st_server.dsp:
          Added missing project files.

        * performance-tests/Latency/st_client.cpp:
          Added option to pace the requests.

        * tao/orbconf.h:
          Fixed a comment

Fri Aug 06 11:03:53 1999  David L. Levine  <levine@cs.wustl.edu>

        * orbsvcs/Concurrency_Service/Makefile,
          orbsvcs/Naming_Service/Makefile,
          orbsvcs/Trading_Service/Makefile:
          removed unnecessary include of include/makeinclude/rules.lib.GNU.
          It bothered builds on NT for VxWorks target.  Thanks to
          Erik Johannes <ejohannes@oresis.com> and Stephane Chatre
          <schatre@oresis.com> for reporting this. [Bug 210]

Fri Aug 06 10:39:36 1999  David L. Levine  <levine@cs.wustl.edu>

        * performance-tests/Cubit/TAO/MT_Cubit/Globals.cpp (get_low_priority):
          added some ACE_UNUSED_ARGS when ACE_HAS_THREADS isn't #defined.
          Thanks to Carlos for reporting this, automatically.

Thu Aug  5 19:13:36 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/tests/EC_Basic/EC_Basic.cpp:
          Fixed the test, it was crashing because the disconnect() call
          was effectively disabling any chance of reconnecting the
          suppliers. This fixes [BUGID:209]

Thu Aug  5 17:19:43 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tests/Xt_Stopwatch/README: Updated the file to add some info
          about the svc.conf file and the resources that needs to be set.
          Thanks to Arno Pernozzoli <pernozzoli@bigfoot.com> for
          suggesting this.

Thu Aug  5 16:36:18 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * Benchmark/benchmark/Makefile:
        * examples/POA/Generic_Servant/Makefile:
        * examples/Simple/time-date/Makefile:
        * orbsvcs/orbsvcs/Makefile:
        * orbsvcs/tests/Event/lib/Makefile:
        * orbsvcs/tests/Trading/Makefile:
        * tao/Makefile:
          Changed to use the new ACE_SHLIBS macro, this should let TAO
          compile under AIX, fixing [BUGID:171]

Thu Aug  5 16:04:04 1999  Douglas C. Schmidt  <schmidt@mambo.cs.wustl.edu>

        * tests/XtStopwatch: Updated this test to make the code
          conform to the TAO programming style.

Thu Aug  5 15:46:38 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_Type_Filter.cpp:
          Fixed the wildcard matching routines, wildcards on the producers
          where not matched properly. This fixes [BUGID:96]

        * orbsvcs/tests/Event/Basic/Makefile:
        * orbsvcs/tests/Event/Basic/run_test.pl:
        * orbsvcs/tests/Event/Basic/Wildcard.h:
        * orbsvcs/tests/Event/Basic/Wildcard.cpp:
          Added a new test to verify that the wildcard features in the
          event channel do work. Thanks to Paul Calabrese for pointing out
          these problems.

Thu Aug 05 15:29:16 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * performance-tests/Cubit/TAO/IDL_Cubit/collocation_test.cpp
          (main): Unlink the ior file when we are done.

Thu Aug 05 14:57:00 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tests/Collocation/Coll_Test_Skels.dsp:
        * tests/Collocation/skel_export.h:
          Replaced these two files with Diamond.dsp and diamond_export.h.

        * tests/Collocation/Diamond.dsp:
        * tests/Collocation/diamond_export.h: The new Diamond library
          contains not only the skeletons but also the implementations for
          Diamond objects.

        * tests/Collocation/Diamond_i.h: Added Diamond_Export to all
          classes.

        * tests/Collocation/Coll_Test_Stubs.dsp: Updated the IDL custom
          build settings.

        * tests/Collocation/Collocation.dsp: Removed Diamond.idl from the
          project.  It no longer depends on it.  Change the use of skel
          library to Diamond library.

        * tests/Collocation/Collocation.dsw:
        * tests/Collocation/README: Adapt the above changes.

          Thanks to Francois Bernier <fbernier@gel.ulaval.ca> for
          motivating the change.

Thu Aug 05 14:38:48 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * TAO_IDL/be_include/be_interface.cpp (be_interface_type_strategy):
        * TAO_IDL/be/be_interface.cpp (be_interface_type_strategy,
          compute_coll_names,full_coll_name,local_coll_name): Some fixes
          to the collocation name computations got erased during recent
          AMI merge.

Thu Aug  5 12:46:15 1999  Douglas C. Schmidt  <schmidt@ace.cs.wustl.edu>

        * TAO_IDL/driver/drv_args.cpp (DRV_usage): Improved the IDL compiler
          documentation for the -Ge option.  Thanks to Paul Calabrese
          <calabrese_p@ociweb.com> for suggesting this.

Thu Aug  5 12:47:00 1999  Chris Gill  <cdgill@cs.wustl.edu>

        * orbsvcs/orbsvcs/Sched/DynSched.cpp
          orbsvcs/orbsvcs/Sched/Scheduler_Generic.cpp: fixed ACE guard usage
          for multi-threaded case.

Thu Aug  5 11:46:01 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * rules.tao.GNU: Moved  the definition of interface_repo from
          $ACE_ROOT/include/makeinclude/wrapper_macros.GNU here as per
          Dr.Levine's suggestions

        * tao/InterfaceC.h: Added #incude "tao/varout.h" to fix an error
          with SunCC4.2. This #include should bring in the definition of
          TAO_Object_Field_T <T, T_var>.

Thu Aug  5 09:13:53 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * tao/ORB.cpp (work_pending): Reverted the implementation so
          that it always returns 1 and doesn't forward to the Reactor's
          work_pending() method.  Irfan needs to fix this when he returns.
          Thanks to Trey Grubbs <t-grubbs1@raytheon.com> for reporting
          this.

        * TAO_IDL/driver/drv_args.cpp (DRV_usage): Changed the output
          so that it correctly indicates that C++ exception support is
          enabled by default.  Thanks to Alex Hornby <alex@anvil.co.uk>
          for reporting this.

Thu Aug 05 12:05:42 1999  David L. Levine  <levine@cs.wustl.edu>

        * rules.tao.GNU: moved minimum_corba make flag support from
          ../wrapper_macros.GNU to rules.tao.GNU.  Thanks to Bala for
          noticing this. [Bug 204]

Wed Aug  4 22:28:07 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/InterfaceC.cpp: Fixed warnings on Linux

Wed Aug 04 21:16:08 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * version_tests.dsw:
        * orbsvcs/tests/Event/Event.dsw:
        * orbsvcs/tests/Event/Basic/Basic.dsw:
        * orbsvcs/tests/Event/Basic/Timeout.dsp:
          Added the new test to the NT project files.

Wed Aug  4 20:35:06 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * orbsvcs/orbsvcs/Event/EC_ProxySupplier.h:
        * orbsvcs/orbsvcs/Event/EC_ProxySupplier.cpp:
        * orbsvcs/orbsvcs/Event/EC_QOS_Info.h:
        * orbsvcs/orbsvcs/Event/EC_QOS_Info.i:
        * orbsvcs/orbsvcs/Event/EC_Timeout_Filter.h:
        * orbsvcs/orbsvcs/Event/EC_Timeout_Filter.cpp:
          Fixed deadline timeouts and timeouts in conjunction groups, this
          fixes both [BUGID:94] and [BUGID:95]

        * orbsvcs/orbsvcs/Event/EC_Sched_Filter_Builder.cpp:
        * orbsvcs/orbsvcs/Event/EC_Basic_Filter_Builder.cpp:
          Fixed problem when building conjunction groups that contain
          timeout events too.

        * orbsvcs/tests/Event/Basic/Makefile:
        * orbsvcs/tests/Event/Basic/run_test.pl:
        * orbsvcs/tests/Event/Basic/Timeout.h:
        * orbsvcs/tests/Event/Basic/Timeout.cpp:
          Added a new test to verify that the EC timeout events work
          correctly.  Thanks to Paul Calabrese <calabrese_p@ociweb.com>
          for providing the use and reporting the bugs.

Wed Aug  4 17:40:00 1999  Chris Gill  <cdgill@cs.wustl.edu>

        * orbsvcs/orbsvcs/Sched/DynSched.cpp
          orbsvcs/orbsvcs/Sched/Scheduler_Generic.cpp: fixed ACE guard usage
          for single threaded case.

Wed Aug  4 16:57:45 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/InterfaceC.cpp:
        * tao/InterfaceC.i:Made changes to theses files to compile on NT.

        * tao/TAO.dsp:
        * tao/TAO_Static.dsp:Added files of Interface Repo to these
          project files.

        * tao/orbconf.h: Added a definition for the interface
          repository. The files can be compiled by uncommenting the
          #define for the interface repository.

Wed Aug  4 15:57:38 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO_IDL/be_include/be_interface.h:
          Fixed warnings under IRIX/MIPSPro

Wed Aug  4 15:40:40 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * examples/Makefile:
          Do not compile the AMI example, asynchronous messaging is still
          disabled by default.

Wed Aug  4 15:20:03 1999  Douglas C. Schmidt  <schmidt@tango.cs.wustl.edu>

        * examples/Simple/time-date/Time_Date: Updated this example to
          illustrate the use of special-purpose Reactors, e.g., if the
          platform doesn't support threads.  Thanks to Shaun Ohagan
          <jk13@dial.pipex.com> for motivating this.

Wed Aug 04 14:14:22 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * performance-tests/Cubit/TAO/IDL_Cubit/collocation_test.cpp
          (main):  Removed an unused variable.  Thanks to Carlos for
          reporting this.

Wed Aug  4 12:02:45 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * Integrated the changes in the ami_phase4 branch, this includes
          the support in the IDL compiler, request muxing over the same
          connection, generation of ReplyHandlers, the AMI demo, support
          for multiple threads waiting for a reply on the same connection,
          etc. The changes are summarized below, most of them were done
          by Alex and Michael, I contributed the demo.

        * tao/Reply_Dispatcher.cpp:
          Optimized reply dispatching, there is no need to create a new
          CORBA_Environment (which is an expensive operation) when there
          is a TSS environment object available.

        * performance-tests/Latency/Makefile:
        * performance-tests/Latency/ami-latency-client.cpp:
        * performance-tests/Latency/ami-throughput-client.cpp:
        * performance-tests/Latency/client-st-muxed.conf:
        * performance-tests/Latency/client.cpp:
        * performance-tests/Latency/st-client.cpp:
        * performance-tests/Latency/test.idl:
        * performance-tests/Latency/test_i.cpp:
        * performance-tests/Latency/test_i.h:
          To measure round-trip latencies in two-way asynchronous requests
          we simply send the time-stamp as an argument for the request,
          which is returned and used in the ReplyHandler to measure the
          delay.

        * examples/Makefile:
        * examples/AMI/Makefile:
        * examples/AMI/FL_Callback/Makefile:
        * examples/AMI/FL_Callback/README:
        * examples/AMI/FL_Callback/test.idl:
        * examples/AMI/FL_Callback/Peer_i.cpp:
        * examples/AMI/FL_Callback/Peer_i.h:
        * examples/AMI/FL_Callback/Peer_i.i:
        * examples/AMI/FL_Callback/Progress_i.cpp:
        * examples/AMI/FL_Callback/Progress_i.h:
        * examples/AMI/FL_Callback/Progress_i.i:
        * examples/AMI/FL_Callback/peer.conf:
        * examples/AMI/FL_Callback/peer.cpp:
        * examples/AMI/FL_Callback/progress.cpp:
        * examples/AMI/FL_Callback/svc.conf:
          New demo for asynchronous messaging, it uses a simple GUI to
          display the progress in the clients as requests and replys are
          sent asynchronously.

        * TAO_IDL/be/be_visitor_interface/ami_handler_stub_ch.cpp:
          The _nil() methods where not generated properly.

        * TAO_IDL/be/be_visitor_operation/ami_handler_skeleton_cs.cpp:
          The "smart stubs" where not working for void functions without
          out or inout arguments, thanks to Michael for helping me out
          with this fix.

        * performance-test/Latency/Makefile
        * performance-test/Latency/README
        * performance-test/Latency/client-st-exclusive.conf
        * performance-test/Latency/client-st-muxed.conf
        * performance-test/Latency/client.cpp
        * performance-test/Latency/server.conf
        * performance-test/Latency/server.cpp
        * performance-test/Latency/st-client.cpp : Test suite for AMI.

        * performance-test/Latency/ami-throughput-client.cpp : Added this test.

        * performance-test/Latency/client.exclusive.conf : Removed this
          file. I have conf files for st and mt case separately now.

        * performance-test/Latency/Makefile : Added the st-client test and
          AMI test.  To compile AMI  make AMI=1. But you cannot use the
          testC.cpp generated by TAO IDL. You should use
          test-handC.cpp. You should just copy this file onto testC.cpp.

        * performance-test/Latency/ami-latency-client.cpp : AMI test.

        * performance-test/Latency/st-client.cpp : Single threaded SMI
          test.

        * performance-test/Latency/client-st-exclusive.conf : SMI
          test. Wait on Reactor.

        * performance-test/Latency/client-mt-exclusive.conf : SMI wait on
          leader follower.

        * tao/Invocation.cpp
        * tao/Pluggable.cpp
        * tao/Pluggable.h
        * tao/Transport_Mux_Strategy.cpp
        * tao/Transport_Mux_Strategy.h

          Removed the unnessary accessors for the reply_received
          flag. Added comments about addressing the problem of "idling the
          Transport after an asynchronous reply is received over an
          exclusive connection.

        * tao/GIOP.h
        * tao/Object_Adapter.cpp
        * tao/Object_Adapter.h
        * tao/Object_Adapter.i
        * tao/Reply_Dispatcher.cpp
        * tao/Stub.cpp : Merged the changes Carlos and Irfan did in the
          main brach fixing the memory leaks and optimizing a few locks
          here and there.

        * performance-tests/Latency/Makefile
        * performance-tests/Latency/client.cpp
        * performance-tests/Latency/test.idl
        * performance-tests/Latency/test_i.cpp
        * performance-tests/Latency/test_i.h
        * performance-tests/Latency/client.exclusive.conf
        * performance-tests/Latency/ami-latency-client.cpp
        * performance-tests/Latency/client-st-muxed.conf : Latency test is
          in place now. This should do for Throughput meaurement also.

        * tests/AMI/client.cpp: Cosmetic changes.
        * tao/Reply_Dispatcher.cpp: Removed the unneccessary ACE_DEBUG's.

        * tests/AMI/README
        * tests/AMI/client.conf
        * tests/AMI/client.cpp
        * tests/AMI/client.muxed.conf
        * tests/AMI/run_test.pl
        * tests/AMI/server.cpp
        * tests/AMI/simple-client.cpp
        * tests/AMI/test-handC.cpp
        * tests/AMI/test.idl
        * tests/AMI/test_i.cpp
        * tests/AMI/test_i.h : Latest and the greates AMI test. Got it to
          work with MT as well as ST configuration. MUXED as well as
          EXCLUSIVE configuation.
          run_test.pl is not set up yet.
          There are some minor fixes needed for the TAO IDL compiler to
          generate correct AMI code. Right now, once the TAO IDL compiler
          generates the files, rewrite testC.cpp by test-handC.cpp which
          has the hand crafted correct code for AMI.

        * tao/Client_Strategy_Factory.cpp
        * tao/Client_Strategy_Factory.h
        * tao/ORB_Core.cpp
        * tao/Pluggable.cpp
        * tao/Reply_Dispatcher.cpp
        * tao/Reply_Dispatcher.h
        * tao/Transport_Mux_Strategy.cpp
        * tao/Transport_Mux_Strategy.h
        * tao/Wait_Strategy.cpp
        * tao/default_client.cpp
        * tao/default_client.h : Changes are in for the Muxed Leader
          Follower implementation.

        * tests/NestedUpcall/Simple/simple-client.cpp
        * tests/MT_Client/simple-client.conf
        * tests/MT_Client/client_muxed.conf : Added these files.

        * tests/NestedUpcall/Simple/client.cpp
        * tests/NestedUpcall/Simple/server.cpp : cosmetic changes.

        * tao/ORB_Core.cpp
        * tao/Reply_Dispatcher.cpp
        * tao/Reply_Dispatcher.h
        * tao/Wait_Strategy.cpp : Integrated Carlos's changes to the
          leader follower model done in the main branch.

        * tao/Wait_Strategy.cpp:  Added debug statements.
        * tao/GIOP.cpp : Modifications to the dump message routine.

        * tao/IIOP_Connect.cpp
        * tao/IIOP_Connect.h
        * tao/ORB_Core.cpp
        * tao/ORB_Core.h
        * tao/Pluggable.cpp
        * tao/Pluggable.h
        * tao/Reply_Dispatcher.cpp
        * tao/Reply_Dispatcher.h
        * tao/UIOP_Connect.cpp
        * tao/UIOP_Connect.h
        * tao/Wait_Strategy.cpp
        * tao/Wait_Strategy.h
          Changes for the Muxed Leader Follower Wait Strategy. This is
          leader follower will be created when MT connection handler and
          MUXED transport is selected.

        * tao/GIOP.cpp
        * tao/GIOP.h
        * tao/IIOP_Connect.cpp
        * tao/IIOP_Connect.h
        * tao/UIOP_Connect.cpp
        * tao/UIOP_Connect.h
          Successfully finished implementing the Muxed Transport
          implementation, but still single threaded. The cool thing is
          that the NestedUpcall also works on the Muxed Transport
          case. Needed to make some changes on the Server Connection
          Handler also, so that it resets the message state before making
          the upcall. We steal the CDR from there on the stack.

        * tao/Wait_Strategy.cpp
        * tao/Wait_Strategy.h
        * tao/default_client.cpp
          Moved the Leader Follower implementation to Exclusive Leader
          Follower class, leaving way for implementing the new Muxed
          Leader Follower implementation.

        * tao/Invocation.cpp
        * tao/Invocation.h
        * tao/Pluggable.cpp
        * tao/Pluggable.h
        * tao/Reply_Dispatcher.cpp
        * tao/Reply_Dispatcher.h
        * tao/Wait_Strategy.cpp
        * tao/Wait_Strategy.h
          Terminating reactor event loop based on the reply_received flag
          in the reply dispatcher. Reference to this
          <reply_dispatcher::reply_received_> is passed to the wait
          strategy from the Invocation class.

        * tao/Invocation.h:
        * tao/Invocation.cpp:
          Added destructors for the Synchronous Invocations classes.

        * TAO_IDL/be/be_visitor_operation/ami_handler_thru_poa_collocated_ch.cpp
        * TAO_IDL/be_include/be_visitor_operation/ami_handler_thru_poa_collocated_ch.h:
          Added these files to generate AMI Reply Handler code.

        * TAO_IDL/be/be_decl.cpp
        * TAO_IDL/be/be_helper.cpp
        * TAO_IDL/be/be_interface.cpp
        * TAO_IDL/be/be_interface_fwd.cpp
        * TAO_IDL/be/be_predefined_type.cpp
        * TAO_IDL/be/be_sequence.cpp
        * TAO_IDL/be/be_structure.cpp
        * TAO_IDL/be/be_type.cpp
        * TAO_IDL/be/be_union.cpp
        * TAO_IDL/be/be_union_branch.cpp
        * TAO_IDL/be/be_valuetype.cpp
        * TAO_IDL/be/be_valuetype_fwd.cpp
        * TAO_IDL/be/be_visitor_factory.cpp
        * TAO_IDL/be/be_visitor_interface.cpp
        * TAO_IDL/be/be_visitor_operation.cpp
        * TAO_IDL/be/be_visitor_rettype.cpp
        * TAO_IDL/be/be_visitor_scope.cpp
        * TAO_IDL/be/be_visitor_argument/argument.cpp
        * TAO_IDL/be/be_visitor_array/array_ch.cpp
        * TAO_IDL/be/be_visitor_array/array_ci.cpp
        * TAO_IDL/be/be_visitor_array/array_cs.cpp
        * TAO_IDL/be/be_visitor_array/cdr_op_ch.cpp
        * TAO_IDL/be/be_visitor_array/cdr_op_ci.cpp
        * TAO_IDL/be/be_visitor_exception/ctor_assign.cpp
        * TAO_IDL/be/be_visitor_exception/exception_ch.cpp
        * TAO_IDL/be/be_visitor_exception/exception_ctor.cpp
        * TAO_IDL/be/be_visitor_field/cdr_op_ci.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_cs.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_fwd_ch.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_fwd_ci.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_servant_ch.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_servant_cs.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_stub_ch.cpp
        * TAO_IDL/be/be_visitor_interface/ami_handler_stub_cs.cpp
        * TAO_IDL/be/be_visitor_interface/any_op_ch.cpp
        * TAO_IDL/be/be_visitor_interface/any_op_cs.cpp
        * TAO_IDL/be/be_visitor_interface/collocated_ami_handler_ch.cpp
        * TAO_IDL/be/be_visitor_interface/direct_collocated_sh.cpp
        * TAO_IDL/be/be_visitor_interface/direct_collocated_ss.cpp
        * TAO_IDL/be/be_visitor_interface/interface.cpp
        * TAO_IDL/be/be_visitor_interface/interface_ch.cpp
        * TAO_IDL/be/be_visitor_interface/interface_ci.cpp
        * TAO_IDL/be/be_visitor_interface/interface_cs.cpp
        * TAO_IDL/be/be_visitor_interface/interface_ih.cpp
        * TAO_IDL/be/be_visitor_interface/interface_is.cpp
        * TAO_IDL/be/be_visitor_interface/interface_sh.cpp
        * TAO_IDL/be/be_visitor_interface/interface_ss.cpp
        * TAO_IDL/be/be_visitor_interface/thru_poa_collocated_sh.cpp
        * TAO_IDL/be/be_visitor_interface/thru_poa_collocated_ss.cpp
        * TAO_IDL/be/be_visitor_interface/tie_sh.cpp
        * TAO_IDL/be/be_visitor_interface/tie_si.cpp
        * TAO_IDL/be/be_visitor_interface_fwd/interface_fwd_ch.cpp
        * TAO_IDL/be/be_visitor_operation/ami_arglist.cpp
        * TAO_IDL/be/be_visitor_operation/ami_cs.cpp
        * TAO_IDL/be/be_visitor_operation/ami_handler_operation_ch.cpp
        * TAO_IDL/be/be_visitor_operation/ami_handler_operation_cs.cpp
        * TAO_IDL/be/be_visitor_operation/argument.cpp
        * TAO_IDL/be/be_visitor_operation/argument_marshal.cpp
        * TAO_IDL/be/be_visitor_operation/exceptlist_cs.cpp
        * TAO_IDL/be/be_visitor_operation/operation_ami_cs.cpp
        * TAO_IDL/be/be_visitor_operation/operation_cs.cpp
        * TAO_IDL/be/be_visitor_operation/operation_is.cpp
        * TAO_IDL/be/be_visitor_operation/operation_ss.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_obj_sequence_ci.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_obj_sequence_cs.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_ci.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_sequence_cs.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_str_sequence_ci.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_bounded_str_sequence_cs.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_obj_sequence_ci.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_obj_sequence_cs.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_ci.cpp
        * TAO_IDL/be/be_visitor_sequence/gen_unbounded_sequence_cs.cpp
        * TAO_IDL/be/be_visitor_sequence/sequence_ch.cpp
        * TAO_IDL/be/be_visitor_sequence/sequence_ci.cpp
        * TAO_IDL/be/be_visitor_sequence/sequence_cs.cpp
        * TAO_IDL/be/be_visitor_typecode/typecode_defn.cpp
        * TAO_IDL/be/be_visitor_union/cdr_op_ci.cpp
        * TAO_IDL/be/be_visitor_union/union_ch.cpp
        * TAO_IDL/be/be_visitor_union/union_ci.cpp
        * TAO_IDL/be/be_visitor_union_branch/cdr_op_ci.cpp
        * TAO_IDL/be/be_visitor_union_branch/public_access_cs.cpp
        * TAO_IDL/be/be_visitor_union_branch/public_assign_cs.cpp
        * TAO_IDL/be/be_visitor_union_branch/public_ci.cpp
        * TAO_IDL/be/be_visitor_union_branch/public_reset_cs.cpp
        * TAO_IDL/be/be_visitor_valuetype/field_cdr_ci.cpp
        * TAO_IDL/be/be_visitor_valuetype/field_cs.cpp
        * TAO_IDL/be/be_visitor_valuetype/marshal_cs.cpp
        * TAO_IDL/be/be_visitor_valuetype/valuetype.cpp
        * TAO_IDL/be/be_visitor_valuetype/valuetype_ch.cpp
        * TAO_IDL/be/be_visitor_valuetype/valuetype_ci.cpp
        * TAO_IDL/be/be_visitor_valuetype/valuetype_cs.cpp
        * TAO_IDL/be/be_visitor_valuetype/valuetype_obv_ch.cpp
        * TAO_IDL/be/be_visitor_valuetype/valuetype_obv_cs.cpp
        * TAO_IDL/be/be_visitor_valuetype_fwd/interface_fwd_ch.cpp
        * TAO_IDL/be/be_visitor_valuetype_fwd/interface_fwd_ci.cpp
        * TAO_IDL/be_include/be_codegen.h
        * TAO_IDL/be_include/be_decl.h
        * TAO_IDL/be_include/be_helper.h
        * TAO_IDL/be_include/be_interface.h
        * TAO_IDL/be_include/be_visitor_interface.h
        * TAO_IDL/be_include/be_visitor_operation.h:
          Edited all the files to generate AMI Handler code, I also
          changed "fullname ()" methods to "full_name ()" to
          be more consistent. The code generation for AMI
          Handlers uses a strategy on the be_interface node.
          This strategy hides all the differences betwenn
          the name generations.

        * tao/PollableC.cpp:
          Fixed the the usage of env instead of ACE_TRY_ENV.

Wed Aug 04 02:10:59 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * performance-tests/Cubit/TAO/IDL_Cubit/Cubit_Client.{h,cpp}:
          There is no need to obtain a remote object reference for
          shutdown anymore.  Re-organized and simplified the client code
          so that it no longer contains TAO specific code.

        * performance-tests/Cubit/TAO/IDL_Cubit/collocation_test.cpp:
          Modified the code to adapt to the change made to Cubit_Client.
          Changed to fake both the client side and the server side
          command lines all the way thru.  This allows much more
          flexibility in invoking the collocation tests.  Thanks to David
          for suggesting this.

        * performance-tests/Cubit/TAO/IDL_Cubit/README:  Added
          documentation on how to use the new collocation test.

        * performance-tests/Cubit/TAO/IDL_Cubit/{client,server}.dsp:
        * performance-tests/Cubit/TAO/IDL_Cubit/collocation_test.dsp:
          Changed the tao_idl custom build settings to always generate
          both THRU_POA and DIRECT collocated stubs.

Wed Aug  4 00:30:34 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * tao/orbconf.h:
          Changed the default: TAO_CONNECTION_CACHING_STRATEGY to LRU.

        * docs/Options.html:
          Added ORBConnectionCachingStrategy and ORBPurgePercentage
          options.

Wed Aug  4 00:23:34 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/InterfaceC.cpp:
        * tao/InterfaceC.h : Made some changes according to TAO conventions

Tue Aug  3 22:25:13 1999  Balachandran Natarajan  <bala@cs.wustl.edu>

        * tao/Makefile:
        * tao/corbafwd.h :
        * tao/InterfaceC.h :
        * tao/InterfaceC.cpp :
        * tao/InterfaceC.i : If the user wants to use the interface
          repository he has to compile with the flag
          interface_repo=1. Also made these files compilable by the
          Makefile. The files would be compiled by default but the actual
          code would go in to the library only if the above compile flag
          is set.

Tue Aug 03 18:40:47 1999  Kirthika Parameswaran  <kirthika@cs.wustl.edu>

        * tao/IIOP_Connect.{h,cpp} (TAO_IIOP_Client_Connection_Handler):
        * tao/UIOP_Connect.{h, cpp} (TAO_UIOP_Client_Connection_Handler):
          Added <handle_cleanup> method which abstracts the deregistration
          of the handler from the reactor. Added <handle_close_i> which is
          a non-locking version of <handle_close>.

        * tao/IIOP_Connector.{h,cpp}: (open):
        * tao/UIOP_Connector.{h,cpp}: (open):
          Added auto_ptr as a safety measurement for the dynamically
          allocated variables. Also, the <caching_strategy> now
          uses ACE_Refcounted_Recyclable_Caching_Utility.

        * tao/Acceptor_Impl.cpp (out_of_sockets_handler):
          Added the iteration over the different ORBs in the system for
          purging 'old' connections.

        * tests/Connection_Purging/Connection_Purging.cpp:
        * tests/Connection_Purging/Makefile:
        * tests/Connection_Purging/run_test.pl:
        * tests/Connection_Purging/README:
        * tests/Connection_Purging/svc.conf:
        * tests/Connection_Purging/test.idl:
          This is a test which stress tests the connection management and
          the caching and purging of connections when the process runs out
          of handles.

Tue Aug 03 16:17:00 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * tests/Collocation/Coll_Test_Skels.dsp:
        * tests/Collocation/Coll_Test_Stubs.dsp:
        * tests/Collocation/Coll_Tester.cpp:
        * tests/Collocation/Collocation.dsp:
        * tests/Collocation/Collocation.dsw:
        * tests/Collocation/skel_export.h:
        * tests/Collocation/stub_export.h: Rewrote the example to create a
          stub DLL, a skel DLL which links against the stub DLL, and made
          the test to use both DLLs as an example on how to do this.
          Thanks to Francois Bernier <fbernier@gel.ulaval.ca> for
          motivating the change.

        * TAO_IDL/be/be_codegen.cpp (start_server_header): We need to
          overwrite the macro TAO_EXPORT_MACRO so that the macro
          TAO_NAMESPACE_STORAGE_CLASS can be defined properly.  This is
          not causing any problem for the time being because there's
          currently no static object in skeleton files.  However, I think
          I should still make the change so we won't have to debug a
          mystery in the future.

Tue Aug 03 16:15:00 1999  Chris Gill  <cdgill@cs.wustl.edu>

        * orbsvcs/orbsvcs/Sched/Reconfig_Scheduler_T.cpp: replaced auto_ptr
          reset workaround for TAO 1.0, using ACE_AUTO_PTR_RESET macro.

Mon Aug  2 18:43:15 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * performance-tests/Cubit/TAO/IDL_Cubit/run_test.pl:
          Print the precise error code returned from the server or client
          if they die.

        * tests/Cubit/TAO/IDL_Cubit/server.cpp:
          Sleep before exit to avoid crashes.

        * ORB_Core.cpp:
          The ORB was not waiting for the threads it creates if the
          -ORBThreadPerConnectionTimeout option was used.

Mon Aug  2 17:13:27 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * docs/releasenotes/index.html:
          Updated the notes about the IDL compiler and some other details.

Mon Aug  2 12:23:18 1999  Carlos O'Ryan  <coryan@cs.wustl.edu>

        * TAO_IDL/ast/ast_module.cpp:
          Use the -w flag (to disable warnings) when complaining about
          reopened modules in platforms without namespaces.

        * tests/IDL_Test/Makefile:
          Added -w for the compilation of reopened_modules.idl, the
          generated code is not compiled in platforms without namespaces,
          so there is no real problem.

        * orbsvcs/examples/RtEC/Schedule/Makefile:
          Added -I$TAO_ROOT/orbsvcs/orbsvcs/Sched to CPPFLAGS so the
          DU/CXX compiler can find all the files to instantiate
          templates.

Mon Aug  2 11:44:03 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/IIOP_Connector.cpp (open):
        * tao/UIOP_Connector.cpp (open):

          Additional minor code reorganization to aid in prevention of
          potential memory leak.

Mon Aug  2 10:28:25 1999  Ossama Othman  <othman@cs.wustl.edu>

        * tao/IIOP_Connector.cpp (open):
        * tao/UIOP_Connector.cpp (open):

          Use ACE_NEW_RETURN macros instead of basic C++ `new' to allocate
          memory.

          Moved allocation of connector lock after call to
          make_caching_strategy() to prevent a potential memory leak from
          occurring.

Sun Aug 01 10:30:54 1999  Nanbor Wang  <nanbor@cs.wustl.edu>

        * examples/OBV/Typed_Events/Client_i.h: This file needs check-in
          too.
