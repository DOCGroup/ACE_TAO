--- RTPortableServerC.h	Fri Sep 29 01:51:22 2000
+++ ..\RTPortableServerC.h	Fri Sep 29 02:04:44 2000
@@ -23,14 +23,15 @@
 #define _TAO_IDL_RTPORTABLESERVERC_H_
 
 #include "ace/pre.h"
-#include "tao/corba.h"
+#include "PortableServerC.h"
+
+#if (TAO_HAS_RT_CORBA == 1)
 
 #if !defined (ACE_LACKS_PRAGMA_ONCE)
 # pragma once
 #endif /* ACE_LACKS_PRAGMA_ONCE */
 
-#include "PortableServerC.h"
-#include "RTCORBAC.h"
+#include "tao/RTCORBAC.h"
 
 #if defined (TAO_EXPORT_MACRO)
 #undef TAO_EXPORT_MACRO
@@ -125,7 +126,7 @@
 #if !defined (_RTPORTABLESERVER_POA_CH_)
 #define _RTPORTABLESERVER_POA_CH_
 
-class TAO_PortableServer_Export POA: public virtual PortableServer::POA
+class TAO_PortableServer_Export POA: public PortableServer::POA
   {
   public:
   #if !defined(__GNUC__) || !defined (ACE_HAS_GNUG_PRE_2_8)
@@ -232,6 +233,8 @@
 #if defined(_MSC_VER) && (_MSC_VER >= 1200)
 #pragma warning(pop)
 #endif /* _MSC_VER */
+
+#endif /* TAO_HAS_RT_CORBA */
 
 #include "ace/post.h"
 #endif /* ifndef */
