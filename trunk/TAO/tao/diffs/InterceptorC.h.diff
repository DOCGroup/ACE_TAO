--- InterceptorC.h	Fri Apr 28 13:23:22 2000
+++ InterceptorC.h.orig	Fri Apr 28 13:22:03 2000
@@ -1,4 +1,4 @@
-/* -*- C++ -*- $Id$ */
+/* -*- C++ -*- $Id$ */
 
 // ******  Code generated by the The ACE ORB (TAO) IDL Compiler *******
 // TAO and the TAO IDL Compiler have been developed by the Center for
@@ -10,7 +10,10 @@
 #ifndef _TAO_IDL_INTERCEPTORC_H_
 #define _TAO_IDL_INTERCEPTORC_H_
 
-#include "tao/corba.h"
+#include "tao/orbconf.h"
+#include "tao/IOPC.h"
+#include "tao/Object.h"
+#include "tao/Environment.h"
 
 #if defined (ACE_HAS_MINIMUM_IOSTREAMH_INCLUSION)
 #include "ace/streams.h"
@@ -20,9 +23,6 @@
 # pragma once
 #endif /* ACE_LACKS_PRAGMA_ONCE */
 
-#include "CORBAC.h"
-#include "IOPC.h"
-
 #if defined (TAO_EXPORT_MACRO)
 #undef TAO_EXPORT_MACRO
 #endif
@@ -42,6 +42,7 @@
 #pragma warning(disable:4250)
 #endif /* _MSC_VER */
 
+#if (TAO_HAS_INTERCEPTORS == 1)
 TAO_NAMESPACE  PortableInterceptor
 {
 
@@ -737,6 +738,8 @@
 #if defined (__ACE_INLINE__)
 #include "InterceptorC.i"
 #endif /* defined INLINE */
+
+#endif /* TAO_HAS_INTERCEPTORS == 1 */
 
 #if defined(_MSC_VER) && (_MSC_VER >= 1200)
 #pragma warning(pop)
