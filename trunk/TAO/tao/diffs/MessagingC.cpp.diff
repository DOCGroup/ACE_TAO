--- orig/MessagingC.cpp	Tue Apr 17 22:53:18 2001
+++ MessagingC.cpp	Tue Apr 17 23:04:19 2001
@@ -1,6 +1,6 @@
 // -*- C++ -*-
 //
-// $Id$
+// $Id$
 
 // ****  Code generated by the The ACE ORB (TAO) IDL Compiler ****
 // TAO and the TAO IDL Compiler have been developed by:
@@ -21,6 +21,8 @@
 
 #include "MessagingC.h"
 
+#if (TAO_HAS_CORBA_MESSAGING == 1)
+
 #include "tao/Stub.h"
 #include "tao/Invocation.h"
 #include "tao/ClientRequestInfo.h"
@@ -321,10 +323,14 @@
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::UShort, ORDER_DEADLINE, 8U)
 TAO_NAMESPACE_END
+
+#if (TAO_HAS_REBIND_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REBIND_POLICY_TYPE, 23U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::RebindPolicy_var
 // *************************************************************
@@ -447,7 +453,6 @@
     ACE_static_cast (RebindPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RebindPolicy_out
 // *************************************************************
@@ -588,10 +593,13 @@
   return "IDL:omg.org/Messaging/RebindPolicy:1.0";
 }
 
+#if (TAO_HAS_SYNC_SCOPE_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, SYNC_SCOPE_POLICY_TYPE, 24U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::SyncScopePolicy_var
 // *************************************************************
@@ -606,6 +614,8 @@
   return this->ptr_;
 }
 
+#endif /* TAO_HAS_REBIND_POLICY == 1 */
+
 Messaging::SyncScopePolicy_var::SyncScopePolicy_var (const ::Messaging::SyncScopePolicy_var &p) // copy constructor
   : TAO_Base_var (),
     ptr_ (SyncScopePolicy::_duplicate (p.ptr ()))
@@ -714,7 +724,6 @@
     ACE_static_cast (SyncScopePolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::SyncScopePolicy_out
 // *************************************************************
@@ -774,7 +783,6 @@
   return this->ptr_;
 }
 
-
 // default constructor
 Messaging::SyncScopePolicy::SyncScopePolicy ()
 {
@@ -855,6 +863,10 @@
   return "IDL:omg.org/Messaging/SyncScopePolicy:1.0";
 }
 
+#endif /* TAO_HAS_SYNC_SCOPE_POLICY == 1 */
+
+#if (TAO_HAS_PRIORITY_POLICIES == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REQUEST_PRIORITY_POLICY_TYPE, 25U)
@@ -944,6 +956,7 @@
   delete tmp;
 }
 
+
 // *************************************************************
 // Operations for class Messaging::RequestPriorityPolicy_var
 // *************************************************************
@@ -1066,7 +1079,6 @@
     ACE_static_cast (RequestPriorityPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RequestPriorityPolicy_out
 // *************************************************************
@@ -1211,6 +1223,7 @@
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REPLY_PRIORITY_POLICY_TYPE, 26U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::ReplyPriorityPolicy_var
 // *************************************************************
@@ -1333,7 +1346,6 @@
     ACE_static_cast (ReplyPriorityPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::ReplyPriorityPolicy_out
 // *************************************************************
@@ -1474,10 +1486,15 @@
   return "IDL:omg.org/Messaging/ReplyPriorityPolicy:1.0";
 }
 
+#endif /* TAO_HAS_PRIORITY_POLICIES == 1 */
+
+#if (TAO_HAS_REQUEST_START_TIME_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REQUEST_START_TIME_POLICY_TYPE, 27U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::RequestStartTimePolicy_var
 // *************************************************************
@@ -1600,7 +1617,6 @@
     ACE_static_cast (RequestStartTimePolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RequestStartTimePolicy_out
 // *************************************************************
@@ -1741,10 +1757,15 @@
   return "IDL:omg.org/Messaging/RequestStartTimePolicy:1.0";
 }
 
+#endif /* TAO_HAS_REQUEST_START_TIME_POLICY == 1 */
+
+#if (TAO_HAS_REQUEST_END_TIME_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REQUEST_END_TIME_POLICY_TYPE, 28U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::RequestEndTimePolicy_var
 // *************************************************************
@@ -1867,7 +1888,6 @@
     ACE_static_cast (RequestEndTimePolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RequestEndTimePolicy_out
 // *************************************************************
@@ -2008,10 +2028,15 @@
   return "IDL:omg.org/Messaging/RequestEndTimePolicy:1.0";
 }
 
+#endif /* TAO_HAS_REQUEST_END_TIME_POLICY == 1 */
+
+#if (TAO_HAS_REPLY_START_TIME_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REPLY_START_TIME_POLICY_TYPE, 29U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::ReplyStartTimePolicy_var
 // *************************************************************
@@ -2134,7 +2159,6 @@
     ACE_static_cast (ReplyStartTimePolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::ReplyStartTimePolicy_out
 // *************************************************************
@@ -2275,10 +2299,15 @@
   return "IDL:omg.org/Messaging/ReplyStartTimePolicy:1.0";
 }
 
+#endif /* TAO_HAS_REPLY_START_TIME_POLICY == 1 */
+
+#if (TAO_HAS_REPLY_END_TIME_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, REPLY_END_TIME_POLICY_TYPE, 30U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::ReplyEndTimePolicy_var
 // *************************************************************
@@ -2401,7 +2430,6 @@
     ACE_static_cast (ReplyEndTimePolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::ReplyEndTimePolicy_out
 // *************************************************************
@@ -2542,10 +2570,15 @@
   return "IDL:omg.org/Messaging/ReplyEndTimePolicy:1.0";
 }
 
+#endif /* TAO_HAS_REPLY_END_TIME_POLICY == 1 */
+
+#if (TAO_HAS_RELATIVE_REQUEST_TIMEOUT_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, RELATIVE_REQ_TIMEOUT_POLICY_TYPE, 31U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::RelativeRequestTimeoutPolicy_var
 // *************************************************************
@@ -2668,7 +2701,6 @@
     ACE_static_cast (RelativeRequestTimeoutPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RelativeRequestTimeoutPolicy_out
 // *************************************************************
@@ -2809,10 +2841,15 @@
   return "IDL:omg.org/Messaging/RelativeRequestTimeoutPolicy:1.0";
 }
 
+#endif /* TAO_HAS_RELATIVE_REQUEST_TIMEOUT_POLICY == 1 */
+
+#if (TAO_HAS_RELATIVE_ROUNDTRIP_TIMEOUT_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, RELATIVE_RT_TIMEOUT_POLICY_TYPE, 32U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::RelativeRoundtripTimeoutPolicy_var
 // *************************************************************
@@ -2935,7 +2972,6 @@
     ACE_static_cast (RelativeRoundtripTimeoutPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RelativeRoundtripTimeoutPolicy_out
 // *************************************************************
@@ -3076,6 +3112,10 @@
   return "IDL:omg.org/Messaging/RelativeRoundtripTimeoutPolicy:1.0";
 }
 
+#endif /* TAO_HAS_RELATIVE_ROUNDTRIP_TIMEOUT_POLICY == 1 */
+
+#if (TAO_HAS_ROUTING_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, ROUTING_POLICY_TYPE, 33U)
@@ -3169,6 +3209,7 @@
   delete tmp;
 }
 
+
 // *************************************************************
 // Operations for class Messaging::RoutingPolicy_var
 // *************************************************************
@@ -3291,7 +3332,6 @@
     ACE_static_cast (RoutingPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::RoutingPolicy_out
 // *************************************************************
@@ -3432,10 +3472,15 @@
   return "IDL:omg.org/Messaging/RoutingPolicy:1.0";
 }
 
+#endif /* TAO_HAS_ROUTING_POLICY == 1 */
+
+#if (TAO_HAS_MAX_HOPS_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, MAX_HOPS_POLICY_TYPE, 34U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::MaxHopsPolicy_var
 // *************************************************************
@@ -3558,7 +3603,6 @@
     ACE_static_cast (MaxHopsPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::MaxHopsPolicy_out
 // *************************************************************
@@ -3699,10 +3743,15 @@
   return "IDL:omg.org/Messaging/MaxHopsPolicy:1.0";
 }
 
+#endif /* TAO_HAS_MAX_HOPS_POLICY == 1 */
+
+#if (TAO_HAS_QUEUE_ORDER_POLICY == 1)
+
 TAO_NAMESPACE_TYPE (const CORBA::ULong)
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, QUEUE_ORDER_POLICY_TYPE, 35U)
 TAO_NAMESPACE_END
+
 // *************************************************************
 // Operations for class Messaging::QueueOrderPolicy_var
 // *************************************************************
@@ -3825,7 +3874,6 @@
     ACE_static_cast (QueueOrderPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::QueueOrderPolicy_out
 // *************************************************************
@@ -3966,6 +4014,8 @@
   return "IDL:omg.org/Messaging/QueueOrderPolicy:1.0";
 }
 
+#endif /* TAO_HAS_QUEUE_ORDER_POLICY == 1 */
+
 static const CORBA::Long _oc_Messaging_PolicyValue[] =
 {
   TAO_ENCAP_BYTE_ORDER, // byte order
@@ -4284,6 +4334,9 @@
 TAO_NAMESPACE_BEGIN (Messaging)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, INVOCATION_POLICIES, 2U)
 TAO_NAMESPACE_END
+
+#if (TAO_HAS_AMI_CALLBACK == 1) || (TAO_HAS_AMI_POLLER == 1)
+
 Messaging::ExceptionHolder* Messaging::ExceptionHolder::_downcast (CORBA::ValueBase* v)
 {
   if (v == 0) return 0;
@@ -4357,6 +4410,7 @@
 
 #endif /* end #if !defined */
 
+
 // *************************************************************
 // Operations for class Messaging::ReplyHandler_var
 // *************************************************************
@@ -4479,7 +4533,6 @@
     ACE_static_cast (ReplyHandler **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class Messaging::ReplyHandler_out
 // *************************************************************
@@ -4774,6 +4827,11 @@
 TAO_NAMESPACE_DEFINE (CORBA::TypeCode_ptr, _tc_ReplyHandler, &_tc_TAO_tc_Messaging_ReplyHandler)
 TAO_NAMESPACE_END
 
+
+#endif /* TAO_HAS_AMI_CALLBACK == 1 || TAO_HAS_AMI_POLLER == 1 */
+
+#if (TAO_HAS_AMI_CALLBACK == 1)
+
 CORBA::Boolean 
 OBV_Messaging::ExceptionHolder::_tao_marshal__Messaging_ExceptionHolder (TAO_OutputCDR &strm){
   return _tao_marshal_state (strm);
@@ -4894,6 +4952,9 @@
   #  pragma instantiate TAO_Object_Manager<Messaging::SyncScopePolicy,Messaging::SyncScopePolicy_var>
 #endif /* ACE_HAS_EXPLICIT_TEMPLATE_INSTANTIATION */
 
+#endif /* TAO_HAS_AMI_CALLBACK == 1 */
+
+
 void operator<<= (CORBA::Any &_tao_any, const Messaging::PriorityRange &_tao_elem) // copying
 {
   TAO_OutputCDR stream;
@@ -5311,6 +5372,8 @@
   return 0;
 }
 
+#if (TAO_HAS_AMI_CALLBACK == 1) || (TAO_HAS_AMI_POLLER == 1)
+
 void operator<<= (CORBA::Any &_tao_any, Messaging::ReplyHandler_ptr _tao_elem)
 {
   TAO_OutputCDR stream;
@@ -5373,6 +5436,9 @@
 #endif /* ACE_HAS_EXPLICIT_TEMPLATE_INSTANTIATION */
 
 
+
+#endif /* TAO_HAS_AMI_CALLBACK == 1 || TAO_HAS_AMI_POLLER == 1 */
+
 #if !defined _TAO_CDR_OP_Messaging_PolicyValue__tao_seq_Octet_CPP_
 #define _TAO_CDR_OP_Messaging_PolicyValue__tao_seq_Octet_CPP_
 
@@ -5519,3 +5585,4 @@
   return 0;
 }
 
+#endif /* TAO_HAS_CORBA_MESSAGING == 1 */
