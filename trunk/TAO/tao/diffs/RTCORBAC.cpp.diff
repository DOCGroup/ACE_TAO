--- orig/RTCORBAC.cpp	Wed Apr 25 00:17:43 2001
+++ RTCORBAC.cpp	Tue Apr 24 13:44:42 2001
@@ -1,6 +1,6 @@
 // -*- C++ -*-
 //
-// $Id$
+// $Id$
 
 // ****  Code generated by the The ACE ORB (TAO) IDL Compiler ****
 // TAO and the TAO IDL Compiler have been developed by:
@@ -23,7 +23,12 @@
 
 #include "tao/Stub.h"
 #include "tao/Invocation.h"
-#include "tao/ClientRequestInfo.h"
+
+#if (TAO_HAS_RT_CORBA == 1)
+
+#include "tao/TAOS.h"
+#include "tao/Typecode.h"
+
 #if TAO_HAS_INTERCEPTORS == 1
 #include "tao/RequestInfo_Util.h"
 #endif  /* TAO_HAS_INTERCEPTORS == 1 */
@@ -475,48 +480,6 @@
 TAO_NAMESPACE_DEFINE (CORBA::TypeCode_ptr, _tc_PriorityModel, &_tc_TAO_tc_RTCORBA_PriorityModel)
 TAO_NAMESPACE_END
 
-RTCORBA::PriorityModelPolicy_ptr
-tao_RTCORBA_PriorityModelPolicy_duplicate (
-    RTCORBA::PriorityModelPolicy_ptr p
-  )
-{
-  return RTCORBA::PriorityModelPolicy::_duplicate (p);
-}
-
-void
-tao_RTCORBA_PriorityModelPolicy_release (
-    RTCORBA::PriorityModelPolicy_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::PriorityModelPolicy_ptr
-tao_RTCORBA_PriorityModelPolicy_nil (
-    void
-  )
-{
-  return RTCORBA::PriorityModelPolicy::_nil ();
-}
-
-RTCORBA::PriorityModelPolicy_ptr
-tao_RTCORBA_PriorityModelPolicy_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::PriorityModelPolicy::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_PriorityModelPolicy_upcast (
-    void *src
-  )
-{
-  RTCORBA::PriorityModelPolicy **tmp =
-    ACE_static_cast (RTCORBA::PriorityModelPolicy **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::PriorityModelPolicy_var
@@ -640,7 +603,6 @@
     ACE_static_cast (PriorityModelPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::PriorityModelPolicy_out
 // *************************************************************
@@ -785,48 +747,6 @@
 TAO_NAMESPACE_BEGIN (RTCORBA)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, THREADPOOL_POLICY_TYPE, 41U)
 TAO_NAMESPACE_END
-RTCORBA::ThreadpoolPolicy_ptr
-tao_RTCORBA_ThreadpoolPolicy_duplicate (
-    RTCORBA::ThreadpoolPolicy_ptr p
-  )
-{
-  return RTCORBA::ThreadpoolPolicy::_duplicate (p);
-}
-
-void
-tao_RTCORBA_ThreadpoolPolicy_release (
-    RTCORBA::ThreadpoolPolicy_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::ThreadpoolPolicy_ptr
-tao_RTCORBA_ThreadpoolPolicy_nil (
-    void
-  )
-{
-  return RTCORBA::ThreadpoolPolicy::_nil ();
-}
-
-RTCORBA::ThreadpoolPolicy_ptr
-tao_RTCORBA_ThreadpoolPolicy_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::ThreadpoolPolicy::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_ThreadpoolPolicy_upcast (
-    void *src
-  )
-{
-  RTCORBA::ThreadpoolPolicy **tmp =
-    ACE_static_cast (RTCORBA::ThreadpoolPolicy **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::ThreadpoolPolicy_var
@@ -950,7 +870,6 @@
     ACE_static_cast (ThreadpoolPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::ThreadpoolPolicy_out
 // *************************************************************
@@ -1091,48 +1010,6 @@
   return "IDL:omg.org/RTCORBA/ThreadpoolPolicy:1.0";
 }
 
-RTCORBA::ProtocolProperties_ptr
-tao_RTCORBA_ProtocolProperties_duplicate (
-    RTCORBA::ProtocolProperties_ptr p
-  )
-{
-  return RTCORBA::ProtocolProperties::_duplicate (p);
-}
-
-void
-tao_RTCORBA_ProtocolProperties_release (
-    RTCORBA::ProtocolProperties_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::ProtocolProperties_ptr
-tao_RTCORBA_ProtocolProperties_nil (
-    void
-  )
-{
-  return RTCORBA::ProtocolProperties::_nil ();
-}
-
-RTCORBA::ProtocolProperties_ptr
-tao_RTCORBA_ProtocolProperties_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::ProtocolProperties::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_ProtocolProperties_upcast (
-    void *src
-  )
-{
-  RTCORBA::ProtocolProperties **tmp =
-    ACE_static_cast (RTCORBA::ProtocolProperties **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::ProtocolProperties_var
@@ -1256,7 +1133,6 @@
     ACE_static_cast (ProtocolProperties **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::ProtocolProperties_out
 // *************************************************************
@@ -1485,48 +1361,6 @@
 TAO_NAMESPACE_BEGIN (RTCORBA)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, SERVER_PROTOCOL_POLICY_TYPE, 42U)
 TAO_NAMESPACE_END
-RTCORBA::ServerProtocolPolicy_ptr
-tao_RTCORBA_ServerProtocolPolicy_duplicate (
-    RTCORBA::ServerProtocolPolicy_ptr p
-  )
-{
-  return RTCORBA::ServerProtocolPolicy::_duplicate (p);
-}
-
-void
-tao_RTCORBA_ServerProtocolPolicy_release (
-    RTCORBA::ServerProtocolPolicy_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::ServerProtocolPolicy_ptr
-tao_RTCORBA_ServerProtocolPolicy_nil (
-    void
-  )
-{
-  return RTCORBA::ServerProtocolPolicy::_nil ();
-}
-
-RTCORBA::ServerProtocolPolicy_ptr
-tao_RTCORBA_ServerProtocolPolicy_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::ServerProtocolPolicy::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_ServerProtocolPolicy_upcast (
-    void *src
-  )
-{
-  RTCORBA::ServerProtocolPolicy **tmp =
-    ACE_static_cast (RTCORBA::ServerProtocolPolicy **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::ServerProtocolPolicy_var
@@ -1650,7 +1484,6 @@
     ACE_static_cast (ServerProtocolPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::ServerProtocolPolicy_out
 // *************************************************************
@@ -1795,48 +1628,6 @@
 TAO_NAMESPACE_BEGIN (RTCORBA)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, CLIENT_PROTOCOL_POLICY_TYPE, 43U)
 TAO_NAMESPACE_END
-RTCORBA::ClientProtocolPolicy_ptr
-tao_RTCORBA_ClientProtocolPolicy_duplicate (
-    RTCORBA::ClientProtocolPolicy_ptr p
-  )
-{
-  return RTCORBA::ClientProtocolPolicy::_duplicate (p);
-}
-
-void
-tao_RTCORBA_ClientProtocolPolicy_release (
-    RTCORBA::ClientProtocolPolicy_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::ClientProtocolPolicy_ptr
-tao_RTCORBA_ClientProtocolPolicy_nil (
-    void
-  )
-{
-  return RTCORBA::ClientProtocolPolicy::_nil ();
-}
-
-RTCORBA::ClientProtocolPolicy_ptr
-tao_RTCORBA_ClientProtocolPolicy_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::ClientProtocolPolicy::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_ClientProtocolPolicy_upcast (
-    void *src
-  )
-{
-  RTCORBA::ClientProtocolPolicy **tmp =
-    ACE_static_cast (RTCORBA::ClientProtocolPolicy **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::ClientProtocolPolicy_var
@@ -1960,7 +1751,6 @@
     ACE_static_cast (ClientProtocolPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::ClientProtocolPolicy_out
 // *************************************************************
@@ -2105,48 +1895,6 @@
 TAO_NAMESPACE_BEGIN (RTCORBA)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, PRIVATE_CONNECTION_POLICY_TYPE, 44U)
 TAO_NAMESPACE_END
-RTCORBA::PrivateConnectionPolicy_ptr
-tao_RTCORBA_PrivateConnectionPolicy_duplicate (
-    RTCORBA::PrivateConnectionPolicy_ptr p
-  )
-{
-  return RTCORBA::PrivateConnectionPolicy::_duplicate (p);
-}
-
-void
-tao_RTCORBA_PrivateConnectionPolicy_release (
-    RTCORBA::PrivateConnectionPolicy_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::PrivateConnectionPolicy_ptr
-tao_RTCORBA_PrivateConnectionPolicy_nil (
-    void
-  )
-{
-  return RTCORBA::PrivateConnectionPolicy::_nil ();
-}
-
-RTCORBA::PrivateConnectionPolicy_ptr
-tao_RTCORBA_PrivateConnectionPolicy_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::PrivateConnectionPolicy::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_PrivateConnectionPolicy_upcast (
-    void *src
-  )
-{
-  RTCORBA::PrivateConnectionPolicy **tmp =
-    ACE_static_cast (RTCORBA::PrivateConnectionPolicy **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::PrivateConnectionPolicy_var
@@ -2270,7 +2018,6 @@
     ACE_static_cast (PrivateConnectionPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::PrivateConnectionPolicy_out
 // *************************************************************
@@ -2411,49 +2158,6 @@
   return "IDL:omg.org/RTCORBA/PrivateConnectionPolicy:1.0";
 }
 
-RTCORBA::TCPProtocolProperties_ptr
-tao_RTCORBA_TCPProtocolProperties_duplicate (
-    RTCORBA::TCPProtocolProperties_ptr p
-  )
-{
-  return RTCORBA::TCPProtocolProperties::_duplicate (p);
-}
-
-void
-tao_RTCORBA_TCPProtocolProperties_release (
-    RTCORBA::TCPProtocolProperties_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::TCPProtocolProperties_ptr
-tao_RTCORBA_TCPProtocolProperties_nil (
-    void
-  )
-{
-  return RTCORBA::TCPProtocolProperties::_nil ();
-}
-
-RTCORBA::TCPProtocolProperties_ptr
-tao_RTCORBA_TCPProtocolProperties_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::TCPProtocolProperties::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_TCPProtocolProperties_upcast (
-    void *src
-  )
-{
-  RTCORBA::TCPProtocolProperties **tmp =
-    ACE_static_cast (RTCORBA::TCPProtocolProperties **, src);
-  return *tmp;
-}
-
 // *************************************************************
 // Operations for class RTCORBA::TCPProtocolProperties_var
 // *************************************************************
@@ -2576,7 +2280,6 @@
     ACE_static_cast (TCPProtocolProperties **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::TCPProtocolProperties_out
 // *************************************************************
@@ -2637,6 +2340,21 @@
 }
 
 
+//////////////////////////////////////////////////////
+// CDR Encoding Support
+
+CORBA::Boolean
+RTCORBA::ProtocolProperties::_tao_encode (TAO_OutputCDR &)
+{
+  return 1;
+}
+
+CORBA::Boolean
+RTCORBA::ProtocolProperties::_tao_decode (TAO_InputCDR &)
+{
+  return 1;
+}
+
 // default constructor
 RTCORBA::TCPProtocolProperties::TCPProtocolProperties ()
 {
@@ -2717,48 +2435,6 @@
   return "IDL:omg.org/RTCORBA/TCPProtocolProperties:1.0";
 }
 
-RTCORBA::GIOPProtocolProperties_ptr
-tao_RTCORBA_GIOPProtocolProperties_duplicate (
-    RTCORBA::GIOPProtocolProperties_ptr p
-  )
-{
-  return RTCORBA::GIOPProtocolProperties::_duplicate (p);
-}
-
-void
-tao_RTCORBA_GIOPProtocolProperties_release (
-    RTCORBA::GIOPProtocolProperties_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::GIOPProtocolProperties_ptr
-tao_RTCORBA_GIOPProtocolProperties_nil (
-    void
-  )
-{
-  return RTCORBA::GIOPProtocolProperties::_nil ();
-}
-
-RTCORBA::GIOPProtocolProperties_ptr
-tao_RTCORBA_GIOPProtocolProperties_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::GIOPProtocolProperties::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_GIOPProtocolProperties_upcast (
-    void *src
-  )
-{
-  RTCORBA::GIOPProtocolProperties **tmp =
-    ACE_static_cast (RTCORBA::GIOPProtocolProperties **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::GIOPProtocolProperties_var
@@ -2882,7 +2558,6 @@
     ACE_static_cast (GIOPProtocolProperties **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::GIOPProtocolProperties_out
 // *************************************************************
@@ -3023,48 +2698,6 @@
   return "IDL:omg.org/RTCORBA/GIOPProtocolProperties:1.0";
 }
 
-RTCORBA::UnixDomainProtocolProperties_ptr
-tao_RTCORBA_UnixDomainProtocolProperties_duplicate (
-    RTCORBA::UnixDomainProtocolProperties_ptr p
-  )
-{
-  return RTCORBA::UnixDomainProtocolProperties::_duplicate (p);
-}
-
-void
-tao_RTCORBA_UnixDomainProtocolProperties_release (
-    RTCORBA::UnixDomainProtocolProperties_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::UnixDomainProtocolProperties_ptr
-tao_RTCORBA_UnixDomainProtocolProperties_nil (
-    void
-  )
-{
-  return RTCORBA::UnixDomainProtocolProperties::_nil ();
-}
-
-RTCORBA::UnixDomainProtocolProperties_ptr
-tao_RTCORBA_UnixDomainProtocolProperties_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::UnixDomainProtocolProperties::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_UnixDomainProtocolProperties_upcast (
-    void *src
-  )
-{
-  RTCORBA::UnixDomainProtocolProperties **tmp =
-    ACE_static_cast (RTCORBA::UnixDomainProtocolProperties **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::UnixDomainProtocolProperties_var
@@ -3188,7 +2821,6 @@
     ACE_static_cast (UnixDomainProtocolProperties **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::UnixDomainProtocolProperties_out
 // *************************************************************
@@ -3329,48 +2961,6 @@
   return "IDL:omg.org/RTCORBA/UnixDomainProtocolProperties:1.0";
 }
 
-RTCORBA::SharedMemoryProtocolProperties_ptr
-tao_RTCORBA_SharedMemoryProtocolProperties_duplicate (
-    RTCORBA::SharedMemoryProtocolProperties_ptr p
-  )
-{
-  return RTCORBA::SharedMemoryProtocolProperties::_duplicate (p);
-}
-
-void
-tao_RTCORBA_SharedMemoryProtocolProperties_release (
-    RTCORBA::SharedMemoryProtocolProperties_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::SharedMemoryProtocolProperties_ptr
-tao_RTCORBA_SharedMemoryProtocolProperties_nil (
-    void
-  )
-{
-  return RTCORBA::SharedMemoryProtocolProperties::_nil ();
-}
-
-RTCORBA::SharedMemoryProtocolProperties_ptr
-tao_RTCORBA_SharedMemoryProtocolProperties_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::SharedMemoryProtocolProperties::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_SharedMemoryProtocolProperties_upcast (
-    void *src
-  )
-{
-  RTCORBA::SharedMemoryProtocolProperties **tmp =
-    ACE_static_cast (RTCORBA::SharedMemoryProtocolProperties **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::SharedMemoryProtocolProperties_var
@@ -3494,7 +3084,6 @@
     ACE_static_cast (SharedMemoryProtocolProperties **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::SharedMemoryProtocolProperties_out
 // *************************************************************
@@ -3926,48 +3515,6 @@
 TAO_NAMESPACE_BEGIN (RTCORBA)
 TAO_NAMESPACE_DEFINE (const CORBA::ULong, PRIORITY_BANDED_CONNECTION_POLICY_TYPE, 45U)
 TAO_NAMESPACE_END
-RTCORBA::PriorityBandedConnectionPolicy_ptr
-tao_RTCORBA_PriorityBandedConnectionPolicy_duplicate (
-    RTCORBA::PriorityBandedConnectionPolicy_ptr p
-  )
-{
-  return RTCORBA::PriorityBandedConnectionPolicy::_duplicate (p);
-}
-
-void
-tao_RTCORBA_PriorityBandedConnectionPolicy_release (
-    RTCORBA::PriorityBandedConnectionPolicy_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::PriorityBandedConnectionPolicy_ptr
-tao_RTCORBA_PriorityBandedConnectionPolicy_nil (
-    void
-  )
-{
-  return RTCORBA::PriorityBandedConnectionPolicy::_nil ();
-}
-
-RTCORBA::PriorityBandedConnectionPolicy_ptr
-tao_RTCORBA_PriorityBandedConnectionPolicy_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::PriorityBandedConnectionPolicy::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_PriorityBandedConnectionPolicy_upcast (
-    void *src
-  )
-{
-  RTCORBA::PriorityBandedConnectionPolicy **tmp =
-    ACE_static_cast (RTCORBA::PriorityBandedConnectionPolicy **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::PriorityBandedConnectionPolicy_var
@@ -4091,7 +3638,6 @@
     ACE_static_cast (PriorityBandedConnectionPolicy **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::PriorityBandedConnectionPolicy_out
 // *************************************************************
@@ -4232,48 +3778,6 @@
   return "IDL:omg.org/RTCORBA/PriorityBandedConnectionPolicy:1.0";
 }
 
-RTCORBA::Current_ptr
-tao_RTCORBA_Current_duplicate (
-    RTCORBA::Current_ptr p
-  )
-{
-  return RTCORBA::Current::_duplicate (p);
-}
-
-void
-tao_RTCORBA_Current_release (
-    RTCORBA::Current_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::Current_ptr
-tao_RTCORBA_Current_nil (
-    void
-  )
-{
-  return RTCORBA::Current::_nil ();
-}
-
-RTCORBA::Current_ptr
-tao_RTCORBA_Current_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::Current::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_Current_upcast (
-    void *src
-  )
-{
-  RTCORBA::Current **tmp =
-    ACE_static_cast (RTCORBA::Current **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::Current_var
@@ -4397,7 +3901,6 @@
     ACE_static_cast (Current **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::Current_out
 // *************************************************************
@@ -4538,48 +4041,6 @@
   return "IDL:omg.org/RTCORBA/Current:1.0";
 }
 
-RTCORBA::Mutex_ptr
-tao_RTCORBA_Mutex_duplicate (
-    RTCORBA::Mutex_ptr p
-  )
-{
-  return RTCORBA::Mutex::_duplicate (p);
-}
-
-void
-tao_RTCORBA_Mutex_release (
-    RTCORBA::Mutex_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::Mutex_ptr
-tao_RTCORBA_Mutex_nil (
-    void
-  )
-{
-  return RTCORBA::Mutex::_nil ();
-}
-
-RTCORBA::Mutex_ptr
-tao_RTCORBA_Mutex_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::Mutex::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_Mutex_upcast (
-    void *src
-  )
-{
-  RTCORBA::Mutex **tmp =
-    ACE_static_cast (RTCORBA::Mutex **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::Mutex_var
@@ -4703,7 +4164,6 @@
     ACE_static_cast (Mutex **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::Mutex_out
 // *************************************************************
@@ -4832,48 +4292,6 @@
   return "IDL:omg.org/RTCORBA/Mutex:1.0";
 }
 
-RTCORBA::RTORB_ptr
-tao_RTCORBA_RTORB_duplicate (
-    RTCORBA::RTORB_ptr p
-  )
-{
-  return RTCORBA::RTORB::_duplicate (p);
-}
-
-void
-tao_RTCORBA_RTORB_release (
-    RTCORBA::RTORB_ptr p
-  )
-{
-  CORBA::release (p);
-}
-
-RTCORBA::RTORB_ptr
-tao_RTCORBA_RTORB_nil (
-    void
-  )
-{
-  return RTCORBA::RTORB::_nil ();
-}
-
-RTCORBA::RTORB_ptr
-tao_RTCORBA_RTORB_narrow (
-    CORBA::Object *p,
-    CORBA::Environment &ACE_TRY_ENV
-  )
-{
-  return RTCORBA::RTORB::_narrow (p, ACE_TRY_ENV);
-}
-
-CORBA::Object *
-tao_RTCORBA_RTORB_upcast (
-    void *src
-  )
-{
-  RTCORBA::RTORB **tmp =
-    ACE_static_cast (RTCORBA::RTORB **, src);
-  return *tmp;
-}
 
 // *************************************************************
 // Operations for class RTCORBA::RTORB_var
@@ -4997,7 +4415,6 @@
     ACE_static_cast (RTORB **, src);
   return *tmp;
 }
-
 // *************************************************************
 // Inline operations for class RTCORBA::RTORB_out
 // *************************************************************
@@ -5221,7 +4638,7 @@
 
 // Narrow.
 RTCORBA::RTORB::InvalidThreadpool *
-RTCORBA::RTORB::InvalidThreadpool::_downcast (CORBA::Exception *exc)
+RTCORBA::RTORB::InvalidThreadpool::_narrow (CORBA::Exception *exc)
 {
   if (!ACE_OS::strcmp ("IDL:omg.org/RTCORBA/RTORB/InvalidThreadpool:1.0", exc->_id ()))
     {
@@ -5779,11 +5196,6 @@
     // If length is 0 we return true.
     if (0 >= _tao_seq_len) 
       return 1;
-    // Add a check to the length of the sequence
-    // to make sure it does not exceed the length
-    // of the stream. (See bug 58.)
-    if (_tao_seq_len > strm.length())
-      return 0;
     // retrieve all the elements
     CORBA::Boolean _tao_marshal_flag = 1;
     for (CORBA::ULong i = 0; i < _tao_sequence.length () && _tao_marshal_flag; i++)
@@ -5826,11 +5238,6 @@
     // If length is 0 we return true.
     if (0 >= _tao_seq_len) 
       return 1;
-    // Add a check to the length of the sequence
-    // to make sure it does not exceed the length
-    // of the stream. (See bug 58.)
-    if (_tao_seq_len > strm.length())
-      return 0;
     // retrieve all the elements
     CORBA::Boolean _tao_marshal_flag = 1;
     for (CORBA::ULong i = 0; i < _tao_sequence.length () && _tao_marshal_flag; i++)
@@ -5842,3 +5249,4 @@
   return 0; // error
 }
 
+#endif /* TAO_HAS_RT_CORBA == 1 */
