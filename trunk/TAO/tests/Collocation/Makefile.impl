#----------------------------------------------------------------------------
#
# $Id$
#
#----------------------------------------------------------------------------

#----------------------------------------------------------------------------
#       Local macros
#----------------------------------------------------------------------------

ifndef TAO_ROOT
  TAO_ROOT = $(ACE_ROOT)/TAO
endif # ! TAO_ROOT
MAKEFILE = Makefile.impl

# On non-Windows environment, we should at least define
# the export_include IDL flag.
TAO_IDLFLAGS += -Wb,skel_export_macro=Diamond_Export \
                -Wb,stub_export_macro=MY_Stub_Export \
                -Wb,skel_export_include=diamond_export.h \
                -Wb,stub_export_include=stub_export.h \
                -Ge 1 -Gd

LDLIBS = -lCollocation_Test_Stub -lTAO_PortableServer -lTAO
ACE_SHLIBS = -lCollocation_Test_Stub -lTAO_PortableServer -lTAO -lACE
SHLIB = libCollocation_Diamond.$(SOEXT)
LIB = libCollocation_Diamond.a

FILES = Diamond_i

IDL_FILES = Diamond
IDL_SRC = DiamondS

SHLIB_SRC = $(IDL_SRC) $(FILES)

LSRC = $(addsuffix .cpp,$(SHLIB_SRC))
LOBJ = $(addsuffix .o,$(SHLIB_SRC))
PSRC = $(addsuffix .cpp,$(BIN))

#----------------------------------------------------------------------------
#       Include macros and targets
#----------------------------------------------------------------------------

include $(ACE_ROOT)/include/makeinclude/wrapper_macros.GNU
include $(ACE_ROOT)/include/makeinclude/macros.GNU
include $(TAO_ROOT)/rules.tao.GNU
include $(ACE_ROOT)/include/makeinclude/rules.common.GNU
include $(ACE_ROOT)/include/makeinclude/rules.nonested.GNU
include $(ACE_ROOT)/include/makeinclude/rules.lib.GNU
#include $(ACE_ROOT)/include/makeinclude/rules.bin.GNU
include $(ACE_ROOT)/include/makeinclude/rules.local.GNU
include $(TAO_ROOT)/taoconfig.mk


.PRECIOUS: DiamondC.h DiamondC.i DiamondC.cpp DiamondS.h DiamondS.i DiamondS.cpp

realclean: clean
	-$(RM) DiamondC.* DiamondS.* DiamondS_T.*

# DO NOT DELETE THIS LINE -- g++dep uses it.
# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.



# IF YOU PUT ANYTHING HERE IT WILL GO AWAY
