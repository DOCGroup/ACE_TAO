// -*- MPC -*-
// $Id$

project(*Main): taoserver, messaging, gen_ostream {
  exename = main
  idlflags += -GC -GH -Gd -GT

  IDL_Files {
    idlflags += -Gos
    array.idl
    Bug_2350_Regression.idl
    Bug_2577_Regression.idl
    Bug_2582_Regression.idl
    Bug_2583_Regression.idl
    Bug_2616_Regression.idl
    Bug_2619_Regression.idl
    enum_in_struct.idl
    full.idl
    fwd.idl
    gperf.idl
    including.idl
    interface.idl
    included.idl
    union.idl
    nested_scope.idl
    params.idl
    reopened_modules.idl
    struct.idl
    reopen_include1.idl
    reopen_include2.idl
    typeprefix.idl
  }

  // We leave the hard-coded -Gos (hard-coded for
  // the other IDL files) off the command line for
  // these files, since they reference IDL types
  // which won't have their own ostream
  // insertion operators generated unless the gen_ostream
  // MPC feature has been turned on by the user, in which
  // case, the gen_ostream base project above will bring
  // in the -Gos option for this file as well.
  IDL_Files {
    sequence.idl
  }
  
  // These files must also lose -Gos by default, but
  // unlike the block above, must get -GA.
  IDL_Files {
    idlflags += -GA
    anonymous.idl
    array_only.idl
  }

  IDL_Files {
    idlflags += -GA -Gos
    valuetype.idl
    constants.idl
    generic_object.idl
    keywords.idl
    pragma.idl
    repo_id_mod.idl
    typedef.idl
    typecode.idl
  }

  Source_Files {
    main.cpp
    *C.cpp
    *S.cpp
    *A.cpp
  }

  Template_Files {
    *S_T.cpp
  }
}
