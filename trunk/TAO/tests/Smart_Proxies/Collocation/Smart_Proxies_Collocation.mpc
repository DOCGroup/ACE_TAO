// -*- MPC -*-
// $Id$

project(*TestStubsLib): taolib_with_idl, smart_proxies {
  sharedname = Coll_Test_Stubs
  dynamicflags += MY_STUB_BUILD_DLL
  idlflags     += -Wb,stub_export_macro=MY_Stub_Export -Wb,stub_export_include=stub_export.h -Wb,skel_export_macro=Diamond_Export -Wb,skel_export_include=diamond_export.h -Gd
  Source_Files {
    DiamondC.cpp
    Smart_Proxy_Impl.cpp
  }
}

project(*DiamondLib) : taolib_with_idl, smart_proxies, portableserver {
  sharedname   = Diamond
  after        += *TestStubsLib
  libs         += Coll_Test_Stubs
  dynamicflags += DIAMOND_BUILD_DLL
  idlflags     += -Wb,stub_export_macro=MY_Stub_Export -Wb,stub_export_include=stub_export.h -Wb,skel_export_macro=Diamond_Export -Wb,skel_export_include=diamond_export.h -Gd
  Source_Files {
    Diamond_i.cpp
    DiamondS.cpp
  }
}

project(*Test): taoexe, smart_proxies, portableserver, strategies {
  after += *TestStubsLib *DiamondLib
  libs  += Coll_Test_Stubs Diamond
  Source_Files {
    Coll_Tester.cpp
    main.cpp
  }
  idl_files {
  }
}

