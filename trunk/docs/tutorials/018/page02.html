<!-- $Id$ -->
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="Author" CONTENT="James CE Johnson">
   <TITLE>ACE Tutorial 018</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#000FFF" VLINK="#FF0F0F">

<CENTER><B><FONT SIZE=+2>ACE Tutorial 018</FONT></B></CENTER>

<CENTER><B><FONT SIZE=+2>The FIFO Nature of ACE_Token</FONT></B></CENTER>

<P>
<HR WIDTH="100%">
Our main() just keeps getting simpler!  I guess that's a good thing.
<P>
What we've done is create two Task-derived objects that test different
locking mechanisms.  The Token object uses ACE_Token and the Mutex
object uses ACE_Mutex.  When you execute the application you should
see quite a difference in thread utilization.  At the end of the
tutorial I've included a link to the output of a typical run of the
application.
<HR>
<PRE>

<font color=red>// $Id$</font>

<font color=red>// Get our two Test derivatives...</font>
<font color=blue>#include</font> "<font color=green>Token_i.h</font>"
<font color=blue>#include</font> "<font color=green>Mutex_i.h</font>"

int main(int,char**)
{
        <font color=red>// See what an ACE_Token does for us.</font>
    Token token;
    token.run();

        <font color=red>// And now the ACE_Mutex.</font>
    Mutex mutex;
    mutex.run();

    return(0);
}
<font color=blue>#if defined</font> (<font color=purple>ACE_HAS_EXPLICIT_TEMPLATE_INSTANTIATION</font>)
template class Test_T &lt;ACE_Mutex>;
template class Test_T &lt;ACE_Token>;
template class ACE_Atomic_Op &lt;ACE_Mutex, int>;
<font color=blue>#elif defined</font> (<font color=purple>ACE_HAS_TEMPLATE_INSTANTIATION_PRAGMA</font>)
<font color=blue>#pragma</font> <font color=purple>instantiate</font> Test_T &lt;ACE_Mutex>
<font color=blue>#pragma</font> <font color=purple>instantiate</font> Test_T &lt;ACE_Token>
<font color=blue>#pragma</font> <font color=purple>instantiate</font> ACE_Atomic_Op &lt;ACE_Mutex, int>
<font color=blue>#endif</font> <font color=red>/* ACE_HAS_EXPLICIT_TEMPLATE_INSTANTIATION */</font>




</PRE>
<P><HR WIDTH="100%">
<CENTER>[<A HREF="../online-tutorials.html">Tutorial Index</A>] [<A HREF="page03.html">Continue This Tutorial</A>]</CENTER>
