// -*- MPC -*-
// $Id$

project(*idl): taoidldefaults, ami {
  IDL_Files {
    Test.idl
  }
  custom_only = 1
}

project(*Server): taoserver, messaging, ami {
  exename = blocking_server
  after += *idl
  Source_Files {
    Manager.cpp
    blocking_server.cpp
  }
  Source_Files {
    TestC.cpp
    TestS.cpp
  }
  IDL_Files {
  }
}

project(*Client): messaging, taoexe, portableserver, ami {
  after += *idl
  after += *Server
  Source_Files {
    Controller.cpp
    blocking_client.cpp
  }
  Source_Files {
    TestC.cpp
    TestS.cpp
  }
  IDL_Files {
  }
}

project(*AMI_Server): taoserver, messaging, ami {
  exename = ami_server
  after += *idl
  after += *Client
  Source_Files {
    AMI_Manager.cpp
    ami_server.cpp
  }
  Source_Files {
    TestC.cpp
    TestS.cpp
  }
  IDL_Files {
  }
}

project(*AMI_Client): messaging, taoexe, portableserver, ami {
  after += *idl
  after += *AMI_Server
  Source_Files {
    Controller.cpp
    Manager_Handler.cpp
    ami_client.cpp
  }
  Source_Files {
    TestC.cpp
    TestS.cpp
  }
  IDL_Files {
  }
}
