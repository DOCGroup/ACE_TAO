# file      : Config/Recursion.post.rules
# author    : Boris Kolpackov <boris@kolpackov.net>
# copyright : Copyright (c) 2002-2003 Boris Kolpackov
# license   : http://kolpackov.net/license.html

.PHONY: $(target_directory_list) $(target_makefile_list)

_submodules:: $(target_directory_list) $(target_makefile_list)

$(target_directory_list):
	$(MAKE) -C $@ $(MAKECMDGOALS)

$(target_makefile_list):
	$(MAKE) --no-print-directory -f $@ $(MAKECMDGOALS)

# These rules keep make from trying to use the match-anything rule below to
# rebuild the makefiles.
#
Makefile : ;
%.mk :: ;
%.rules :: ;


# Anything we don't know how to build will use this rule.  The command is a
# do-nothing command, but the prerequisites ensure that the appropriate
# recursive invocations of make will occur.
#
% :: $(target_directory_list) $(target_makefile_list) ;

