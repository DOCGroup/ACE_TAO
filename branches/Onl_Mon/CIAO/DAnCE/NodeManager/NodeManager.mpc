// -*- MPC -*-
// $Id$

//For static D&C, the NodeManager should be available as a linkable library
project(NodeManager_svnt): ciao_component_dnc, ciao_deployment_svnt, iortable, ifr_client, dance_extension_stub, ciao_server_dnc, ciao_nodeapplicationmanager, ciao_nodemanager_stub {
  sharedname = NodeManager
  dynamicflags = NODEMANAGER_SVNT_BUILD_DLL
  includes += $(CIAO_ROOT)/DAnCE/Deployment $(CIAO_ROOT)/DAnCE/TM_Daemon

  idlflags = -GC


  IDL_Files {
    NM_Monitor.idl
  }

  Source_Files {
    ../Interfaces/NodeManagerDaemonS.cpp
    NodeManager_Impl.cpp
    NAM_Map.cpp
    MonitorController.cpp
    MonitorCB.cpp
    NM_Monitor_Impl.cpp
    $(CIAO_ROOT)/DAnCE/NodeApplication/App_MonitorC.cpp
    $(CIAO_ROOT)/DAnCE/TM_Daemon/Profile_Code.cpp

  }
}

project(NodeManager): ciao_server_dnc, iortable, ifr_client, dance_extension_stub, ciao_nodeapplicationmanager, ciao_targetmanager_stub, ciao_nodemanager_stub, ciaoexe {
  after += NodeManager_svnt
  libs += NodeManager
  exename = NodeManager

  IDL_Files {
  }

  Source_Files {
    Node_Manager.cpp
  }
}

