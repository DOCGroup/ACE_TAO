// $Id$

/**
 * @file EDF_Scheduling.pidl
 *
 * EDF_Scheduling.pidl,v 1.2 2003/10/08 13:26:32 venkita Exp
 *
 * @brief Pre-compiled IDL source to help with the service context
 *        propagation of dynamic scheduling parameters using Kokyu
 *
 *   This file was used to generate the code in EDF_SchedulingC.{h,i,cpp}.
 *   The steps to regenerate the code are as follows:
 *
 *   1. Run the tao_idl compiler on the pidl file.  The command used for
 *   this is:
 *
 *     tao_idl -I $TAO_ROOT -Ge 1 
 *             -Wb,export_macro=Kokyu_DSRT_Schedulers_Export 
 *             -Wb,export_include=Kokyu_dsrt_schedulers_export.h
 *
 *
 *   2. Then apply the patches in EDF_SchedulingC.h.diff to the generated code.
 *   The patch will replace the inclusion of RTCORBAC.h and RTSchedulerC.h 
 *   with RTCORBA.h and RTScheduler.h respectively.
 *
 * Apply patches using the following command:
 *
 *   patch < EDF_SchedulingC.h.diff
 *
 * Note: The diff was generated in the following way:
 *
 *   Run the idl compiler as in step 1.
 *   cp EDF_SchedulingC.h EDF_SchedulingC.h.orig
 *   Modify EDF_SchedulingC.h with changes described in step 2.
 *   diff -wBbu EDF_SchedulingC.h.orig EDF_SchedulingC.h > EDF_SchedulingC.h.diff
 *
 */

#include <tao/RTScheduling/RTScheduler.pidl>
#include <tao/RTCORBA/RTCORBA.pidl>

module EDF_Scheduling
{
  struct SchedulingParameter
  {
    TimeBase::TimeT deadline;
    long importance;
    TimeBase::TimeT period; 
    TimeBase::TimeT remain_exe;
    long task_id;
    long id;
    long pid;
    long long tid;
  };

  local interface SchedulingParameterPolicy
  : CORBA::Policy
  {
    attribute SchedulingParameter value;
  };

  local interface Scheduler : RTScheduling::Scheduler
  {
    SchedulingParameterPolicy
      create_scheduling_parameter
        (in SchedulingParameter value);
  };
};
