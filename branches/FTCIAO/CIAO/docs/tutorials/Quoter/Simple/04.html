<!-- $Id$ -->
<html xmlns="http://www.w3.org/TR/REC-html40">
<head>
<title>Building a Stock Quoter with TAO - A Tutorial</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style>
<!--
@font-face {
font-family:Wingdings;
panose-1:5 0 0 0 0 0 0 0 0 0;
}
h3 {
	font-size:13.5pt;
	font-family:"Times New Roman";
	font-weight:bold;
}
a:link, span.MsoHyperlink {
	color:#000FFF;
	text-decoration:underline;
	text-underline:single;
}
a:visited, span.MsoHyperlinkFollowed {
	color:#FF0F0F;
	text-decoration:underline;
	text-underline:single;
}
p {
	font-size:12.0pt;
	font-family:"Times New Roman";
}
address {
	font-size:12.0pt;
	font-family:"Times New Roman";
	font-style:italic;
}
code {
	font-family:"Courier New";
}
div.Section1 {
	page:Section1
}
-->
</style>
<!-- $Id$ -->
</head>
<body bgcolor="#FFFFFF" lang="EN-US" link="#000fff" vlink="#ff0f0f">
<h3 align="center" style='TEXT-ALIGN:center' class="Section1"><span style='COLOR:black'>Step 6:
  System Deployment</span></h3>
<h3 align="center" style='TEXT-ALIGN:center' class="Section1"><span style='COLOR:black'><img width="432" height="223" id="_x0000_i1025" src="images/step6.jpg"> </span></h3>
<p><span style='COLOR:black'>Now that we have all the
  components and driver programs successfully built, along with the Deploymentplan
  generated by PICML, we will be able to run our application<br>
  <br>
  From different command prompts in </span><code><span style='FONT-SIZE:10pt;
COLOR:black'>%CIAO_ROOT%/docs/tutorials/Quoter/Simple/descriptors</span></code><span style='COLOR:black'> directory: </span></p>
<DIV class="Section1">
  <UL type="disc">
    <li style='COLOR:black;'> Start NodeManagers (NodeDameon) by running:</li>
  </UL>
</DIV>
<P style="COLOR: black;    ">&nbsp;<FONT face="Courier New" size="2">&nbsp;&nbsp;&nbsp;&nbsp; 
  %CIAO_ROOT%/bin/NodeManager -ORBListenendpoints iiop://localhost:30000 -s 
  %CIAO_ROOT%/bin/NodeApplication -d 1000</FONT></P>
<P style="COLOR: black;    "><FONT face="Courier New" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%CIAO_ROOT%/bin/NodeManager 
  -ORBListenendpoints iiop://localhost:40000 -s %CIAO_ROOT%/bin/NodeApplication 
  -d 1000</FONT></P>
<UL type="disc">
  <li style='COLOR:black;'> Start the execution manager:</li>
</UL>
<P style="COLOR: black;    ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  &nbsp;&nbsp;&nbsp; <code> <span style='FONT-SIZE:10pt'>%CIAO_ROOT%/bin/Execution_Manager
  -o ior -i NodeMap.dat</span></code>&nbsp; </P>
<p><span style='COLOR:black'>The </span><code><span style='FONT-SIZE:10pt;
COLOR:black'>NodeMap.dat</span></code><span style='COLOR:black'> file describes
  the deployment daemons CIAO's Execution_Manager will contact to instantiate
  ComponentServer's, home's, and component instances. Each line specify the name
  of a installation "destination" and the corresponding IOR for the
  CIAO_Daemon.</span></p>
<ul type="square">
  <li style='COLOR:black;'> <em>NOTE</em>: As one can see, we use the "NodeMap.dat" file to instruct the 
    Execution_Manager how to find the endpoint of each individual NodeManager 
    (i.e., Node Daemon) where component(s) will be deployed, so this is 
    non-standard. We plan to use Naming Service to do this in the future.</li>
</ul>
<ul type="disc">
  <li style='COLOR:black;'> Start the plan_launcher by running <code> <span style='FONT-SIZE:10pt'>%CIAO_ROOT%/bin/plan_launcher
    -p Plan.cdp -k file://ior</span></code>
  <li style='COLOR:black;'> By now the components should be successfully deployed. You may run the driver 
    program to start the application. e.g. you can try the following
    :
    <UL>
      <LI style="COLOR: black;    "> Instruct the StockDistributor component to start publishing stock quotes:</LI>
    </UL>
  </li>
</ul>
<P style="MARGIN-BOTTOM: 12pt"><span style='COLOR:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span style='FONT-SIZE:10pt;COLOR:black'>%CIAO_ROOT%/docs/tutorials/Quoter/Simple/Distributor/StockDistributorDriver.exe
  -o</span></code></P>
<UL dir="ltr" style="MARGIN-RIGHT: 0px">
  <UL dir="ltr" style="MARGIN-RIGHT: 0px">
    <LI> <span style='COLOR:black'>Instruct the StockBroker 
      to subscirbe to MSFT stock 
      publications: </span></LI>
  </UL>
</UL>
<P><SPAN style="COLOR: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><code><span style='FONT-SIZE:
10pt;COLOR:
black'>%CIAO_ROOT%/docs/tutorials/Quoter/Simple/Broker/StockBrokerDriver.exe
  -s MSFT</span></code></P>
<UL dir="ltr" style="MARGIN-RIGHT: 0px">
  <UL dir="ltr" style="MARGIN-RIGHT: 0px">
    <LI> <CODE> <SPAN style="FONT-SIZE: 10pt; COLOR: black"> <SPAN style="COLOR: black"> <FONT face="Times New Roman"><FONT size="3">Instruct the StockBroker to subscirbe 
      to&nbsp;IBM stock publications</FONT>:</FONT></SPAN> </SPAN></CODE></LI>
  </UL>
</UL>
<P><span style='COLOR:black'> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span style='FONT-SIZE:
10pt;COLOR:
black'>%CIAO_ROOT%/docs/tutorials/Quoter/Simple/Broker/StockBrokerDriver.exe
  -s IBM</span></code></P>
<UL dir="ltr" style="MARGIN-RIGHT: 0px">
  <UL dir="ltr" style="MARGIN-RIGHT: 0px">
    <LI> <CODE> </CODE><span style='COLOR:black'><SPAN style="COLOR: black">Instruct the StockBroker to unsubscirbe to MSFT stock 
      publications:</SPAN> </span></LI>
  </UL>
</UL>
<SPAN style="COLOR: black">
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><code><span style='FONT-SIZE:
10pt;COLOR:
black'>%CIAO_ROOT%/docs/tutorials/Quoter/Simple/Broker/StockBrokerDriver.exe
  -u MSFT</span></code><span style='COLOR:black'></P>
<UL>
  <UL>
    <LI> <SPAN style="COLOR: black"> <SPAN style="COLOR: black">Instruct the 
      StockDistributor component to stop publishing stock 
      quotes:</SPAN></LI>
  </UL>
</UL>
</span>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><code><span style='FONT-SIZE:
10pt;COLOR:
black'>%CIAO_ROOT%/docs/tutorials/Quoter/Simple/Distributor/StockDistributorDriver.exe
  &#8211;f</span></code><code><span style='FONT-SIZE:10pt'> </span></code></P>
<UL>
  <DIV style="MARGIN-BOTTOM: 12pt">
    <LI style="COLOR: black;    "> <FONT color="#ff0000"><EM>NOTE</EM>: Windows uses %VARIABLE% to fetch the values of 
      environment variables. Linux/Unix uses $VARIABLE to fetch the values of 
      environment variables. As such, if you're running this tutorial on Linux/Unix 
      operating system, change the above commands to use $VARIABLE instead of 
      %VARIABLE% when you run the programs.</FONT></SPAN></CODE></LI>
  </DIV>
</UL>
<p align="center" style='TEXT-ALIGN:center'><span style='COLOR:black'><a href="03.html">Previous</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<div align="center" style='TEXT-ALIGN:center'><span style='COLOR:black'>
  <hr size="2" width="100%" align="center">
  </span></div>
<address>
<span style='COLOR:black'><a href="mailto:ming.xiong@vanderbilt.edu">Ming Xiong<br>
</a> </span><a href="mailto:abdullah.sowayan@lmco.com">Abdullah Sowayan</a>
</address>
<P><SPAN style="COLOR: black">$Id$</SPAN></P>
</body>
</html>
