// -*- MPC -*-
// $Id$

project(idl_one_gen): taoidldefaults {
  custom_only = 1

  idlflags += -Wb,export_macro=SKEL_INHERITANCE_Export \
              -Wb,export_include=skel_inheritance_1_export.h \
              -Gxhst

  IDL_Files {
    idl_1.idl
  }
}

project(idl_two_gen): taoidldefaults {
  custom_only = 1

  idlflags += -Wb,export_macro=SKEL_INHERITANCE_Export \
              -Wb,export_include=skel_inheritance_2_export.h \
              -Gxhst

  IDL_Files {
    idl_2.idl
  }
}

project(idl_three_gen): taoidldefaults {
  custom_only = 1

  idlflags += -Wb,export_macro=SKEL_INHERITANCE_Export \
              -Wb,export_include=skel_inheritance_3_export.h \
              -Gxhst

  IDL_Files {
    idl_3.idl
  }
}

project(stub_one): taolib {
  sharedname = stub_one
  after += idl_one_gen

  Source_Files {
    idl_1C.cpp
  }

  Header_Files {
    idl_1C.h
  }
}

project(skel_one): taolib {
  after += idl_one_gen stub_one
  libs += stub_one

  sharedname = skel_one

  Source_Files {
    idl_1S.cpp
  }

  Header_Files {
    idl_1S.h
  }

}


project(stub_two): taolib {
  sharedname = stub_two
  after += idl_two_gen

  Source_Files {
    idl_2C.cpp
  }

  Header_Files {
    idl_2C.h
  }
}

project(skel_two): taolib {
  after += idl_two_gen stub_two
  libs += stub_two

  sharedname = skel_two

  Source_Files {
    idl_2S.cpp
  }

  Header_Files {
    idl_2S.h
  }
}


project(stub_three): taolib {
  sharedname = stub_three
  after += idl_three_gen

  Source_Files {
    idl_3C.cpp
  }

  Header_Files {
    idl_3C.h
  }
}

project(skel_three): taolib {
  after += idl_three_gen stub_three
  libs += stub_three

  sharedname = skel_three

  Source_Files {
    idl_3S.cpp
  }

  Header_Files {
    idl_3S.h
  }
}

project(*Server): taoserver {
  after +=  idl_gen \
            stub_one skel_one \
            stub_two skel_two \
            stub_three skel_three
  libs +=   stub_one skel_one \
            stub_two skel_two \
            stub_three skel_three

  Source_Files {
    interface_1_i.cpp
    interface_2_i.cpp
    interface_3_i.cpp
    server.cpp
  }

  Header_Files {
    interface_1_i.h
    interface_2_i.h
    interface_3_i.h
  }
  IDL_Files {
  }
}

project(*Client): taoclient {
  after +=  idl_gen \
            stub_one \
            stub_two \
            stub_three
  libs +=   stub_one \
            stub_two \
            stub_three

  Source_Files {
    client.cpp
  }

  IDL_Files {
  }
}

