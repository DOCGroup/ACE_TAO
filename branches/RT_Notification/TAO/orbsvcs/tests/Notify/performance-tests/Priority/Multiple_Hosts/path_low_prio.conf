## $Id$

##---- Load the Factories------
dynamic TAO_RT_ORB_Loader Service_Object *TAO_RTCORBA:_make_TAO_RT_ORB_Loader () "-ORBSchedPolicy SCHED_FIFO -ORBScopePolicy PROCESS -ORBPriorityMapping continuous"

dynamic TAO_NS_RT_Application_Command_Factory Service_Object * TAO_RT_NotifyTests:_make_TAO_NS_RT_Application_Command_Factory () ""
##dynamic TAO_NS_Application_Command_Factory Service_Object * TAO_NotifyTests:_make_TAO_NS_Application_Command_Factory () ""

dynamic TAO_NS_EventChannel_Command_Factory Service_Object *TAO_NotifyTests:_make_TAO_NS_EventChannel_Command_Factory () ""

dynamic TAO_NS_SupplierAdmin_Command_Factory Service_Object* TAO_NotifyTests:_make_TAO_NS_SupplierAdmin_Command_Factory () ""

dynamic TAO_NS_Periodic_Supplier_Command_Factory Service_Object* TAO_NotifyTests:_make_TAO_NS_Periodic_Supplier_Command_Factory () ""

dynamic TAO_NS_ConsumerAdmin_Command_Factory Service_Object *TAO_NotifyTests:_make_TAO_NS_ConsumerAdmin_Command_Factory () ""

dynamic TAO_NS_Periodic_Consumer_Command_Factory Service_Object* TAO_NotifyTests:_make_TAO_NS_Periodic_Consumer_Command_Factory () ""

dynamic TAO_NS_RT_POA_Command_Factory Service_Object* TAO_RT_NotifyTests:_make_TAO_NS_RT_POA_Command_Factory () ""


##------- Init the Application Object ----------
static Command_Builder "Application -Init"

### --- Create Supplier Admin 1 ----
static Command_Builder "SupplierAdmin -Create sa_low ec1 -AND_OP"

### --- Create Supplier s_low connected to sa_low -----
static Command_Builder "PeriodicSupplier -Create s_low sa_low -Proxy s_low_proxy -EventType L -Priority 1 -Iter 5000 -Load 100 "

##----------- Create an RT POA to host local consumer objects-----------
static Command_Builder "POA -Create poa_1 -PriorityModel CLIENT 1 -ThreadPoolLanes 2 -Lane 0 1 0 -Lane 1 1 0"

##--------- Consumer Admin 1 -------------
static Command_Builder "ConsumerAdmin -Create ca_low ec1 -AND_OP"

##--------- Consumer 1 , connected to CA 1 --------
static Command_Builder "PeriodicConsumer -Create c_low ca_low -POA poa_1 -Proxy c_low_proxy -MaxCount 5000"
static Command_Builder "PeriodicConsumer -Subscription c_low +L"

##--------- Run -------------
static Command_Builder "Application -WaitToStart"
static Command_Builder "Application -SignalPeer"
static Command_Builder "Application -Run"
static Command_Builder "Application -WaitForEvents"
static Command_Builder "Application -DumpStats"
static Command_Builder "Application -Shutdown"

