<?xml version="1.0"?> <!-- -*- SGML -*-  -->

<!-- If this file is moved to a different directory, make sure to change the
     path to the DTD below. Otherwise the examples won't work. -->
<!DOCTYPE componentassembly SYSTEM "../../../../docs/XML/componentassembly.dtd">

<componentassembly id="A test assembly for RTCCM Priority components.">
  <componentfiles>
    <componentfile id="com-Controller">
      <fileinarchive name="Controller.csd"/>
    </componentfile>
    <componentfile id="com-Worker">
      <fileinarchive name="CB_Worker.csd"/>
    </componentfile>
  </componentfiles>

  <partitioning>

  <!-- A plain vanilla partition.  We don't even need the processcollocation tag here. -->
      <homeplacement id="a_ControllerHome">
        <componentfileref idref="com-Controller"/>
        <componentinstantiation id="a_Controller">
          <registercomponent>
            <!-- writeiortofile is a non-standard CIAO extension.  -->
            <writeiortofile name="controller.ior"/>
          </registercomponent>
        </componentinstantiation>
      </homeplacement>

      <homeplacement id="a_WorkerHome">
        <componentfileref idref="com-Worker"/>
        <componentinstantiation id="a_Worker"/>
      </homeplacement>

  </partitioning>

  <connections>

    <connectinterface>
      <usesport>
        <usesidentifier>worker</usesidentifier>
        <componentinstantiationref idref="a_Controller"/>
      </usesport>
      <providesport>
        <providesidentifier>some_device</providesidentifier>
        <componentinstantiationref idref="a_Worker"/>
      </providesport>
    </connectinterface>

  </connections>

</componentassembly>
