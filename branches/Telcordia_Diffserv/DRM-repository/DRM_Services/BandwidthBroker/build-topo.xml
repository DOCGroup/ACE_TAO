<!--
 Copyright 2003 Sun Microsystems, Inc. All rights reserved.
-->
<!--$Id$-->
<project basedir="." default="compile">
   
    <path id="topopath">
        <!-- <fileset dir="${jwsdp_dir}/jwsdp-shared/lib" includes="*.jar"/> -->
        <!-- <fileset dir="${jwsdp_dir}/jaxb/lib" includes="*.jar"/> -->
        <fileset dir="${lib}/${jwsdp_lib}" includes="*.jar"/>
	<pathelement path=".:${classdir}:${lib_classpath}:${java.class.path}"/>
    </path>

    <taskdef name="xjc" classname="com.sun.tools.xjc.XJCTask">
        <classpath refid="topopath" />
    </taskdef>
 
    <!-- compile Java source files -->
    <target name="compile">
    
        <!-- generate the Java content classes from the schema -->
        <echo message="Compiling the schema external binding file..."/>
      <xjc schema="networkTopology.xsd" binding="nt.xjb" target="${src}"/> 

        <!-- compile all of the java sources -->
        <echo message="Compiling the java source files..."/>
        <javac srcdir="${src}" destdir="${classdir}" includes="mil/darpa/arms/mlrm/BandwidthBroker/topologyDB/**" debug="on">
	   <classpath refid="topopath"/>
        </javac>
	
     <!-- copy the jaxb.properties generated with every generation using JAXB -->
       <copy file="${src}/${topoSrc}/generated/jaxb.properties" todir="${classdir}/${topoSrc}/generated"/>
      <jar jarfile="${build}/topologydb.jar"
       basedir="${classdir}"
       includes="${topoSrc}/**"
       excludes=""
      />
     
    </target>
  
</project>




