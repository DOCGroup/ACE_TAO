--- lex.yy.cpp.orig	2005-07-07 11:05:08.066403000 -0700
+++ lex.yy.cpp	2005-07-07 10:51:41.804932200 -0700
@@ -1058,7 +1058,7 @@
 TAO_YY_DECL
         {
         register tao_yy_state_type tao_yy_current_state;
-        register char *tao_yy_cp, *tao_yy_bp;
+        register char *tao_yy_cp = 0, *tao_yy_bp = 0;
         register int tao_yy_act;
 
 
@@ -1591,42 +1591,42 @@
                   idl_global->set_lineno(idl_global->lineno() + 1);
                   idl_store_pragma(ace_tao_yytext);
                 }
-        TAO_YY_BREAK
+        break;
 case 87:
 case 88:
 TAO_YY_RULE_SETUP
 {/* ignore file */
                   idl_global->set_lineno(idl_global->lineno() + 1);
                 }
-        TAO_YY_BREAK
+        break;
 case 89:
 case 90:
 TAO_YY_RULE_SETUP
 {
                   idl_parse_line_and_file(ace_tao_yytext);
                 }
-        TAO_YY_BREAK
+        break;
 case 91:
 case 92:
 TAO_YY_RULE_SETUP
 {
                   idl_parse_line_and_file(ace_tao_yytext);
                 }
-        TAO_YY_BREAK
+        break;
 case 93:
 case 94:
 TAO_YY_RULE_SETUP
 {
                   idl_parse_line_and_file(ace_tao_yytext);
                 }
-        TAO_YY_BREAK
+        break;
 case 95:
 case 96:
 TAO_YY_RULE_SETUP
 {
                   idl_parse_line_and_file(ace_tao_yytext);
                 }
-        TAO_YY_BREAK
+        break;
 case 97:
 case 98:
 TAO_YY_RULE_SETUP
@@ -1634,14 +1634,14 @@
                   /* ignore cpp ident */
                   idl_global->set_lineno(idl_global->lineno() + 1);
                 }
-        TAO_YY_BREAK
+        break;
 case 99:
 TAO_YY_RULE_SETUP
 {
                   /* ignore comments */
                   idl_global->set_lineno(idl_global->lineno() + 1);
                 }
-        TAO_YY_BREAK
+        break;
 case 100:
 TAO_YY_RULE_SETUP
 {
@@ -1658,17 +1658,17 @@
                     }
                   }
                 }
-        TAO_YY_BREAK
+        break;
 case 101:
 TAO_YY_RULE_SETUP
 ;
-        TAO_YY_BREAK
+        break;
 case 102:
 TAO_YY_RULE_SETUP
 {
                   idl_global->set_lineno(idl_global->lineno() + 1);
                 }
-        TAO_YY_BREAK
+        break;
 case 103:
 TAO_YY_RULE_SETUP
 return ace_tao_yytext [0];
@@ -1676,7 +1676,7 @@
 case 104:
 TAO_YY_RULE_SETUP
 TAO_YY_ECHO;
-        TAO_YY_BREAK
+        break;
 case TAO_YY_STATE_EOF(INITIAL):
         tao_yyterminate();
 
@@ -2059,6 +2059,7 @@
 #endif        /* ifndef TAO_YY_NO_UNPUT */
 
 
+#ifndef TAO_YY_NO_INPUT
 #ifdef __cplusplus
 static int tao_yyinput()
 #else
@@ -2131,7 +2132,7 @@
 
         return c;
         }
-
+#endif /* TAO_YY_NO_INPUT */
 
 #ifdef TAO_YY_USE_PROTOS
 void tao_yyrestart( FILE *input_file )
@@ -2242,11 +2243,6 @@
         }
 
 
-#ifndef TAO_YY_ALWAYS_INTERACTIVE
-#ifndef TAO_YY_NEVER_INTERACTIVE
-extern int isatty TAO_YY_PROTO(( int ));
-#endif
-#endif
 
 #ifdef TAO_YY_USE_PROTOS
 void tao_yy_init_buffer( TAO_YY_BUFFER_STATE b, FILE *file )
