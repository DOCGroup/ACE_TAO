// -*- MPC -*-
// $Id$

project(RTCosScheduling_Server): rtcosscheduling, rt_server, orbsvcsexe, interceptors {
  after    += commonlib
  libs     += testSched_Common
  libpaths += .
  exename   = server

  Source_Files {
    Object1_i.cpp
    server.cpp
  }
  IDL_Files {
  }
}

project(RTCosScheduling_Client): rtcosscheduling, rt_client, orbsvcsexe {
  after    += commonlib
  after    += RTCosScheduling_Server
  libs     += testSched_Common
  libpaths += .
  exename   = client

  Source_Files {
    client.cpp
  }
  IDL_Files {
  }
}

project(commonlib): rtcosscheduling, orbsvcslib {
  requires     += interceptors
  sharedname    = testSched_Common
  idlflags     +=  -Wb,export_macro=testSched_Export \
                   -Wb,export_include=testSched_export.h

  dynamicflags += TESTSCHED_BUILD_DLL
  tagchecks    += testSched_Common

  IDL_Files {
    testSched.idl
  }
  Source_Files {
    testSchedC.cpp
    testSchedS.cpp
  }
}
